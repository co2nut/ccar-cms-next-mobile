{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { CloseOutlined } from '@ant-design/icons';\nimport { Card, Col, Empty, Form, Icon, Input, Modal, Row } from 'antd';\nimport _ from 'lodash';\nimport { withRouter } from 'next/dist/client/router';\nimport React, { useEffect, useState } from 'react';\nimport Highlighter from 'react-highlight-words';\nimport { connect } from 'react-redux';\nimport { formatNumber, isValidNumber, notEmptyLength } from '../../../common-function';\nimport { drivenWheelList } from '../../../params/drivenWheelList';\nconst drivenwheelModalSearchRef = React.createRef();\n\nconst DrivenWheelModal = props => {\n  const {\n    0: options,\n    1: setOptions\n  } = useState([]);\n  const {\n    0: searchKeyword,\n    1: setSearchKeyword\n  } = useState('');\n  const {\n    0: filteredOptions,\n    1: setFilteredOptions\n  } = useState([]);\n  useEffect(() => {\n    if (props.options != null && _.isArray(props.options)) {\n      let data = _.compact(_.map(drivenWheelList, function (drivenWheel) {\n        let selectedOption = _.find(props.options, function (item) {\n          return _.toLower(item.value) == _.toLower(drivenWheel.value);\n        });\n\n        if (selectedOption) {\n          drivenWheel.count = selectedOption.count;\n          return drivenWheel;\n        } else {\n          return null;\n        }\n      }));\n\n      setOptions(data);\n    } else {\n      setOptions([]);\n    }\n  }, [props.options]);\n  useEffect(() => {\n    if (props.visible == true && drivenwheelModalSearchRef.current) {\n      drivenwheelModalSearchRef.current.focus();\n    }\n\n    if (!props.visible) {\n      setSearchKeyword('');\n    }\n  }, [props.visible, drivenwheelModalSearchRef.current]);\n  useEffect(() => {\n    if (_.isArray(options) && notEmptyLength(options)) {\n      let data = _.filter(options, function (option) {\n        if (searchKeyword) {\n          let keyword = new RegExp(searchKeyword, 'i');\n          return keyword.test(option.value) && option.count > 0;\n        } else {\n          return true;\n        }\n      });\n\n      setFilteredOptions(data);\n    } else {\n      setFilteredOptions([]);\n    }\n  }, [options, searchKeyword]);\n\n  const selectedValue = (item, alphaIndex, index) => {\n    if (props.onChange) {\n      props.onChange(item, alphaIndex, index);\n    }\n  };\n\n  return __jsx(React.Fragment, null, __jsx(Modal, {\n    closable: props.closable != null ? props.closable ? true : false : false,\n    maskClosable: props.maskClosable != null ? props.maskClosable ? true : false : false,\n    visible: props.visible != null ? props.visible ? true : false : false,\n    style: _objectSpread({}, props.style),\n    onCancel: props.onCancel,\n    className: `${props.className ? props.className : ''}`,\n    width: props.width ? props.width : '100%',\n    id: props.id ? props.id : 'driven-wheel-modal',\n    zIndex: isValidNumber(parseInt(props.zIndex)) ? parseInt(props.zIndex) : 1000,\n    footer: null\n  }, __jsx(Card, {\n    title: props.title ? props.title : \"Select Car Driven Wheel\",\n    size: \"small\",\n    style: {\n      zIndex: 1001\n    }\n  }, __jsx(Row, null, __jsx(Col, {\n    xs: 24,\n    sm: 24,\n    md: 24,\n    lg: 24,\n    xl: 24\n  }, __jsx(\"div\", {\n    className: \"thin-border round-border-big padding-sm\"\n  }, __jsx(Input, {\n    ref: drivenwheelModalSearchRef,\n    autoFocus: true,\n    value: searchKeyword,\n    onChange: e => {\n      setSearchKeyword(e.target.value);\n    },\n    className: \"no-border-input\",\n    size: \"small\",\n    compact: true,\n    suffix: searchKeyword ? __jsx(CloseOutlined, {\n      className: \"cursor-pointer\",\n      onClick: e => {\n        setSearchKeyword('');\n      }\n    }) : __jsx(Icon, {\n      type: \"search\"\n    }),\n    placeholder: \"Search Here...\"\n  })))), __jsx(Row, {\n    gutter: [15, 15]\n  }, __jsx(Col, {\n    className: \"gutter-row\",\n    xs: 0,\n    sm: 0,\n    md: 24,\n    lg: 24,\n    xl: 24\n  }, __jsx(\"div\", {\n    style: _objectSpread(_objectSpread({}, props.bodyStyle), {}, {\n      overflowY: 'auto'\n    })\n  }, filteredOptions.length > 0 ? filteredOptions.map((item, index) => {\n    return __jsx(\"div\", {\n      style: {\n        margin: '10px 0px'\n      },\n      key: index\n    }, __jsx(Row, {\n      key: index // gutter={[10, 10]} \n      ,\n      className: _.toLower(props.selectedValue) == _.toLower(item.value) ? \"selectedRow\" : \"selectRow\",\n      onClick: () => selectedValue(item.value, index),\n      style: {\n        height: '3.5em',\n        lineHeight: '3.5em'\n      }\n    }, __jsx(Col, {\n      span: 5,\n      style: {\n        height: '100%',\n        padding: 5,\n        lineHeight: 0\n      }\n    }, __jsx(\"img\", {\n      className: \"w-100 h-100 obj-fit-c\",\n      src: item.icon\n    })), __jsx(Col, {\n      span: 12,\n      style: {\n        height: '100%'\n      }\n    }, __jsx(Highlighter, {\n      style: {\n        padding: '0px 10px',\n        textTransform: 'capitalize',\n        whiteSpace: 'noWrap',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis'\n      },\n      highlightStyle: {\n        backgroundColor: '#ffc069',\n        padding: 0\n      },\n      searchWords: [searchKeyword],\n      autoEscape: true,\n      textToHighlight: item.value\n    })), __jsx(Col, {\n      span: 7,\n      style: {\n        height: '100%'\n      }\n    }, __jsx(\"div\", {\n      className: \"fill-parent flex-justify-end flex-items-align-center\"\n    }, `(${isValidNumber(item.count) ? formatNumber(item.count, null, false, 0, true) : 0})`))));\n  }) : __jsx(\"div\", {\n    style: {\n      height: '100%'\n    }\n  }, __jsx(Empty, {\n    style: {\n      position: 'relative'\n    },\n    image: \"/empty.png\",\n    imageStyle: {\n      height: 60\n    },\n    description: __jsx(\"span\", null, \"No Result\")\n  }))))))));\n};\n\nconst mapStateToProps = state => ({\n  productsList: state.productsList,\n  app: state.app\n});\n\nconst mapDispatchToProps = {};\nexport default connect(mapStateToProps, mapDispatchToProps)(Form.create()(withRouter(DrivenWheelModal)));","map":{"version":3,"sources":["/Users/faraheen/ccar-cms-next-mobile/components/product-list/filter-modal/DrivenWheelModal.jsx"],"names":["CloseOutlined","Card","Col","Empty","Form","Icon","Input","Modal","Row","_","withRouter","React","useEffect","useState","Highlighter","connect","formatNumber","isValidNumber","notEmptyLength","drivenWheelList","drivenwheelModalSearchRef","createRef","DrivenWheelModal","props","options","setOptions","searchKeyword","setSearchKeyword","filteredOptions","setFilteredOptions","isArray","data","compact","map","drivenWheel","selectedOption","find","item","toLower","value","count","visible","current","focus","filter","option","keyword","RegExp","test","selectedValue","alphaIndex","index","onChange","closable","maskClosable","style","onCancel","className","width","id","parseInt","zIndex","title","e","target","bodyStyle","overflowY","length","margin","height","lineHeight","padding","icon","textTransform","whiteSpace","overflow","textOverflow","backgroundColor","position","mapStateToProps","state","productsList","app","mapDispatchToProps","create"],"mappings":"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","sourcesContent":["import { CloseOutlined } from '@ant-design/icons';\nimport { Card, Col, Empty, Form, Icon, Input, Modal, Row } from 'antd';\nimport _ from 'lodash';\nimport { withRouter } from 'next/dist/client/router';\nimport React, { useEffect, useState } from 'react';\nimport Highlighter from 'react-highlight-words';\nimport { connect } from 'react-redux';\nimport { formatNumber, isValidNumber, notEmptyLength } from '../../../common-function';\nimport { drivenWheelList } from '../../../params/drivenWheelList';\n\nconst drivenwheelModalSearchRef = React.createRef();\n\nconst DrivenWheelModal = (props) => {\n    const [options, setOptions] = useState([])\n    const [searchKeyword, setSearchKeyword] = useState('')\n    const [filteredOptions, setFilteredOptions] = useState([])\n\n    useEffect(() => {\n        if (props.options != null && _.isArray(props.options)) {\n\n            let data = _.compact(_.map(drivenWheelList, function (drivenWheel) {\n                let selectedOption = _.find(props.options, function (item) {\n                    return _.toLower(item.value) == _.toLower(drivenWheel.value);\n                })\n                if (selectedOption) {\n                    drivenWheel.count = selectedOption.count;\n                    return drivenWheel;\n                } else {\n                    return null;\n                }\n            }))\n            setOptions(data)\n        } else {\n            setOptions([]);\n        }\n    }, [props.options])\n\n    useEffect(() => {\n\n        if (props.visible == true && drivenwheelModalSearchRef.current) {\n            drivenwheelModalSearchRef.current.focus();\n        }\n\n        if (!props.visible) {\n            setSearchKeyword('');\n        }\n\n    }, [props.visible, drivenwheelModalSearchRef.current])\n\n    useEffect(() => {\n        if (_.isArray(options) && notEmptyLength(options)) {\n            let data = _.filter(options, function (option) {\n                if (searchKeyword) {\n                    let keyword = new RegExp(searchKeyword, 'i');\n                    return keyword.test(option.value) && option.count > 0;\n                } else {\n                    return true;\n                }\n            })\n            setFilteredOptions(data)\n        } else {\n            setFilteredOptions([]);\n        }\n    }, [options, searchKeyword])\n\n    const selectedValue = (item, alphaIndex, index) => {\n        if (props.onChange) {\n            props.onChange(item, alphaIndex, index);\n        }\n    }\n\n    return (\n        <React.Fragment>\n            <Modal\n                closable={props.closable != null ? props.closable ? true : false : false}\n                maskClosable={props.maskClosable != null ? props.maskClosable ? true : false : false}\n                visible={props.visible != null ? props.visible ? true : false : false}\n                style={{ ...props.style }} onCancel={props.onCancel}\n                className={`${props.className ? props.className : ''}`}\n                width={props.width ? props.width : '100%'}\n                id={props.id ? props.id : 'driven-wheel-modal'}\n                zIndex={isValidNumber(parseInt(props.zIndex)) ? parseInt(props.zIndex) : 1000}\n                footer={null}>\n                <Card\n                    title={props.title ? props.title : \"Select Car Driven Wheel\"}\n                    size=\"small\"\n                    style={{ zIndex: 1001 }}\n                >\n                    <Row>\n                        <Col xs={24} sm={24} md={24} lg={24} xl={24}>\n                            <div className=\"thin-border round-border-big padding-sm\">\n                                <Input ref={drivenwheelModalSearchRef} autoFocus value={searchKeyword} onChange={(e) => { setSearchKeyword(e.target.value) }} className='no-border-input' size=\"small\" compact\n                                    suffix={\n                                        searchKeyword ?\n                                            <CloseOutlined\n                                                className='cursor-pointer'\n                                                onClick={(e) => { setSearchKeyword('') }} />\n                                            :\n                                            <Icon type=\"search\" />\n                                    } placeholder=\"Search Here...\" />\n                            </div>\n                        </Col>\n                    </Row>\n                    <Row gutter={[15, 15]}>\n                        <Col className=\"gutter-row\" xs={0} sm={0} md={24} lg={24} xl={24}>\n                            <div style={{ ...props.bodyStyle, overflowY: 'auto' }}>\n                                {\n                                    filteredOptions.length > 0 ?\n                                        filteredOptions.map((item, index) => {\n                                            return (\n                                                <div style={{ margin: '10px 0px' }} key={index}>\n                                                    <Row\n                                                        key={index}\n                                                        // gutter={[10, 10]} \n                                                        className={_.toLower(props.selectedValue) == _.toLower(item.value) ? \"selectedRow\" : \"selectRow\"}\n                                                        onClick={() => selectedValue(item.value, index)}\n                                                        style={{ height: '3.5em', lineHeight: '3.5em' }}>\n                                                        <Col span={5} style={{ height: '100%', padding: 5, lineHeight: 0 }}>\n                                                            <img className=\"w-100 h-100 obj-fit-c\" src={item.icon} />\n                                                        </Col>\n                                                        <Col span={12} style={{ height: '100%' }}>\n                                                            <Highlighter\n                                                                style={{ padding: '0px 10px', textTransform: 'capitalize', whiteSpace: 'noWrap', overflow: 'hidden', textOverflow: 'ellipsis' }}\n                                                                highlightStyle={{ backgroundColor: '#ffc069', padding: 0 }}\n                                                                searchWords={[searchKeyword]}\n                                                                autoEscape\n                                                                textToHighlight={item.value}\n                                                            />\n                                                        </Col>\n                                                        <Col span={7} style={{ height: '100%' }}>\n                                                            <div className=\"fill-parent flex-justify-end flex-items-align-center\">\n                                                                {`(${isValidNumber(item.count) ? formatNumber(item.count, null, false, 0, true) : 0})`}\n                                                            </div>\n                                                        </Col>\n                                                    </Row>\n                                                </div>\n                                            );\n                                        })\n                                        :\n                                        <div style={{ height: '100%' }}>\n                                            <Empty\n                                                style={{ position: 'relative' }}\n                                                image=\"/empty.png\"\n                                                imageStyle={{\n                                                    height: 60,\n                                                }\n                                                }\n                                                description={<span>No Result</span>}\n                                            >\n                                            </Empty>\n                                        </div>\n                                }\n                            </div>\n                        </Col>\n                    </Row>\n                </Card>\n            </Modal>\n        </React.Fragment>\n    );\n}\n\nconst mapStateToProps = state => ({\n    productsList: state.productsList,\n    app: state.app,\n});\n\nconst mapDispatchToProps = {\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Form.create()(withRouter(DrivenWheelModal)));"]},"metadata":{},"sourceType":"module"}