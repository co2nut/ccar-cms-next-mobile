{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { Form } from 'antd';\nimport _ from 'lodash';\nimport moment from 'moment';\nimport { withRouter } from 'next/dist/client/router';\nimport React, { useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { getUserName, isValidNumber, notEmptyLength, objectRemoveEmptyValue } from '../../../common-function';\nimport { loading } from '../../../redux/actions/app-actions';\nimport ParseTag from '../../general/ParseTag';\nimport UserAvatar from '../../general/UserAvatar';\nimport PostMenu from './post-menu';\nvar defaultHeight = 100;\n\nvar SocialBoardCard = function SocialBoardCard(props) {\n  _s();\n\n  var _useState = useState({}),\n      post = _useState[0],\n      setPost = _useState[1];\n\n  var _useState2 = useState(defaultHeight),\n      height = _useState2[0],\n      setHeight = _useState2[1];\n\n  useEffect(function () {\n    if (_.isPlainObject(props.data) && !_.isEmpty(props.data)) {\n      setPost(props.data);\n    } else {\n      setPost({});\n    }\n  }, [props.data]);\n  useEffect(function () {\n    if (!props.style || !isValidNumber(props.style.height) || !(parseFloat(props.style.height) >= defaultHeight)) {\n      setHeight(defaultHeight);\n    } else {\n      setHeight(props.style.height);\n    }\n  }, [props.style]);\n\n  function redirectToPost(post) {\n    if (props.onRedirectToPost) {\n      props.onRedirectToPost(post);\n    }\n\n    if (props.redirectPost && _.isPlainObject(post) && !_.isEmpty(post)) {\n      props.router.push(\"/social-board/\".concat(_.get(post, ['_id'])), undefined, {\n        shallow: false\n      });\n    }\n  }\n\n  return notEmptyLength(objectRemoveEmptyValue(post)) ? __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \" thin-border box-shadow-heavy round-border background-white flex-items-align-start flex-justify-start padding-md cursor-pointer \".concat(props.className ? props.className : ''),\n    style: _objectSpread(_objectSpread({}, props.style), {}, {\n      height: height\n    }),\n    onClick: function onClick(e) {\n      redirectToPost(post);\n    }\n  }, __jsx(\"span\", {\n    className: \"d-inline-block margin-right-md\"\n  }, __jsx(UserAvatar, {\n    redirectProfile: true,\n    size: 50,\n    data: _.get(post, ['userId'])\n  })), __jsx(\"span\", {\n    className: \"d-inline-block width-70\"\n  }, __jsx(\"div\", {\n    className: \"width-100\"\n  }, __jsx(ParseTag, {\n    data: _.get(post, ['title']) || '',\n    className: \"subtitle1 font-weight-bold text-truncate\"\n  })), __jsx(\"div\", {\n    className: \"flex-justify-start flex-items-align-center headline text-truncate\"\n  }, __jsx(\"span\", {\n    className: \"black\"\n  }, getUserName(_.get(post, ['userId']), 'freakId')), _.get(post, ['location']) ? __jsx(React.Fragment, null, __jsx(\"span\", {\n    className: \"grey\"\n  }, \"in\"), __jsx(\"span\", {\n    className: \"black\"\n  }, \"\".concat(_.get(post, ['location']) || ''))) : null), __jsx(\"div\", {\n    className: \"flex-justify-space-between flex-items-align-center text-truncate\"\n  }, __jsx(\"span\", {\n    className: \"d-inline-block\"\n  }, moment(_.get(post, ['createdAt']) || null).format('MMM Do'), \" | \", moment(_.get(post, ['createdAt']) || null).fromNow())))), __jsx(\"span\", {\n    className: \"d-inline-block\",\n    style: {\n      position: 'absolute',\n      top: 30,\n      right: 20\n    }\n  }, __jsx(PostMenu, {\n    post: post,\n    onEditPostClick: function onEditPostClick() {\n      if (props.onEditClick) {\n        props.onEditClick(post);\n      }\n    },\n    onRemovePostClick: function onRemovePostClick() {\n      if (props.onRemoveClick) {\n        props.onRemoveClick(post);\n      }\n    }\n  }))) : null;\n};\n\n_s(SocialBoardCard, \"WDntQgRbp592vGAlWQKs+X664UY=\");\n\n_c = SocialBoardCard;\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    app: state.app,\n    user: state.user\n  };\n};\n\nvar mapDispatchToProps = {\n  loading: loading\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Form.create()(withRouter(SocialBoardCard)));\n\nvar _c;\n\n$RefreshReg$(_c, \"SocialBoardCard\");","map":{"version":3,"sources":["/Users/faraheen/ccar-cms-next-mobile/components/carFreak/components/social-board-card.jsx"],"names":["Form","_","moment","withRouter","React","useEffect","useState","connect","getUserName","isValidNumber","notEmptyLength","objectRemoveEmptyValue","loading","ParseTag","UserAvatar","PostMenu","defaultHeight","SocialBoardCard","props","post","setPost","height","setHeight","isPlainObject","data","isEmpty","style","parseFloat","redirectToPost","onRedirectToPost","redirectPost","router","push","get","undefined","shallow","className","e","format","fromNow","position","top","right","onEditClick","onRemoveClick","mapStateToProps","state","app","user","mapDispatchToProps","create"],"mappings":"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","sourcesContent":["import { Form } from 'antd';\nimport _ from 'lodash';\nimport moment from 'moment';\nimport { withRouter } from 'next/dist/client/router';\nimport React, { useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { getUserName, isValidNumber, notEmptyLength, objectRemoveEmptyValue } from '../../../common-function';\nimport { loading } from '../../../redux/actions/app-actions';\nimport ParseTag from '../../general/ParseTag';\nimport UserAvatar from '../../general/UserAvatar';\nimport PostMenu from './post-menu';\n\n\n\nconst defaultHeight = 100;\n\n\nconst SocialBoardCard = (props) => {\n\n    const [post, setPost] = useState({});\n    const [height, setHeight] = useState(defaultHeight);\n\n\n    useEffect(() => {\n\n        if (_.isPlainObject(props.data) && !_.isEmpty(props.data)) {\n            setPost(props.data);\n        } else {\n            setPost({});\n        }\n\n    }, [props.data])\n\n    useEffect(() => {\n        if (!props.style || !isValidNumber(props.style.height) || !(parseFloat(props.style.height) >= defaultHeight)) {\n            setHeight(defaultHeight);\n        } else {\n            setHeight(props.style.height);\n        }\n\n    }, [props.style])\n\n    function redirectToPost(post) {\n        if (props.onRedirectToPost) {\n            props.onRedirectToPost(post)\n        }\n\n        if (props.redirectPost && _.isPlainObject(post) && !_.isEmpty(post)) {\n            props.router.push(`/social-board/${_.get(post, ['_id'])}`, undefined ,{ shallow : false });\n        }\n    }\n\n    return (\n        notEmptyLength(objectRemoveEmptyValue(post)) ?\n            <React.Fragment>\n                <div className={` thin-border box-shadow-heavy round-border background-white flex-items-align-start flex-justify-start padding-md cursor-pointer ${props.className ? props.className : ''}`} style={{ ...props.style, height: height }} onClick={(e) => {\n                    redirectToPost(post)\n                }}>\n                    <span className='d-inline-block margin-right-md' >\n                        <UserAvatar redirectProfile size={50} data={_.get(post, ['userId'])} />\n                    </span>\n                    <span className='d-inline-block width-70' >\n                        <div className=\"width-100\">\n                            <ParseTag data={_.get(post, ['title']) || ''} className=\"subtitle1 font-weight-bold text-truncate\" />\n                        </div>\n                        <div className=\"flex-justify-start flex-items-align-center headline text-truncate\">\n                            <span className=\"black\" >\n                                {getUserName(_.get(post, ['userId']), 'freakId')}\n                            </span>\n                            {\n                                _.get(post, ['location']) ?\n                                    <React.Fragment>\n                                        <span className=\"grey\">\n                                            in\n                                        </span>\n                                        <span className=\"black\">\n                                            {`${_.get(post, ['location']) || ''}`}\n                                        </span>\n                                    </React.Fragment>\n                                    :\n                                    null\n                            }\n                        </div>\n                        <div className=\"flex-justify-space-between flex-items-align-center text-truncate\">\n                            <span className='d-inline-block' >\n                                {moment(_.get(post, ['createdAt']) || null).format('MMM Do')} | {moment(_.get(post, ['createdAt']) || null).fromNow()}\n                            </span>\n                        </div>\n                    </span>\n                </div>\n                <span className='d-inline-block' style={{ position: 'absolute', top: 30, right: 20 }} >\n                    <PostMenu post={post}\n                        onEditPostClick={() => {\n                            if (props.onEditClick) {\n                                props.onEditClick(post)\n                            }\n                        }}\n                        onRemovePostClick={() => {\n                            if (props.onRemoveClick) {\n                                props.onRemoveClick(post);\n                            }\n                        }}\n                    />\n                </span>\n            </React.Fragment>\n            :\n            null\n    );\n}\n\n\nconst mapStateToProps = state => ({\n    app: state.app,\n    user: state.user,\n});\n\nconst mapDispatchToProps = {\n    loading: loading,\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Form.create()(withRouter(SocialBoardCard)));"]},"metadata":{},"sourceType":"module"}