{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$(),\n    _s4 = $RefreshSig$(),\n    _s5 = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { CaretUpOutlined } from '@ant-design/icons';\nimport { Affix, Button, Col, Divider, Dropdown, Layout, Menu, Row, Icon, message, Drawer, Badge, Avatar, notification, Popover } from 'antd';\nimport _ from 'lodash';\nimport { withRouter } from 'next/dist/client/router';\nimport Link from 'next/link';\nimport React from 'react';\nimport CookieConsent, { Cookies } from \"react-cookie-consent\";\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from \"redux\";\nimport { v4 } from 'uuid';\nimport { arrayLengthCount, convertParameterToProductListUrl, notEmptyLength } from '../../common-function';\nimport client from '../../feathers';\nimport { checkEnv, checkEnvReturnWebAdmin } from '../../functionContent';\nimport { ccarLogo, bellInactive, wishList, wishlistIconActived, ccarWebLogo2, menuLogin } from '../../icon';\nimport { loading, loginMode, quickSearchProductsList, registerMode, setApplyMileage, setApplyPrice, setApplyYear, setDisableWindowScroll, setMenuHeight, setNotificationToken, setNotificationTokenTimeOutDate, updateActiveMenu } from '../../redux/actions/app-actions';\nimport { fetchCompareNewCarLimit } from '../../redux/actions/newcars-actions';\nimport { clearProductFilterOptions, fetchCompareCarLimit } from '../../redux/actions/productsList-actions';\nimport { logoutSuccessful, setUser } from '../../redux/actions/user-actions';\nimport CompareFloatingButton from '../compare/CompareFloatingButton';\nimport LoginModal from '../login/login';\nimport GlobalSearchBar from './global-search-bar';\nimport UserAvatar from './UserAvatar';\nimport axios from 'axios';\nimport { useMediaQuery } from 'react-responsive';\nimport { initFirebaseToken } from '../../webPush';\nimport firebase from 'firebase/app';\nimport InfiniteScrollWrapper from './InfiniteScrollWrapper';\nimport ScrollLoadWrapper from './ScrollLoadWrapper';\nimport Scrollbars from 'react-custom-scrollbars';\nimport moment from 'moment';\nimport WindowScrollDisableWrapper from './WindowScrollDisableWrapper';\nimport { routePaths } from '../../route';\nvar NOTIFICATION_BOX_WIDTH = 400;\nvar NOTIFICATION_MAX_LIMIT = 200;\nvar NOTIFICATION_PAGE_SIZE = 10;\n\nvar Desktop = function Desktop(_ref) {\n  _s();\n\n  var children = _ref.children;\n  var isDesktop = useMediaQuery({\n    minWidth: 1025\n  });\n  return isDesktop ? children : null;\n};\n\n_s(Desktop, \"OwvWUQgjrMnuU8GZKzxgeJ0yhK4=\", false, function () {\n  return [useMediaQuery];\n});\n\n_c = Desktop;\n\nvar Tablet = function Tablet(_ref2) {\n  _s2();\n\n  var children = _ref2.children;\n  var isTablet = useMediaQuery({\n    minWidth: 768,\n    maxWidth: 1024\n  });\n  return isTablet ? children : null;\n};\n\n_s2(Tablet, \"njizuzyQ3ji1lkog3PzXeuhAluo=\", false, function () {\n  return [useMediaQuery];\n});\n\n_c2 = Tablet;\n\nvar Mobile = function Mobile(_ref3) {\n  _s3();\n\n  var children = _ref3.children;\n  var isMobile = useMediaQuery({\n    maxWidth: 767\n  });\n  return isMobile ? children : null;\n};\n\n_s3(Mobile, \"7khsyUHgctuHIPa2/KlDS6LcnT0=\", false, function () {\n  return [useMediaQuery];\n});\n\n_c3 = Mobile;\n\nvar Default = function Default(_ref4) {\n  _s4();\n\n  var children = _ref4.children;\n  var isNotMobile = useMediaQuery({\n    minWidth: 768\n  });\n  return isNotMobile ? children : null;\n};\n\n_s4(Default, \"39ICqmTSeKHbKDzaMnrZFzNNET0=\", false, function () {\n  return [useMediaQuery];\n});\n\n_c4 = Default;\n\nvar NotWebDevice = function NotWebDevice(_ref5) {\n  _s5();\n\n  var children = _ref5.children;\n  var isMobile = useMediaQuery({\n    maxWidth: 767\n  });\n  var isTablet = useMediaQuery({\n    minWidth: 768,\n    maxWidth: 991\n  });\n  return isMobile || isTablet ? children : null;\n};\n\n_s5(NotWebDevice, \"XHD9uMT7+v13GMIQT1RPPpnRN8E=\", false, function () {\n  return [useMediaQuery, useMediaQuery];\n});\n\n_c5 = NotWebDevice;\nvar frontUrl = checkEnvReturnWebAdmin(client.io.io.uri);\nvar currentEnv = checkEnv(client.io.io.uri);\n\nvar LayoutV2 = /*#__PURE__*/function (_React$Component) {\n  _inherits(LayoutV2, _React$Component);\n\n  var _super = _createSuper(LayoutV2);\n\n  function LayoutV2(props) {\n    var _this;\n\n    _classCallCheck(this, LayoutV2);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"showDrawer\", function () {\n      _this.setState({\n        visible: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onClose\", function () {\n      _this.setState({\n        visible: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleExpiredToken\", function () {\n      if (_.get(_this.props, ['user', 'authenticated'])) {\n        client.authenticate().then(function (res) {\n          _this.props.setUser(res.user);\n        })[\"catch\"](function (err) {\n          _this.props.router.push('/logout');\n\n          _this.props.loginMode(true);\n\n          message.error('Your authentication session is expired. Please login again.');\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_renderNotification\", function (data) {\n      notification.open({\n        message: _.get(data, 'notification.title') || '',\n        description: _.get(data, 'notification.body') || '',\n        duration: 10,\n        placement: 'bottomRight',\n        icon: __jsx(Avatar, {\n          src: _.get(data, 'data.avatar') || ccarLogo\n        }),\n        key: v4(),\n        className: 'cursor-pointer',\n        onClick: function onClick() {\n          if (_.get(data, 'data.path')) {\n            _this.props.router.push(_.get(data, 'data.path') || '/');\n          }\n        }\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleScroll\", function (e) {\n      _this.setState({\n        scrollY: window.scrollY\n      });\n\n      var scrollBarHeight = window.innerHeight * (window.innerHeight / document.body.offsetHeight);\n\n      if (window.scrollY + scrollBarHeight + _this.state.scrollRange >= document.body.scrollHeight) {\n        if (_this.props.onScrolledBottom) {\n          _this.props.onScrolledBottom();\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_renderUser\", function (profileMenu) {\n      var self = _assertThisInitialized(_this);\n\n      if (_.get(_this.props, ['user', 'authenticated'])) {\n        return __jsx(\"span\", {\n          className: \"d-inline-block margin-x-md flex-items-align-center\"\n        }, __jsx(Dropdown, {\n          placement: \"bottomRight\",\n          overlayClassName: \"padding-top-lg\",\n          visible: self.state.showProfileMenu,\n          onVisibleChange: function onVisibleChange(v) {\n            if (self.state.showProfileMenu != v) {\n              self.setState({\n                showProfileMenu: v\n              });\n            }\n          },\n          overlayStyle: {\n            width: '250px'\n          },\n          overlay: function overlay() {\n            return __jsx(Menu, null, _.map(profileMenu, function (menu, index) {\n              return __jsx(Menu.Item, {\n                key: \"profile-menu-\".concat(++index),\n                className: \"padding-sm\"\n              }, __jsx(Link, {\n                shallow: false,\n                href: menu.to || '/',\n                as: typeof menu.as == 'function' ? menu.as(_.get(self.props.user, ['info', 'user'])) : '/'\n              }, __jsx(\"a\", null, menu.render ? menu.render() : __jsx(\"div\", {\n                className: \"flex-justify-start flex-items-align-center\"\n              }, __jsx(\"span\", {\n                className: \"d-inline-block margin-x-sm\"\n              }, menu.icon), __jsx(\"span\", {\n                className: \"d-inline-block black headline subtitle1   cursor-pointer margin-x-sm\"\n              }, menu.text)))));\n            }), _.get(_this.props.user, ['info', 'user', 'role']) != 'mobile-user' && _.get(_this.props.user, ['info', 'user', 'role']) != 'normaluser' ? __jsx(Menu.Item, {\n              key: \"profile-menu-dealership\",\n              className: \"padding-sm\",\n              onClick: function onClick(e) {}\n            }, __jsx(\"div\", {\n              className: \"flex-justify-start flex-items-align-center\"\n            }, __jsx(Button, {\n              className: \" background-ccar-button-yellow black border-ccar-button-yellow text-align-center\",\n              block: true,\n              target: \"_blank\",\n              href: frontUrl\n            }, \"Manage My Ads\"))) : null);\n          }\n        }, __jsx(\"span\", {\n          className: \"d-inline-block cursor-pointer\",\n          style: {\n            maxWidth: '200px'\n          }\n        }, __jsx(UserAvatar, {\n          showNameRight: true,\n          avatarClassName: \"flex-items-no-shrink\",\n          textClassName: \"white text-truncate subtitle1\",\n          size: 35,\n          data: _.get(_this.props.user, ['info', 'user'])\n        }))), __jsx(\"span\", {\n          className: \"d-inline-block margin-left-md\"\n        }, _this._renderNotificationBox()));\n      } else {\n        return __jsx(\"span\", {\n          className: \"flex-items-align-center margin-x-md white subtitle1 cursor-pointer \",\n          onClick: function onClick() {\n            _this.props.loginMode(true);\n          }\n        }, __jsx(\"img\", {\n          src: \"/assets/CarListingIcon/login@3x-2.png\",\n          style: {\n            width: 20\n          },\n          className: \"margin-right-xs\"\n        }), \"Login\");\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_renderUserRes\", function (profileMenu) {\n      var self = _assertThisInitialized(_this);\n\n      if (_.get(_this.props, ['user', 'authenticated'])) {\n        return __jsx(\"span\", {\n          className: \"d-inline-block margin-bottom-xs flex-items-align-center\"\n        }, __jsx(Dropdown, {\n          placement: \"bottomRight\",\n          overlayClassName: \"padding-top-lg\",\n          overlayStyle: {\n            width: '250px'\n          },\n          overlay: function overlay() {\n            return __jsx(Menu, null, _.map(profileMenu, function (menu, index) {\n              return __jsx(Menu.Item, {\n                key: \"profile-menu-\".concat(++index),\n                className: \"padding-sm\"\n              }, __jsx(Link, {\n                shallow: false,\n                href: menu.to || '/',\n                as: typeof menu.as == 'function' ? menu.as(_.get(self.props.user, ['info', 'user'])) : '/'\n              }, __jsx(\"a\", null, __jsx(\"div\", {\n                className: \"flex-justify-start flex-items-align-center\"\n              }, __jsx(\"span\", {\n                className: \"d-inline-block margin-x-sm\"\n              }, menu.icon), __jsx(\"span\", {\n                className: \"d-inline-block black headline subtitle1   cursor-pointer margin-x-sm\"\n              }, menu.text)))));\n            }), _.get(_this.props.user, ['info', 'user', 'role']) != 'mobile-user' && _.get(_this.props.user, ['info', 'user', 'role']) != 'normaluser' ? __jsx(Menu.Item, {\n              key: \"profile-menu-dealership\",\n              className: \"padding-sm\",\n              onClick: function onClick(e) {}\n            }, __jsx(\"div\", {\n              className: \"flex-justify-start flex-items-align-center\"\n            }, __jsx(Button, {\n              className: \" background-ccar-button-yellow black border-ccar-button-yellow text-align-center\",\n              block: true,\n              shape: \"round\",\n              target: \"_blank\",\n              href: frontUrl\n            }, \"Manage My Ads\"))) : null);\n          }\n        }, __jsx(\"div\", null, __jsx(\"div\", {\n          className: \" cursor-pointer\"\n        }, __jsx(Badge, null, __jsx(Avatar, {\n          icon: !_this.props.user.info || !_this.props.user.info.user || !_this.props.user.info.user.avatar ? 'user' : null,\n          src: !_this.props.user.info || !_this.props.user.info.user || !_this.props.user.info.user.avatar ? null : _this.props.user.info.user.avatar\n        }))), __jsx(\"div\", {\n          style: {\n            color: \"#1890ff\"\n          },\n          className: \" subtitle1 cursor-pointer\"\n        }, \"My Profile\"))));\n      } else {\n        return (// <span style={{ color: \"#1890ff\" }} className='flex-items-align-center subtitle1 cursor-pointer ' >\n          __jsx(\"span\", null, __jsx(Button, {\n            className: \" background-ccar-button-yellow black border-ccar-button-yellow text-align-center cursor-pointer round-border\",\n            onClick: function onClick() {\n              _this.props.loginMode(true);\n            }\n          }, \"Login\"))\n        );\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_renderFooter\", function () {\n      return __jsx(React.Fragment, null, __jsx(Layout.Footer, {\n        className: \"footer\"\n      }, __jsx(\"div\", {\n        className: \"fixed-container\"\n      }, __jsx(\"div\", null, __jsx(Row, null, __jsx(Col, {\n        xs: 0,\n        sm: 0,\n        md: 12,\n        lg: 12,\n        xl: 12\n      }, __jsx(Row, null, __jsx(Col, {\n        xs: 20,\n        sm: 20,\n        md: 20,\n        lg: 20,\n        xl: 20,\n        style: {\n          color: 'white',\n          textAlign: 'left'\n        }\n      }, __jsx(\"p\", {\n        style: {\n          marginBottom: '0px',\n          marginTop: '12px',\n          fontWeight: '700'\n        }\n      }, \" #1 Car Social Platform \")))), __jsx(Col, {\n        xs: 0,\n        sm: 0,\n        md: 12,\n        lg: 12,\n        xl: 12,\n        style: {\n          textAlign: 'right',\n          color: 'white'\n        }\n      }, __jsx(\"span\", null, \" \", __jsx(\"a\", {\n        href: \"https://play.google.com/store/apps/details?id=com.ccarmy\",\n        target: \"_blank\"\n      }, \" \", __jsx(\"img\", {\n        style: {\n          padding: '5px',\n          width: 40\n        },\n        src: \"/assets/Social Media/Google Play@3x.png\"\n      })), \" \"), __jsx(\"span\", null, \" \", __jsx(\"a\", {\n        href: \"https://apps.apple.com/my/app/ccar-my/id1526288072\",\n        target: \"_blank\"\n      }, __jsx(\"img\", {\n        style: {\n          padding: '5px',\n          width: 40\n        },\n        src: \"/assets/Social Media/Apple Store @3x.png\"\n      }))), __jsx(\"span\", null, \" \", __jsx(\"a\", {\n        href: \"https://appgallery.huawei.com/#/app/C102692397\",\n        target: \"_blank\"\n      }, __jsx(\"img\", {\n        style: {\n          padding: '5px',\n          width: 38\n        },\n        src: \"/assets/Social Media/huawei.png\"\n      }))), __jsx(\"span\", null, \" \", __jsx(\"a\", {\n        href: \"https://www.facebook.com/CCARmy-101790904962298/\",\n        target: \"_blank\"\n      }, \" \", __jsx(\"img\", {\n        style: {\n          padding: '5px',\n          width: 40\n        },\n        src: \"/assets/Social Media/Facebook @3x.png\"\n      })), \" \"), __jsx(\"span\", null, \" \", __jsx(\"a\", {\n        href: \"https://www.instagram.com/ccar.my/\",\n        target: \"_blank\"\n      }, \" \", __jsx(\"img\", {\n        style: {\n          padding: '5px',\n          width: 35\n        },\n        src: \"/assets/Social Media/instagram.png\"\n      })), \" \"), __jsx(\"span\", null, \" \", __jsx(\"a\", {\n        href: \"https://www.youtube.com/channel/UCxicQ1-VsdNWEdGZCqU-35g\",\n        target: \"_blank\"\n      }, \" \", __jsx(\"img\", {\n        style: {\n          padding: '5px',\n          width: 40\n        },\n        src: \"/assets/Social Media/youtube.png\"\n      }), \" \"), \" \")), __jsx(Col, {\n        xs: 24,\n        sm: 24,\n        md: 0,\n        lg: 0,\n        xl: 0\n      }, __jsx(Row, null, __jsx(Col, {\n        span: 8,\n        className: \"justify-flex-start\"\n      }, __jsx(\"p\", {\n        style: {\n          fontSize: '10px',\n          color: 'white',\n          fontWeight: '700',\n          marginTop: '4px',\n          marginBottom: '0px',\n          \"float\": 'left'\n        }\n      }, \" #1 Car Social Platform \")), __jsx(Col, {\n        span: 16,\n        style: {\n          fontSize: '15px'\n        }\n      }, __jsx(Row, null, __jsx(Col, {\n        xs: 24,\n        sm: 24,\n        md: 24,\n        lg: 24,\n        xl: 24,\n        style: {\n          fontSize: '10px',\n          color: 'white'\n        }\n      }, __jsx(\"div\", {\n        style: {\n          \"float\": 'right'\n        }\n      }, __jsx(\"span\", null, \" \", __jsx(\"a\", {\n        href: \"https://play.google.com/store/apps/details?id=com.ccarmy\",\n        target: \"_blank\"\n      }, \" \", __jsx(\"img\", {\n        style: {\n          padding: '2px',\n          width: 25\n        },\n        src: \"/assets/Social Media/Google Play@3x.png\"\n      })), \" \"), __jsx(\"span\", null, \" \", __jsx(\"a\", {\n        href: \"https://apps.apple.com/my/app/ccar-my/id1526288072\",\n        target: \"_blank\"\n      }, __jsx(\"img\", {\n        style: {\n          padding: '2px',\n          width: 25\n        },\n        src: \"/assets/Social Media/Apple Store @3x.png\"\n      }))), __jsx(\"span\", null, \" \", __jsx(\"a\", {\n        href: \"\",\n        target: \"_blank\"\n      }, __jsx(\"img\", {\n        style: {\n          padding: '2px',\n          width: 23\n        },\n        src: \"/assets/Social Media/huawei.png\"\n      }))), __jsx(\"span\", null, \" \", __jsx(\"a\", {\n        href: \"https://www.facebook.com/CCARmy-101790904962298/\",\n        target: \"_blank\"\n      }, \" \", __jsx(\"img\", {\n        style: {\n          padding: '2px',\n          width: 25\n        },\n        src: \"/assets/Social Media/Facebook @3x.png\"\n      })), \" \"), __jsx(\"span\", null, \" \", __jsx(\"a\", {\n        href: \"https://www.instagram.com/ccar.my/\",\n        target: \"_blank\"\n      }, \" \", __jsx(\"img\", {\n        style: {\n          padding: '2px',\n          width: 20\n        },\n        src: \"/assets/Social Media/instagram.png\"\n      })), \" \"), __jsx(\"span\", null, \" \", __jsx(\"a\", {\n        href: \"https://www.youtube.com/channel/UCxicQ1-VsdNWEdGZCqU-35g\",\n        target: \"_blank\"\n      }, \" \", __jsx(\"img\", {\n        style: {\n          padding: '2px',\n          width: 25\n        },\n        src: \"/assets/Social Media/youtube.png\"\n      }), \" \"), \" \")))))))), __jsx(Row, null, __jsx(Col, {\n        span: 24\n      }, __jsx(Divider, {\n        orientation: \"left\",\n        style: {\n          border: 'solid 1px #FFCC32',\n          fontWeight: 'normal',\n          margin: '4px 0px'\n        }\n      }), __jsx(Row, {\n        style: {\n          color: '#E3C57D'\n        }\n      }, __jsx(Col, {\n        xs: 12,\n        sm: 12,\n        md: 12,\n        lg: 12,\n        xl: 12,\n        style: {\n          fontSize: '15px'\n        }\n      }, __jsx(\"div\", {\n        className: \"flex-justify-start white flex-items-align-center main-footer \"\n      }, \"CCAR.MY \", __jsx(Icon, {\n        type: \"copyright\"\n      }), \" 2020\")), __jsx(Col, {\n        xs: 12,\n        sm: 12,\n        md: 12,\n        lg: 12,\n        xl: 12,\n        style: {\n          fontSize: '15px',\n          textAlign: 'right'\n        }\n      }, __jsx(\"div\", {\n        className: \"flex-justify-end flex-items-align-center main-footer\"\n      }, __jsx(Link, {\n        shallow: false,\n        href: routePaths.termsOfUse.to || '/',\n        as: typeof routePaths.termsOfUse.as == 'function' ? routePaths.termsOfUse.as() : '/'\n      }, \"Terms of Use | Privacy Policy\"))))))))));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_renderNotificationBox\", function () {\n      var _jsx;\n\n      var tabs = [{\n        value: 'carfreaks',\n        text: 'CarFreaks'\n      }, {\n        value: 'carAds',\n        text: 'CarMarket'\n      }, {\n        value: 'other',\n        text: 'Others'\n      }];\n\n      var self = _assertThisInitialized(_this);\n\n      return __jsx(Popover, {\n        onVisibleChange: function onVisibleChange(v) {\n          if (self.state.notificationBoxVisible != v) {\n            _this.setState({\n              notificationBoxVisible: v\n            });\n          }\n        },\n        overlayClassName: \"pop-over-body-no-padding pop-over-title-no-padding\",\n        overlayStyle: {\n          position: 'fixed'\n        },\n        trigger: \"click\",\n        arrowPointAtCenter: true,\n        placement: \"bottomLeft\",\n        title: __jsx(\"div\", {\n          className: \" h6 font-weight-bold grey-darken-1 padding-x-md padding-y-xs\",\n          style: {\n            width: NOTIFICATION_BOX_WIDTH\n          }\n        }, \"Notifications\"),\n        content: __jsx(\"div\", {\n          style: {\n            width: NOTIFICATION_BOX_WIDTH\n          }\n        }, _.isArray(self.state.notifications) && !_.isEmpty(self.state.notifications) ? __jsx(ScrollLoadWrapper, (_jsx = {\n          getRef: function getRef(ref) {\n            self.setState({\n              notificationBoxRef: ref\n            });\n          },\n          autoHide: true,\n          scrollRangeUsePercentage: true,\n          scrollRange: 50\n        }, _defineProperty(_jsx, \"autoHide\", true), _defineProperty(_jsx, \"autoHeight\", true), _defineProperty(_jsx, \"autoHeightMax\", 400), _defineProperty(_jsx, \"onScrolledBottom\", function onScrolledBottom() {\n          if (arrayLengthCount(_this.state.notifications) < _this.state.notificationTotal && !_this.state.notificationLoading) {\n            self.setState({\n              notificationPage: _this.state.notificationPage + 1\n            });\n          }\n        }), _jsx), __jsx(\"div\", null, _.map(_this.state.notifications, function (notification) {\n          if (_.isPlainObject(notification) && !_.isEmpty(notification)) {\n            return __jsx(Link, {\n              href: notification.path || '/'\n            }, __jsx(\"a\", null, __jsx(\"div\", {\n              className: \"flex-justify-start flex-items-align-center hover-background-yellow-lighten-2 padding-x-md cursor-pointer grey-darken-1 width-100 \".concat(_.some(self.state.seenNotifications, ['notificationId', notification._id]) ? '' : 'background-light-blue-lighten-5'),\n              onClick: function onClick(e) {\n                if (!_.some(self.state.seenNotifications, ['notificationId', notification._id])) {\n                  client.service('notificationseen').create({\n                    userId: _.get(self.props.user, ['info', 'user', '_id']),\n                    notificationId: notification._id\n                  }, {\n                    query: {\n                      userId: _.get(self.props.user, ['info', 'user', '_id']),\n                      notificationId: notification._id\n                    }\n                  }).then(function (res) {\n                    self.setState({\n                      seenNotifications: _.concat([res], self.state.seenNotifications)\n                    });\n                  });\n                }\n              }\n            }, __jsx(\"img\", {\n              src: notification.avatar || ccarLogo,\n              style: {\n                width: 50,\n                height: 50\n              },\n              className: \"margin-right-md avatar\"\n            }), __jsx(\"span\", {\n              className: \"d-inline-block width-80\"\n            }, __jsx(\"div\", {\n              className: \" body2 text-truncate-twoline grey-darken-3\"\n            }, _.get(notification, 'title') || ''), __jsx(\"div\", {\n              className: \"overline text-truncate \"\n            }, _.get(notification, 'body') || ''), __jsx(\"div\", {\n              className: \"small-text text-truncate margin-top-sm\"\n            }, moment(notification.createdAt).fromNow())))));\n          }\n\n          return null;\n        }))) : __jsx(\"div\", {\n          className: \"flex-justify-center flex-items-align-center\",\n          style: {\n            height: 300\n          }\n        }, __jsx(\"span\", {\n          className: \"d-inline-block\"\n        }, __jsx(\"div\", {\n          className: \"flex-justify-center flex-items-align-center\"\n        }, __jsx(\"img\", {\n          src: bellInactive,\n          style: {\n            height: 70,\n            width: 70\n          }\n        })), __jsx(\"div\", {\n          className: \"h6 grey-darken-1 margin-top-sm\"\n        }, \"No notification yet\"), __jsx(\"div\", {\n          className: \"caption grey-darken-1 flex-justify-center\"\n        }, \"When you get notification,\"), __jsx(\"div\", {\n          className: \"caption grey-darken-1 flex-justify-center\"\n        }, \"they'll show up here\"), __jsx(\"div\", {\n          className: \"flex-justify-center margin-top-sm\"\n        }, __jsx(Button, {\n          className: \" background-ccar-button-yellow\"\n        }, \"Refresh\")))))\n      }, __jsx(Desktop, null, __jsx(\"span\", {\n        className: \"flex-justify-start flex-items-align-center\",\n        id: \"notification-menu-item\"\n      }, __jsx(Badge, {\n        dot: true\n      }, __jsx(Icon, {\n        type: \"bell\",\n        theme: \"filled\",\n        className: \"white cursor-pointer\",\n        style: {\n          fontSize: 20\n        }\n      })))), __jsx(Tablet, null, __jsx(\"span\", {\n        className: \"flex-justify-start flex-items-align-center\",\n        id: \"notification-menu-item\"\n      }, __jsx(Badge, {\n        dot: true\n      }, __jsx(Icon, {\n        type: \"bell\",\n        theme: \"filled\",\n        className: \"white cursor-pointer\",\n        style: {\n          fontSize: 25\n        }\n      })))));\n    });\n\n    _this.state = {\n      data: [],\n      searchWords: [],\n      searchValue: null,\n      value: undefined,\n      typingTimeout: 0,\n      scrollYPosition: 0,\n      run: true,\n      dataSource: [],\n      newKppJson: [],\n      visible: false,\n      scrollRange: 100,\n      scrollY: 0,\n      backgroundStyle: {\n        backgroundImage: null,\n        backgroundRepeat: 'no-repeat',\n        backgroundSize: '100% 100%'\n      },\n      window: {},\n      showProfileMenu: false,\n      notificationBoxRef: {},\n      notificationLoading: false,\n      notificationPage: 1,\n      notificationTotal: 0,\n      notifications: [],\n      seenNotifications: [],\n      notificationBoxVisible: false,\n      notificationTabKey: 'carfreaks'\n    };\n    return _this;\n  }\n\n  _createClass(LayoutV2, [{\n    key: \"getUserNotifications\",\n    value: function getUserNotifications(skip) {\n      var _this2 = this;\n\n      try {\n        if (_.get(this.props.user, ['authenticated']) && _.get(this.props.user, ['info', 'user', '_id'])) {\n          this.setState({\n            notificationLoading: true\n          }, function () {\n            axios.get(\"\".concat(client.io.io.uri, \"getUserNotifications\"), {\n              params: {\n                userId: _this2.props.user.info.user._id,\n                limit: NOTIFICATION_PAGE_SIZE,\n                skip: skip || 0\n              }\n            }).then(function (res) {\n              _this2.setState({\n                notificationLoading: false,\n                notifications: _this2.state.notificationPage == 1 ? _.get(res, 'data.data') || [] : _.concat(_this2.state.notifications, _.get(res, 'data.data') || []),\n                notificationTotal: _.get(res, 'data.total') || 0\n              });\n            })[\"catch\"](function (err) {\n              _this2.setState({\n                notificationLoading: false\n              });\n            });\n          });\n        } else {\n          this.setState({\n            notifications: []\n          });\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  }, {\n    key: \"getUserSeenNotifications\",\n    value: function getUserSeenNotifications() {\n      var _this3 = this;\n\n      try {\n        if (_.get(this.props.user, ['authenticated']) && _.get(this.props.user, ['info', 'user', '_id'])) {\n          client.service('notificationseen').find({\n            query: {\n              userId: this.props.user.info.user._id\n            }\n          }).then(function (res) {\n            _this3.setState({\n              seenNotifications: _.get(res, ['data']) || []\n            });\n          })[\"catch\"](function (err) {\n            console.log(err);\n          });\n        } else {\n          this.setState({\n            seenNotifications: []\n          });\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  }, {\n    key: \"setFirebaseToken\",\n    value: function () {\n      var _setFirebaseToken = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(reauthenticate) {\n        var token, self;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return initFirebaseToken();\n\n              case 3:\n                token = _context.sent;\n\n                if (token != this.props.app.notificationToken || !this.props.app.notificationTokenTimeOutDate || moment().diff(moment(this.props.app.notificationTokenTimeOutDate), 'days', true) > 1 || reauthenticate) {\n                  this.props.setNotificationToken(token);\n                  this.props.setNotificationTokenTimeOutDate(moment().add(1, 'days'));\n                  self = this;\n                  this.subscribeNotificationTopics(token).then(function () {\n                    if (self.state.notificationPage == 1) {\n                      self.getUserNotifications(0);\n                    } else {\n                      self.setState({\n                        notificationPage: 1\n                      });\n                    }\n                  });\n                }\n\n                this.listenOnNotification();\n                _context.next = 11;\n                break;\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context[\"catch\"](0);\n                console.log(_context.t0);\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 8]]);\n      }));\n\n      function setFirebaseToken(_x) {\n        return _setFirebaseToken.apply(this, arguments);\n      }\n\n      return setFirebaseToken;\n    }()\n  }, {\n    key: \"listenOnNotification\",\n    value: function listenOnNotification() {\n      var _this4 = this;\n\n      var messaging = firebase.messaging();\n      messaging.onMessage(function (message) {\n        _this4._renderNotification(message);\n\n        if (_.get(message, 'data._id') && _.get(_this4.props.user, ['authenticated']) && _.get(_this4.props.user, ['info', 'user', '_id'])) {\n          client.service('notifications').find({\n            query: {\n              _id: message.data._id,\n              $limit: 1\n            }\n          }).then(function (res) {\n            if (_.get(res, 'data[0]')) {\n              _this4.setState({\n                notifications: [res.data[0]].concat(_toConsumableArray(_this4.state.notifications))\n              });\n            }\n          });\n        } //\n\n      });\n    }\n  }, {\n    key: \"subscribeNotificationTopics\",\n    value: function subscribeNotificationTopics(token) {\n      if (_.get(this.props.user, ['authenticated']) && _.get(this.props.user, ['info', 'user', '_id'])) {\n        return axios.post(\"\".concat(client.io.io.uri, \"pushNotificationTokenToUser\"), {\n          userId: _.get(this.props.user, ['info', 'user', '_id']),\n          token: token\n        });\n      } else {\n        return axios.post(\"\".concat(client.io.io.uri, \"subscribePublicNotification\"), {\n          token: token\n        });\n      }\n    }\n  }, {\n    key: \"sendTestMessage\",\n    value: function sendTestMessage(text) {\n      axios.post(\"\".concat(client.io.io.uri, \"sendTestNotification\"), {\n        params: {\n          text: text || ''\n        }\n      }).then(function (res) {})[\"catch\"](function (err) {});\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this5 = this;\n\n      if (true) {\n        this.setState({\n          window: window\n        });\n      }\n\n      window.scrollTo(0, 0);\n      this.handleExpiredToken();\n      this.setFirebaseToken();\n\n      if (_.get(this.props.user, ['authenticated']) && _.get(this.props.user, ['info', 'user', '_id'])) {\n        this.getUserSeenNotifications();\n\n        if (this.state.notificationPage == 1) {\n          this.getUserNotifications(0);\n        } else {\n          this.setState({\n            notificationPage: 1\n          });\n        }\n      }\n\n      this.props.loading(false); // if(this.props.location.pathname.indexOf('viewCar') > 0){\n      //   window.location.href=\"ccarmy:/\" + this.props.location.pathname\n      // }\n      // this.props.setMenuHeight(document.getElementById('menu-bar').getBoundingClientRect().height);\n\n      if (this.props.backgroundImage) {\n        this.setState({\n          backgroundStyle: _objectSpread(_objectSpread({}, this.state.backgroundStyle), {}, {\n            backgroundImage: this.props.backgroundImage\n          })\n        });\n      }\n\n      if (this.props.scrollRange) {\n        this.setState({\n          scrollRange: this.props.scrollRange\n        });\n      }\n\n      axios.get(\"\".concat(client.io.io.uri, \"getCmsParameters\")).then(function (res) {\n        if (notEmptyLength(res.data.data)) {\n          var self = _this5;\n\n          _.forEach(res.data.data, function (item) {\n            switch (item.table) {\n              case 'compareNewCar':\n                // self.props.fetchCompareNewCarLimit(-1);\n                break;\n\n              case 'compareLimit':\n                self.props.fetchCompareCarLimit(isValidNumber(parseInt(_.get(item, ['compareLimit']))) ? parseInt(_.get(item, ['compareLimit'])) : 5);\n                break;\n\n              default:\n                break;\n            }\n          });\n        }\n      })[\"catch\"](function (err) {// message.error(err.message)\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      var _this6 = this;\n\n      if (prevProps.scrollRange != this.props.scrollRange) {\n        this.setState({\n          scrollRange: this.props.scrollRange\n        });\n      }\n\n      if (!_.isEqual(prevState.window, this.state.window)) {\n        this.state.window.addEventListener('scroll', this.handleScroll, {\n          passive: true\n        });\n        return function () {\n          _this6.state.window.removeEventListener('scroll', _this6.handleScroll);\n        };\n      }\n\n      if (prevProps.user.authenticated != this.props.user.authenticated) {\n        this.setFirebaseToken(true);\n        this.getUserSeenNotifications();\n\n        if (this.state.notificationPage == 1) {\n          this.getUserNotifications(0);\n        } else {\n          this.setState({\n            notificationPage: 1\n          });\n        }\n      }\n\n      if (prevState.notificationBoxVisible != this.state.notificationBoxVisible) {\n        if (this.state.notificationBoxRef.current) {\n          this.state.notificationBoxRef.current.scrollToTop();\n        }\n      }\n\n      if (prevState.notificationPage != this.state.notificationPage && arrayLengthCount(this.state.notifications) < NOTIFICATION_MAX_LIMIT) {\n        this.getUserNotifications((this.state.notificationPage - 1) * NOTIFICATION_PAGE_SIZE);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this7 = this,\n          _ref6;\n\n      var self = this;\n      var outterMenu = [_objectSpread({\n        icon: '',\n        text: 'CarMarket'\n      }, routePaths.carsOnSale), _objectSpread({\n        icon: '',\n        text: 'All-NewCar'\n      }, routePaths.newCar), _objectSpread({\n        icon: '',\n        text: __jsx(\"span\", {\n          className: \"d-inline-block white background-red  padding-x-md\",\n          style: {\n            borderRadius: '5px'\n          }\n        }, \"LIVE\")\n      }, routePaths.live)];\n      var innerMenu = [_objectSpread({\n        icon: '',\n        text: 'Car Review'\n      }, routePaths.carReview), _objectSpread({\n        icon: '',\n        text: 'Social News & Videos'\n      }, routePaths.socialNewsAndVideo), _objectSpread({\n        icon: '',\n        text: 'CarFreaks'\n      }, routePaths.carFreaks), _objectSpread({\n        icon: '',\n        text: 'Petrol Price'\n      }, routePaths.petrolPrice), _objectSpread({\n        icon: '',\n        text: 'Driving School'\n      }, routePaths.kpp), _objectSpread({\n        icon: '',\n        text: 'About Us'\n      }, routePaths.aboutUs), _objectSpread({\n        icon: '',\n        text: 'Contact Us'\n      }, routePaths.contactUs)];\n\n      if (currentEnv !== 'prod') {\n        var insurances = [{\n          icon: '',\n          text: 'Road Tax & Insurance',\n          path: '/roadtax-insurance'\n        }, {\n          icon: '',\n          text: 'Extended Warranty',\n          path: '/extended-warranty'\n        }, {\n          icon: '',\n          text: 'Latest Car Plate No.',\n          path: '/latest-car-plate-no'\n        }];\n        innerMenu = innerMenu.concat(insurances);\n      }\n\n      var profileMenu = [_objectSpread({\n        icon: __jsx(\"span\", {\n          className: \"flex-items-align-center flex-justify-center avatar background-grey-darken-3\",\n          style: {\n            width: '20px',\n            height: '20px'\n          }\n        }, __jsx(Icon, {\n          type: \"user\",\n          style: {\n            fontSize: '12px',\n            color: 'white'\n          }\n        })),\n        text: 'Profile'\n      }, routePaths.profile), _objectSpread({\n        icon: __jsx(\"span\", {\n          className: \"flex-items-align-center flex-justify-center\"\n        }, __jsx(\"img\", {\n          src: wishList,\n          style: {\n            width: '20px',\n            height: '20px'\n          }\n        })),\n        text: 'My Wishlist'\n      }, routePaths.profile), _objectSpread({\n        icon: __jsx(\"span\", {\n          className: \"d-inline-block relative-wrapper\",\n          style: {\n            width: '20px',\n            height: '20px'\n          }\n        }, __jsx(\"img\", {\n          src: \"/logout icon.svg\",\n          className: \"fill-parent absolute-center\"\n        })),\n        text: 'Log out'\n      }, routePaths.logout)];\n      return __jsx(Layout, null, __jsx(\"div\", {\n        className: \"relative-wrapper\"\n      }, __jsx(Row, {\n        style: {\n          position: 'sticky',\n          top: 0,\n          zIndex: '99',\n          height: '61px'\n        }\n      }, __jsx(Col, {\n        xs: 24,\n        sm: 24,\n        md: 24,\n        lg: 24,\n        xl: 24\n      }, __jsx(Mobile, null, __jsx(\"div\", {\n        id: \"menu-bar\",\n        className: \"topnav\",\n        style: {\n          position: 'sticky',\n          top: 0,\n          zIndex: '99',\n          minHeight: '100px',\n          backgroundColor: '#000000'\n        }\n      }, __jsx(Row, {\n        type: \"flex\",\n        align: \"middle\",\n        className: \"padding-x-md\"\n      }, __jsx(Col, {\n        xs: 8,\n        sm: 8,\n        md: 8,\n        lg: 8,\n        xl: 8\n      }, __jsx(\"div\", {\n        className: \"flex-justify-start flex-items-align-center topnav-child\"\n      }, __jsx(\"span\", {\n        className: \"d-inline-block relative-wrapper margin-right-md cursor-pointer\",\n        style: {\n          height: '62px',\n          width: '214px'\n        },\n        onClick: function onClick(e) {\n          _this7.props.history.push('/');\n        }\n      }, __jsx(\"img\", {\n        alt: \"ccar\",\n        className: \"fill-parent absolute-center\",\n        src: \"/assets/ccar-header-logo.svg\"\n      })))), __jsx(Col, {\n        xs: 12,\n        sm: 12,\n        md: 12,\n        lg: 12,\n        xl: 12\n      }, __jsx(GlobalSearchBar, {\n        searchTypes: this.props.searchTypes || ['productAds', 'carspec', 'dealerWithAds']\n      })), __jsx(Col, {\n        xs: 2,\n        sm: 2,\n        md: 2,\n        lg: 2,\n        xl: 2,\n        offset: 2\n      }, __jsx(\"div\", {\n        className: \"login-drawer\",\n        style: {\n          width: '300'\n        }\n      }, __jsx(Button, {\n        type: \"primary\",\n        onClick: this.showDrawer,\n        style: {\n          marginBottom: 0,\n          \"float\": 'right'\n        }\n      }, __jsx(Icon, {\n        type: \"menu\"\n      })), __jsx(Drawer, {\n        title: \"Main Menu\",\n        placement: \"right\",\n        closable: true,\n        onClose: this.onClose,\n        visible: this.state.visible,\n        width: '100%'\n      }, __jsx(\"div\", {\n        className: \"margin-bottom-md\",\n        backgroundImage: \"url(\\\"\".concat(menuLogin, \"\\\")\")\n      }, __jsx(\"div\", null, __jsx(\"p\", null, \"Login to access more features now!\")), __jsx(\"div\", {\n        className: \"flex-justify-center\"\n      }, this._renderUserRes(profileMenu))), __jsx(Row, {\n        className: \"margin-bottom-md\"\n      }, __jsx(Col, {\n        span: 11,\n        className: \"thickBorder round-border\"\n      }, __jsx(\"div\", {\n        style: {\n          fontSize: '14px',\n          margin: '10px'\n        },\n        className: \"flex-items-no-shrink margin-sm \".concat(this.props.app.activeMenu == '2' ? 'yellow' : ''),\n        onClick: function onClick() {\n          _this7.props.router.push('/car-market-homepage/index');\n        }\n      }, __jsx(\"img\", {\n        src: \"/assets/menu-icon/buy-car.png\",\n        style: {\n          width: '40%'\n        }\n      }), __jsx(\"p\", {\n        style: {\n          marginBottom: '0px',\n          color: '#000000'\n        }\n      }, \" CarMarket \"))), __jsx(Col, {\n        span: 11,\n        offset: 2,\n        className: \"thickBorder round-border \"\n      }, __jsx(\"div\", {\n        style: {\n          fontSize: '14px',\n          margin: '10px'\n        },\n        className: \"flex-items-no-shrink margin-sm \".concat(this.props.app.activeMenu == '3' ? 'yellow' : ''),\n        onClick: function onClick() {\n          _this7.props.router.push('/newcar');\n        }\n      }, __jsx(\"img\", {\n        src: \"/assets/menu-icon/new-car.png\",\n        style: {\n          width: '40%'\n        }\n      }), __jsx(\"p\", {\n        style: {\n          marginBottom: '0px',\n          color: '#000000'\n        }\n      }, \"All-NewCar\")))), __jsx(Row, {\n        className: \"margin-bottom-md\"\n      }, __jsx(Col, {\n        span: 11,\n        className: \"thickBorder round-border\"\n      }, __jsx(\"div\", {\n        style: {\n          fontSize: '14px',\n          margin: '10px'\n        },\n        className: \"flex-items-no-shrink margin-sm \".concat(this.props.app.activeMenu == '6' ? 'yellow' : ''),\n        onClick: function onClick() {\n          _this7.props.router.push('/car-freaks');\n        }\n      }, __jsx(\"img\", {\n        src: \"/assets/menu-icon/carfreaks.png\",\n        style: {\n          width: '40%'\n        }\n      }), __jsx(\"p\", {\n        style: {\n          marginBottom: '0px',\n          color: '#000000'\n        }\n      }, \"CarFreaks\"))), __jsx(Col, {\n        span: 11,\n        offset: 2,\n        className: \"thickBorder round-border\"\n      }, __jsx(\"div\", {\n        style: {\n          fontSize: '14px',\n          margin: '10px'\n        },\n        className: \"flex-items-no-shrink margin-sm \".concat(this.props.app.activeMenu == '4' ? 'yellow' : ''),\n        onClick: function onClick() {\n          _this7.props.router.push('/live');\n        }\n      }, __jsx(\"img\", {\n        src: \"/assets/menu-icon/live.png\",\n        style: {\n          width: '40%'\n        }\n      }), __jsx(\"p\", {\n        style: {\n          marginBottom: '0px',\n          color: '#000000'\n        }\n      }, \"LIVE\")))), __jsx(Row, {\n        className: \"margin-bottom-md\"\n      }, __jsx(Col, {\n        span: 11,\n        className: \"thickBorder round-border\"\n      }, __jsx(\"div\", {\n        style: {\n          fontSize: '14px',\n          margin: '10px'\n        },\n        className: \"flex-items-no-shrink margin-sm \".concat(this.props.app.activeMenu == '5' ? 'yellow' : ''),\n        onClick: function onClick() {\n          _this7.props.router.push('/socialNews');\n        }\n      }, __jsx(\"img\", {\n        src: \"/assets/menu-icon/social-news.png\",\n        style: {\n          width: '40%'\n        }\n      }), __jsx(\"p\", {\n        style: {\n          marginBottom: '0px',\n          color: '#000000'\n        }\n      }, \"Social News \"))), __jsx(Col, {\n        span: 11,\n        offset: 2,\n        className: \"thickBorder round-border\"\n      }, __jsx(\"div\", {\n        style: {\n          fontSize: '14px',\n          margin: '10px'\n        },\n        className: \"flex-items-no-shrink margin-sm \".concat(this.props.app.activeMenu == '9' ? 'yellow' : ''),\n        onClick: function onClick() {\n          _this7.props.router.push('/socialVideos');\n        }\n      }, __jsx(\"img\", {\n        src: \"/assets/menu-icon/social-videos.png\",\n        style: {\n          width: '40%'\n        }\n      }), __jsx(\"p\", {\n        style: {\n          marginBottom: '0px',\n          color: '#000000'\n        }\n      }, \"Social Videos \")))), __jsx(Row, {\n        className: \"margin-bottom-md\"\n      }, __jsx(Col, {\n        span: 11,\n        className: \"thickBorder round-border\"\n      }, __jsx(\"div\", {\n        style: {\n          fontSize: '14px',\n          margin: '10px'\n        },\n        className: \"flex-items-no-shrink margin-sm \".concat(this.props.app.activeMenu == '8' ? 'yellow' : ''),\n        onClick: function onClick() {\n          _this7.props.router.push('/kpp');\n        }\n      }, __jsx(\"img\", {\n        src: \"/assets/menu-icon/driving-school.png\",\n        style: {\n          width: '40%'\n        }\n      }), __jsx(\"p\", {\n        style: {\n          marginBottom: '0px',\n          color: '#000000'\n        }\n      }, \"Driving School\"))), __jsx(Col, {\n        span: 11,\n        offset: 2,\n        className: \"thickBorder round-border\"\n      }, __jsx(\"div\", {\n        style: {\n          fontSize: '14px',\n          margin: '10px'\n        },\n        className: \"flex-items-no-shrink margin-sm \".concat(this.props.app.activeMenu == '7' ? 'yellow' : ''),\n        onClick: function onClick() {\n          _this7.props.router.push('/petrolprice');\n        }\n      }, __jsx(\"img\", {\n        src: \"/assets/menu-icon/fuel.png\",\n        style: {\n          width: '40%'\n        }\n      }), __jsx(\"p\", {\n        style: {\n          marginBottom: '0px',\n          color: '#000000'\n        }\n      }, \"Petrol Price\")))))))), __jsx(Divider, {\n        style: {\n          border: 'solid 1px #FFCC32',\n          fontWeight: 'normal',\n          margin: '4px 0px'\n        }\n      }), __jsx(Row, null, __jsx(Col, {\n        span: 24\n      }, __jsx(\"div\", {\n        className: \"flex-justify-start\",\n        style: {\n          display: 'flex',\n          overflowX: 'scroll',\n          color: '#ffffff',\n          paddingRight: '2px'\n        }\n      }, __jsx(\"span\", {\n        className: \"flex-items-no-shrink margin-sm \".concat(this.props.app.activeMenu == '1' ? 'yellow' : ''),\n        onClick: function onClick() {\n          _this7.props.router.push('/');\n        }\n      }, \" Home\"), __jsx(\"span\", {\n        className: \"flex-items-no-shrink margin-sm \".concat(this.props.app.activeMenu == '2' ? 'yellow' : ''),\n        onClick: function onClick() {\n          _this7.props.router.push('/car-market-homepage/index');\n        }\n      }, \" CarMarket\"), __jsx(\"span\", {\n        className: \"flex-items-no-shrink margin-sm \".concat(this.props.app.activeMenu == '3' ? 'yellow' : ''),\n        onClick: function onClick() {\n          _this7.props.router.push('/newcar');\n        }\n      }, \" All-NewCar\"), __jsx(\"span\", {\n        className: \"flex-items-no-shrink margin-sm \".concat(this.props.app.activeMenu == '4' ? 'yellow' : ''),\n        onClick: function onClick() {\n          _this7.props.router.push('/live');\n        }\n      }, \" LIVE\"), __jsx(\"span\", {\n        className: \"flex-items-no-shrink margin-sm \".concat(this.props.app.activeMenu == '6' ? 'yellow' : ''),\n        onClick: function onClick() {\n          _this7.props.router.push('/car-freaks');\n        }\n      }, \" CarFreaks\"), __jsx(\"span\", {\n        className: \"flex-items-no-shrink margin-sm \".concat(this.props.app.activeMenu == '5' ? 'yellow' : ''),\n        onClick: function onClick() {\n          _this7.props.router.push('/socialNews');\n        }\n      }, \" Social News\"), __jsx(\"span\", {\n        className: \"flex-items-no-shrink margin-sm \".concat(this.props.app.activeMenu == '9' ? 'yellow' : ''),\n        onClick: function onClick() {\n          _this7.props.router.push('/socialVideos');\n        }\n      }, \" Social Videos\"), __jsx(\"span\", {\n        className: \"flex-items-no-shrink margin-sm \".concat(this.props.app.activeMenu == '7' ? 'yellow' : ''),\n        onClick: function onClick() {\n          _this7.props.router.push('/petrolprice');\n        }\n      }, \" Petrol Price\"), __jsx(\"span\", {\n        className: \"flex-items-no-shrink margin-sm \".concat(this.props.app.activeMenu == '8' ? 'yellow' : ''),\n        onClick: function onClick() {\n          _this7.props.router.push('/kpp');\n        }\n      }, \" Driving School\")))))))), _.get(this.props, ['app', 'loading']) ? __jsx(\"div\", {\n        className: \"background-grey-opacity-50 fill-parent absolute-center\",\n        style: {\n          zIndex: 1002\n        }\n      }, __jsx(Affix, {\n        offsetTop: (this.state.window.innerHeight || 500) / 2\n      }, __jsx(\"div\", {\n        className: \"flex-justify-center width-100\"\n      }, __jsx(\"img\", {\n        src: \"/loading.gif\",\n        style: {\n          width: 100,\n          height: 100\n        }\n      })))) : null, __jsx(\"div\", {\n        style: this.props.backgroundImage ? _objectSpread({\n          minHeight: this.state.window.innerHeight || 500 - 180\n        }, this.state.backgroundStyle) : {\n          minHeight: this.state.window.innerHeight || 500 - 90\n        }\n      }, this.props.children), this._renderFooter(), __jsx(\"div\", {\n        className: \"width-100\",\n        style: (_ref6 = {\n          position: '-webkit-sticky'\n        }, _defineProperty(_ref6, \"position\", 'sticky'), _defineProperty(_ref6, \"bottom\", 0), _defineProperty(_ref6, \"zIndex\", 1002), _ref6)\n      }, this.props.footerOverLay ? this.props.footerOverLay : this.props.hideOpenApp ? null : __jsx(React.Fragment, null, __jsx(NotWebDevice, null, __jsx(\"div\", {\n        className: \"padding-md background-black flex-items-align-center flex-justify-space-between\"\n      }, __jsx(\"span\", {\n        className: \" flex-items-align-center\"\n      }, __jsx(\"img\", {\n        src: ccarLogo,\n        style: {\n          height: 30,\n          width: 30\n        },\n        className: \"margin-right-md flex-items-no-shrink\"\n      }), __jsx(\"div\", {\n        className: \"caption white\"\n      }, \"A place to connect car lovers' souls\")), __jsx(\"span\", {\n        className: \"d-inline-block \"\n      }, __jsx(Button, {\n        className: \" background-ccar-button-yellow black caption\",\n        style: {\n          borderColor: '#FFCC32'\n        },\n        onClick: function onClick(e) {\n          _this7.openApp();\n        }\n      }, \"Open App\")))))), __jsx(\"span\", {\n        className: \"d-inline-block\",\n        style: {\n          position: 'fixed',\n          bottom: 30,\n          right: 20,\n          zIndex: 1002\n        }\n      }, this.props.showCompareCarButton != undefined && this.props.showCompareCarButton == false && this.props.showCompareCarButton != null ? null : __jsx(Affix, {\n        offsetBottom: 95,\n        className: \"affix-element-show-on-modal-1\"\n      }, __jsx(CompareFloatingButton, null)))), __jsx(LoginModal, null), __jsx(CookieConsent, {\n        location: \"bottom\",\n        buttonText: \"Got it !\",\n        cookieName: \"consent\",\n        cookieValue: true,\n        style: {\n          background: \"#2B373B\"\n        },\n        buttonStyle: {\n          color: \"#4e503b\",\n          fontSize: \"13px\"\n        },\n        expires: 365,\n        onAccept: function onAccept() {\n          Cookies.set('consent', v4());\n        },\n        acceptOnScroll: true\n      }, \"By continuing to browse this website, you accept cookies which are used for several reasons such as personalizing content/ads and analyzing how this website is used.\"));\n    }\n  }]);\n\n  return LayoutV2;\n}(React.Component);\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators({\n    loading: loading,\n    loginMode: loginMode,\n    registerMode: registerMode,\n    logoutSuccessful: logoutSuccessful,\n    updateActiveMenu: updateActiveMenu,\n    quickSearchProductsList: quickSearchProductsList,\n    setApplyYear: setApplyYear,\n    setApplyPrice: setApplyPrice,\n    setApplyMileage: setApplyMileage,\n    fetchCompareNewCarLimit: fetchCompareNewCarLimit,\n    fetchCompareCarLimit: fetchCompareCarLimit,\n    setMenuHeight: setMenuHeight,\n    clearProductFilterOptions: clearProductFilterOptions,\n    setNotificationToken: setNotificationToken,\n    setNotificationTokenTimeOutDate: setNotificationTokenTimeOutDate,\n    setUser: setUser,\n    setDisableWindowScroll: setDisableWindowScroll\n  }, dispatch);\n}\n\nfunction mapStateToProps(state) {\n  return {\n    app: state.app,\n    user: state.user\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(LayoutV2));\n\nvar _c, _c2, _c3, _c4, _c5;\n\n$RefreshReg$(_c, \"Desktop\");\n$RefreshReg$(_c2, \"Tablet\");\n$RefreshReg$(_c3, \"Mobile\");\n$RefreshReg$(_c4, \"Default\");\n$RefreshReg$(_c5, \"NotWebDevice\");","map":{"version":3,"sources":["/Users/faraheen/ccar-cms-next-mobile/components/general/LayoutV2.jsx"],"names":["CaretUpOutlined","Affix","Button","Col","Divider","Dropdown","Layout","Menu","Row","Icon","message","Drawer","Badge","Avatar","notification","Popover","_","withRouter","Link","React","CookieConsent","Cookies","connect","bindActionCreators","v4","arrayLengthCount","convertParameterToProductListUrl","notEmptyLength","client","checkEnv","checkEnvReturnWebAdmin","ccarLogo","bellInactive","wishList","wishlistIconActived","ccarWebLogo2","menuLogin","loading","loginMode","quickSearchProductsList","registerMode","setApplyMileage","setApplyPrice","setApplyYear","setDisableWindowScroll","setMenuHeight","setNotificationToken","setNotificationTokenTimeOutDate","updateActiveMenu","fetchCompareNewCarLimit","clearProductFilterOptions","fetchCompareCarLimit","logoutSuccessful","setUser","CompareFloatingButton","LoginModal","GlobalSearchBar","UserAvatar","axios","useMediaQuery","initFirebaseToken","firebase","InfiniteScrollWrapper","ScrollLoadWrapper","Scrollbars","moment","WindowScrollDisableWrapper","routePaths","NOTIFICATION_BOX_WIDTH","NOTIFICATION_MAX_LIMIT","NOTIFICATION_PAGE_SIZE","Desktop","children","isDesktop","minWidth","Tablet","isTablet","maxWidth","Mobile","isMobile","Default","isNotMobile","NotWebDevice","frontUrl","io","uri","currentEnv","LayoutV2","props","setState","visible","get","authenticate","then","res","user","err","router","push","error","data","open","description","duration","placement","icon","key","className","onClick","e","scrollY","window","scrollBarHeight","innerHeight","document","body","offsetHeight","state","scrollRange","scrollHeight","onScrolledBottom","profileMenu","self","showProfileMenu","v","width","map","menu","index","to","as","render","text","_renderNotificationBox","info","avatar","color","textAlign","marginBottom","marginTop","fontWeight","padding","fontSize","border","margin","termsOfUse","tabs","value","notificationBoxVisible","position","isArray","notifications","isEmpty","ref","notificationBoxRef","notificationTotal","notificationLoading","notificationPage","isPlainObject","path","some","seenNotifications","_id","service","create","userId","notificationId","query","concat","height","createdAt","fromNow","searchWords","searchValue","undefined","typingTimeout","scrollYPosition","run","dataSource","newKppJson","backgroundStyle","backgroundImage","backgroundRepeat","backgroundSize","notificationTabKey","skip","params","limit","console","log","find","reauthenticate","token","app","notificationToken","notificationTokenTimeOutDate","diff","add","subscribeNotificationTopics","getUserNotifications","listenOnNotification","messaging","onMessage","_renderNotification","$limit","post","scrollTo","handleExpiredToken","setFirebaseToken","getUserSeenNotifications","forEach","item","table","isValidNumber","parseInt","prevProps","prevState","isEqual","addEventListener","handleScroll","passive","removeEventListener","authenticated","current","scrollToTop","outterMenu","carsOnSale","newCar","borderRadius","live","innerMenu","carReview","socialNewsAndVideo","carFreaks","petrolPrice","kpp","aboutUs","contactUs","insurances","profile","logout","top","zIndex","minHeight","backgroundColor","history","searchTypes","showDrawer","onClose","_renderUserRes","activeMenu","display","overflowX","paddingRight","_renderFooter","footerOverLay","hideOpenApp","borderColor","openApp","bottom","right","showCompareCarButton","background","set","Component","mapDispatchToProps","dispatch","mapStateToProps"],"mappings":"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","sourcesContent":["import { CaretUpOutlined } from '@ant-design/icons';\nimport { Affix, Button, Col, Divider, Dropdown, Layout, Menu, Row, Icon, message, Drawer, Badge, Avatar, notification, Popover } from 'antd';\nimport _ from 'lodash';\nimport { withRouter } from 'next/dist/client/router';\nimport Link from 'next/link';\nimport React from 'react';\nimport CookieConsent, { Cookies } from \"react-cookie-consent\";\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from \"redux\";\nimport { v4 } from 'uuid';\nimport { arrayLengthCount, convertParameterToProductListUrl, notEmptyLength } from '../../common-function';\nimport client from '../../feathers';\nimport { checkEnv, checkEnvReturnWebAdmin } from '../../functionContent';\nimport { ccarLogo, bellInactive, wishList, wishlistIconActived, ccarWebLogo2, menuLogin } from '../../icon';\nimport { loading, loginMode, quickSearchProductsList, registerMode, setApplyMileage, setApplyPrice, setApplyYear, setDisableWindowScroll, setMenuHeight, setNotificationToken, setNotificationTokenTimeOutDate, updateActiveMenu } from '../../redux/actions/app-actions';\nimport { fetchCompareNewCarLimit } from '../../redux/actions/newcars-actions';\nimport { clearProductFilterOptions, fetchCompareCarLimit } from '../../redux/actions/productsList-actions';\nimport { logoutSuccessful, setUser } from '../../redux/actions/user-actions';\nimport CompareFloatingButton from '../compare/CompareFloatingButton';\nimport LoginModal from '../login/login';\nimport GlobalSearchBar from './global-search-bar';\nimport UserAvatar from './UserAvatar';\nimport axios from 'axios';\nimport { useMediaQuery } from 'react-responsive';\nimport { initFirebaseToken } from '../../webPush';\nimport firebase from 'firebase/app';\nimport InfiniteScrollWrapper from './InfiniteScrollWrapper';\nimport ScrollLoadWrapper from './ScrollLoadWrapper';\nimport Scrollbars from 'react-custom-scrollbars';\nimport moment from 'moment';\nimport WindowScrollDisableWrapper from './WindowScrollDisableWrapper';\nimport { routePaths } from '../../route';\n\n\nconst NOTIFICATION_BOX_WIDTH = 400\nconst NOTIFICATION_MAX_LIMIT = 200\nconst NOTIFICATION_PAGE_SIZE = 10;\n\nconst Desktop = ({ children }) => {\n    const isDesktop = useMediaQuery({ minWidth: 1025 })\n    return isDesktop ? children : null\n}\nconst Tablet = ({ children }) => {\n    const isTablet = useMediaQuery({ minWidth: 768, maxWidth: 1024 })\n    return isTablet ? children : null\n}\nconst Mobile = ({ children }) => {\n    const isMobile = useMediaQuery({ maxWidth: 767 })\n    return isMobile ? children : null\n}\nconst Default = ({ children }) => {\n    const isNotMobile = useMediaQuery({ minWidth: 768 })\n    return isNotMobile ? children : null\n}\n\nconst NotWebDevice = ({ children }) => {\n    const isMobile = useMediaQuery({ maxWidth: 767 })\n    const isTablet = useMediaQuery({ minWidth: 768, maxWidth: 991 })\n    return isMobile || isTablet ? children : null;\n}\n\n\nvar frontUrl = checkEnvReturnWebAdmin(client.io.io.uri)\nvar currentEnv = checkEnv(client.io.io.uri)\nclass LayoutV2 extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            data: [],\n            searchWords: [],\n            searchValue: null,\n            value: undefined,\n            typingTimeout: 0,\n            scrollYPosition: 0,\n            run: true,\n            dataSource: [],\n            newKppJson: [],\n            visible: false,\n            scrollRange: 100,\n            scrollY: 0,\n            backgroundStyle: {\n                backgroundImage: null,\n                backgroundRepeat: 'no-repeat',\n                backgroundSize: '100% 100%'\n            },\n            window: {},\n            showProfileMenu: false,\n            notificationBoxRef: {},\n            notificationLoading: false,\n            notificationPage: 1,\n            notificationTotal: 0,\n            notifications: [],\n            seenNotifications: [],\n            notificationBoxVisible: false,\n            notificationTabKey: 'carfreaks',\n        }\n\n    }\n\n\n    showDrawer = () => {\n        this.setState({\n            visible: true,\n        });\n    };\n\n    onClose = () => {\n        this.setState({\n            visible: false,\n        });\n    };\n\n\n    handleExpiredToken = () => {\n        if (_.get(this.props, ['user', 'authenticated'])) {\n            client.authenticate().then(res => {\n                this.props.setUser(res.user);\n            }).catch(err => {\n                this.props.router.push('/logout');\n                this.props.loginMode(true);\n                message.error('Your authentication session is expired. Please login again.');\n            });\n        }\n    }\n\n    getUserNotifications(skip) {\n\n        try {\n            if (_.get(this.props.user, ['authenticated']) && _.get(this.props.user, ['info', 'user', '_id'])) {\n                this.setState({\n                    notificationLoading: true,\n                }, () => {\n                    axios.get(`${client.io.io.uri}getUserNotifications`, {\n                        params: {\n                            userId: this.props.user.info.user._id,\n                            limit: NOTIFICATION_PAGE_SIZE,\n                            skip: skip || 0\n                        }\n                    }).then(res => {\n\n                        this.setState({\n                            notificationLoading: false,\n                            notifications: this.state.notificationPage == 1 ? _.get(res, 'data.data') || [] : _.concat(this.state.notifications, _.get(res, 'data.data') || []),\n                            notificationTotal: _.get(res, 'data.total') || 0,\n                        })\n\n                    }).catch(err => {\n                        this.setState({\n                            notificationLoading: false,\n                        })\n                    });\n                })\n            } else {\n                this.setState({\n                    notifications: [],\n                })\n            }\n        } catch (error) {\n            console.log(error);\n        }\n    }\n\n    getUserSeenNotifications() {\n\n        try {\n            if (_.get(this.props.user, ['authenticated']) && _.get(this.props.user, ['info', 'user', '_id'])) {\n                client.service('notificationseen').find({\n                    query: {\n                        userId: this.props.user.info.user._id\n                    }\n                }).then(res => {\n                    this.setState({\n                        seenNotifications: _.get(res, ['data']) || [],\n                    })\n\n                }).catch(err => {\n                    console.log(err);\n                });\n            } else {\n                this.setState({\n                    seenNotifications: [],\n                })\n            }\n        } catch (error) {\n            console.log(error);\n        }\n    }\n\n    async setFirebaseToken(reauthenticate) {\n        try {\n\n            const token = await initFirebaseToken();\n            if (token != this.props.app.notificationToken || !this.props.app.notificationTokenTimeOutDate || moment().diff(moment(this.props.app.notificationTokenTimeOutDate), 'days', true) > 1 || reauthenticate) {\n\n                this.props.setNotificationToken(token);\n                this.props.setNotificationTokenTimeOutDate(moment().add(1, 'days'));\n                let self = this;\n                this.subscribeNotificationTopics(token).then(() => {\n                    if (self.state.notificationPage == 1) {\n                        self.getUserNotifications(0);\n                    } else {\n                        self.setState({\n                            notificationPage: 1,\n                        })\n                    }\n                });\n\n            }\n            this.listenOnNotification();\n        } catch (error) {\n            console.log(error);\n        }\n    }\n\n    listenOnNotification() {\n\n        const messaging = firebase.messaging();\n        messaging.onMessage((message) => {\n            this._renderNotification(message);\n            if (_.get(message, 'data._id') && _.get(this.props.user, ['authenticated']) && _.get(this.props.user, ['info', 'user', '_id'])) {\n                client.service('notifications').find({\n                    query: {\n                        _id: message.data._id,\n                        $limit: 1,\n                    }\n                }).then(res => {\n                    if (_.get(res, 'data[0]')) {\n                        this.setState({\n                            notifications: [res.data[0], ...this.state.notifications]\n                        })\n                    }\n                })\n            }\n            //\n        });\n    }\n\n    subscribeNotificationTopics(token) {\n\n        if (_.get(this.props.user, ['authenticated']) && _.get(this.props.user, ['info', 'user', '_id'])) {\n            return axios.post(`${client.io.io.uri}pushNotificationTokenToUser`, {\n                userId: _.get(this.props.user, ['info', 'user', '_id']),\n                token: token\n            })\n        } else {\n            return axios.post(`${client.io.io.uri}subscribePublicNotification`, {\n                token: token,\n            })\n        }\n    }\n\n    _renderNotification = (data) => {\n\n        notification.open({\n            message: _.get(data, 'notification.title') || '',\n            description: _.get(data, 'notification.body') || '',\n            duration: 10,\n            placement: 'bottomRight',\n            icon: <Avatar src={_.get(data, 'data.avatar') || ccarLogo} />,\n            key: v4(),\n            className: 'cursor-pointer',\n            onClick: () => {\n                if (_.get(data, 'data.path')) {\n                    this.props.router.push(_.get(data, 'data.path') || '/')\n                }\n            },\n\n        })\n    }\n\n    sendTestMessage(text) {\n        axios.post(`${client.io.io.uri}sendTestNotification`, {\n            params: {\n                text: text || '',\n            }\n        }).then(res => {\n\n        }).catch(err => {\n        });\n    }\n\n    componentDidMount() {\n        if (typeof window != 'undefined') {\n            this.setState({\n                window: window,\n            })\n        }\n\n        window.scrollTo(0, 0);\n        this.handleExpiredToken();\n        this.setFirebaseToken();\n        if (_.get(this.props.user, ['authenticated']) && _.get(this.props.user, ['info', 'user', '_id'])) {\n            this.getUserSeenNotifications();\n            if (this.state.notificationPage == 1) {\n                this.getUserNotifications(0);\n            } else {\n                this.setState({\n                    notificationPage: 1,\n                })\n            }\n        }\n        this.props.loading(false);\n        // if(this.props.location.pathname.indexOf('viewCar') > 0){\n        //   window.location.href=\"ccarmy:/\" + this.props.location.pathname\n        // }\n        // this.props.setMenuHeight(document.getElementById('menu-bar').getBoundingClientRect().height);\n        if (this.props.backgroundImage) {\n            this.setState({\n                backgroundStyle: {\n                    ...this.state.backgroundStyle,\n                    backgroundImage: this.props.backgroundImage,\n                }\n            })\n        }\n\n        if (this.props.scrollRange) {\n            this.setState({\n                scrollRange: this.props.scrollRange,\n            })\n        }\n\n        axios.get(`${client.io.io.uri}getCmsParameters`).then(res => {\n            if (notEmptyLength(res.data.data)) {\n                let self = this;\n                _.forEach(res.data.data, function (item) {\n                    switch (item.table) {\n                        case 'compareNewCar':\n                            // self.props.fetchCompareNewCarLimit(-1);\n                            break;\n                        case 'compareLimit':\n                            self.props.fetchCompareCarLimit(isValidNumber(parseInt(_.get(item, ['compareLimit']))) ? parseInt(_.get(item, ['compareLimit'])) : 5);\n                            break;\n\n                        default:\n                            break;\n                    }\n                })\n            }\n        }).catch(err => {\n            // message.error(err.message)\n        });\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n\n        if (prevProps.scrollRange != this.props.scrollRange) {\n            this.setState({\n                scrollRange: this.props.scrollRange,\n            })\n        }\n\n        if (!_.isEqual(prevState.window, this.state.window)) {\n            this.state.window.addEventListener('scroll', this.handleScroll, { passive: true });\n\n            return () => {\n                this.state.window.removeEventListener('scroll', this.handleScroll);\n            };\n        }\n\n        if (prevProps.user.authenticated != this.props.user.authenticated) {\n            this.setFirebaseToken(true);\n            this.getUserSeenNotifications();\n            if (this.state.notificationPage == 1) {\n                this.getUserNotifications(0);\n            } else {\n                this.setState({\n                    notificationPage: 1,\n                })\n            }\n        }\n\n        if (prevState.notificationBoxVisible != this.state.notificationBoxVisible) {\n            if (this.state.notificationBoxRef.current) {\n                this.state.notificationBoxRef.current.scrollToTop();\n            }\n\n        }\n\n        if (prevState.notificationPage != this.state.notificationPage && arrayLengthCount(this.state.notifications) < NOTIFICATION_MAX_LIMIT) {\n            this.getUserNotifications((this.state.notificationPage - 1) * NOTIFICATION_PAGE_SIZE)\n        }\n    }\n\n    handleScroll = (e) => {\n        this.setState({\n            scrollY: window.scrollY,\n        })\n        let scrollBarHeight = window.innerHeight * (window.innerHeight / document.body.offsetHeight);\n        if (window.scrollY + scrollBarHeight + this.state.scrollRange >= document.body.scrollHeight) {\n            if (this.props.onScrolledBottom) {\n                this.props.onScrolledBottom();\n            }\n        }\n\n    };\n\n    _renderUser = (profileMenu) => {\n        let self = this;\n        if (_.get(this.props, ['user', 'authenticated'])) {\n            return (\n                <span className='d-inline-block margin-x-md flex-items-align-center' >\n                    {/* <span className='d-inline-block margin-right-md' >\n                        <Badge count={1}>\n                            <Avatar\n                                icon={!this.props.user.info || !this.props.user.info.user || !this.props.user.info.user.avatar ? 'user' : null}\n                                src={!this.props.user.info || !this.props.user.info.user || !this.props.user.info.user.avatar ? null : this.props.user.info.user.avatar} />\n                        </Badge>\n                    </span> */}\n                    <Dropdown placement=\"bottomRight\" overlayClassName=\"padding-top-lg\" visible={self.state.showProfileMenu} onVisibleChange={(v) => {\n                        if (self.state.showProfileMenu != v) {\n                            self.setState({\n                                showProfileMenu: v,\n                            })\n                        }\n                    }} overlayStyle={{ width: '250px' }} overlay={() => {\n                        return (\n                            <Menu>\n                                {\n                                    _.map(profileMenu, function (menu, index) {\n                                        return (\n                                            <Menu.Item key={`profile-menu-${++index}`} className='padding-sm'>\n                                                <Link shallow={false} href={menu.to || '/'} as={typeof (menu.as) == 'function' ? menu.as(_.get(self.props.user, ['info', 'user'])) : '/'}   >\n                                                    <a>\n                                                        {\n                                                            menu.render ?\n                                                                menu.render()\n                                                                :\n                                                                <div className=\"flex-justify-start flex-items-align-center\">\n                                                                    <span className='d-inline-block margin-x-sm'>\n                                                                        {menu.icon}\n                                                                    </span>\n                                                                    <span className='d-inline-block black headline subtitle1   cursor-pointer margin-x-sm' >\n                                                                        {menu.text}\n                                                                    </span>\n                                                                </div>\n                                                        }\n                                                    </a>\n\n                                                </Link>\n                                            </Menu.Item>\n                                        )\n                                    })\n                                }\n                                {\n                                    _.get(this.props.user, ['info', 'user', 'role']) != 'mobile-user' && _.get(this.props.user, ['info', 'user', 'role']) != 'normaluser' ?\n                                        <Menu.Item key={`profile-menu-dealership`} className='padding-sm' onClick={(e) => {\n\n                                        }}>\n                                            <div className=\"flex-justify-start flex-items-align-center\">\n                                                <Button className=\" background-ccar-button-yellow black border-ccar-button-yellow text-align-center\" block target=\"_blank\" href={frontUrl} >Manage My Ads</Button>\n                                            </div>\n                                        </Menu.Item>\n                                        :\n                                        null\n                                }\n                            </Menu>\n                        )\n                    }}>\n                        <span className='d-inline-block cursor-pointer' style={{ maxWidth: '200px' }} >\n                            <UserAvatar showNameRight avatarClassName=\"flex-items-no-shrink\" textClassName=\"white text-truncate subtitle1\" size={35} data={_.get(this.props.user, ['info', 'user'])} />\n                        </span>\n                    </Dropdown>\n\n\n                    <span className='d-inline-block margin-left-md' >\n                        {this._renderNotificationBox()}\n                    </span>\n                </span>\n            );\n        } else {\n            return (\n                <span className='flex-items-align-center margin-x-md white subtitle1 cursor-pointer ' onClick={() => { this.props.loginMode(true) }}>\n                    <img src=\"/assets/CarListingIcon/login@3x-2.png\" style={{ width: 20 }} className=\"margin-right-xs\" />\n                    Login\n                </span>\n            )\n        }\n    }\n\n    _renderUserRes = (profileMenu) => {\n        let self = this;\n        if (_.get(this.props, ['user', 'authenticated'])) {\n            return (\n                <span className='d-inline-block margin-bottom-xs flex-items-align-center' >\n                    <Dropdown placement=\"bottomRight\" overlayClassName=\"padding-top-lg\" overlayStyle={{ width: '250px' }} overlay={() => {\n                        return (\n                            <Menu>\n                                {\n                                    _.map(profileMenu, function (menu, index) {\n                                        return (\n                                            <Menu.Item key={`profile-menu-${++index}`} className='padding-sm'>\n                                                <Link shallow={false} href={menu.to || '/'} as={typeof (menu.as) == 'function' ? menu.as(_.get(self.props.user, ['info', 'user'])) : '/'}    >\n                                                    <a>\n                                                        <div className=\"flex-justify-start flex-items-align-center\">\n                                                            <span className='d-inline-block margin-x-sm'>\n                                                                {menu.icon}\n                                                            </span>\n                                                            <span className='d-inline-block black headline subtitle1   cursor-pointer margin-x-sm' >\n                                                                {menu.text}\n                                                            </span>\n                                                        </div>\n                                                    </a>\n                                                </Link>\n                                            </Menu.Item>\n                                        )\n                                    })\n                                }\n                                {\n                                    _.get(this.props.user, ['info', 'user', 'role']) != 'mobile-user' && _.get(this.props.user, ['info', 'user', 'role']) != 'normaluser' ?\n                                        <Menu.Item key={`profile-menu-dealership`} className='padding-sm' onClick={(e) => {\n\n                                        }}>\n                                            <div className=\"flex-justify-start flex-items-align-center\">\n                                                <Button className=\" background-ccar-button-yellow black border-ccar-button-yellow text-align-center\" block shape=\"round\" target=\"_blank\" href={frontUrl} >Manage My Ads</Button>\n                                            </div>\n                                        </Menu.Item>\n                                        :\n                                        null\n                                }\n                            </Menu>\n                        )\n                    }}>\n                        <div>\n                            <div className=' cursor-pointer' >\n                                <Badge >\n                                    <Avatar\n                                        icon={!this.props.user.info || !this.props.user.info.user || !this.props.user.info.user.avatar ? 'user' : null}\n                                        src={!this.props.user.info || !this.props.user.info.user || !this.props.user.info.user.avatar ? null : this.props.user.info.user.avatar} />\n                                </Badge>\n                            </div>\n                            <div style={{ color: \"#1890ff\" }} className=' subtitle1 cursor-pointer'>\n                                My Profile\n                            </div>\n                        </div>\n                    </Dropdown>\n                </span>\n            );\n        } else {\n            return (\n                // <span style={{ color: \"#1890ff\" }} className='flex-items-align-center subtitle1 cursor-pointer ' >\n                <span>\n                    {/* <img src=\"/assets/CarListingIcon/login@3x-2.png\" style={{ width: 20 }} className=\"margin-right-xs\" /> */}\n                    <Button className=\" background-ccar-button-yellow black border-ccar-button-yellow text-align-center cursor-pointer round-border\" onClick={() => { this.props.loginMode(true) }}>\n                        Login\n                    </Button>\n                </span>\n            )\n        }\n    }\n\n    _renderFooter = () => {\n        return (\n            <React.Fragment>\n                <Layout.Footer className=\"footer\">\n                    <div className=\"fixed-container\">\n                        <div>\n                            <Row>\n                                <Col xs={0} sm={0} md={12} lg={12} xl={12}>\n                                    <Row>\n                                        <Col xs={20} sm={20} md={20} lg={20} xl={20} style={{ color: 'white', textAlign: 'left' }}>\n                                            <p style={{ marginBottom: '0px', marginTop: '12px', fontWeight: '700' }}> #1 Car Social Platform </p>\n                                        </Col>\n                                    </Row>\n                                </Col>\n                                <Col xs={0} sm={0} md={12} lg={12} xl={12} style={{ textAlign: 'right', color: 'white' }}>\n                                    {/* <span> Available on:</span> */}\n                                    <span> <a href=\"https://play.google.com/store/apps/details?id=com.ccarmy\" target=\"_blank\"> <img style={{ padding: '5px', width: 40 }} src=\"/assets/Social Media/Google Play@3x.png\" /></a> </span>\n                                    <span> <a href=\"https://apps.apple.com/my/app/ccar-my/id1526288072\" target=\"_blank\"><img style={{ padding: '5px', width: 40 }} src=\"/assets/Social Media/Apple Store @3x.png\" /></a></span>\n                                    <span> <a href=\"https://appgallery.huawei.com/#/app/C102692397\" target=\"_blank\"><img style={{ padding: '5px', width: 38 }} src=\"/assets/Social Media/huawei.png\" /></a></span>\n\n                                    {/* <span> Find us at: </span> */}\n                                    <span> <a href=\"https://www.facebook.com/CCARmy-101790904962298/\" target=\"_blank\"> <img style={{ padding: '5px', width: 40 }} src=\"/assets/Social Media/Facebook @3x.png\" /></a> </span>\n                                    <span> <a href=\"https://www.instagram.com/ccar.my/\" target=\"_blank\"> <img style={{ padding: '5px', width: 35 }} src=\"/assets/Social Media/instagram.png\" /></a> </span>\n                                    <span> <a href=\"https://www.youtube.com/channel/UCxicQ1-VsdNWEdGZCqU-35g\" target=\"_blank\"> <img style={{ padding: '5px', width: 40 }} src=\"/assets/Social Media/youtube.png\" /> </a> </span>\n                                </Col>\n\n                                <Col xs={24} sm={24} md={0} lg={0} xl={0}>\n                                    <Row>\n                                        <Col span={8} className=\"justify-flex-start\" >\n                                            <p style={{ fontSize: '10px', color: 'white', fontWeight: '700', marginTop: '4px', marginBottom: '0px', float: 'left' }}> #1 Car Social Platform </p>\n                                        </Col>\n                                        <Col span={16} style={{ fontSize: '15px' }}>\n                                            <Row>\n                                                <Col xs={24} sm={24} md={24} lg={24} xl={24} style={{ fontSize: '10px', color: 'white' }}>\n                                                    <div style={{ float: 'right' }}>\n                                                        {/* <span> Available on:</span> */}\n                                                        <span> <a href=\"https://play.google.com/store/apps/details?id=com.ccarmy\" target=\"_blank\"> <img style={{ padding: '2px', width: 25 }} src=\"/assets/Social Media/Google Play@3x.png\" /></a> </span>\n                                                        <span> <a href=\"https://apps.apple.com/my/app/ccar-my/id1526288072\" target=\"_blank\"><img style={{ padding: '2px', width: 25 }} src=\"/assets/Social Media/Apple Store @3x.png\" /></a></span>\n                                                        <span> <a href=\"\" target=\"_blank\"><img style={{ padding: '2px', width: 23 }} src=\"/assets/Social Media/huawei.png\" /></a></span>\n\n                                                        {/* <span> Find us at: </span> */}\n                                                        <span> <a href=\"https://www.facebook.com/CCARmy-101790904962298/\" target=\"_blank\"> <img style={{ padding: '2px', width: 25 }} src=\"/assets/Social Media/Facebook @3x.png\" /></a> </span>\n                                                        <span> <a href=\"https://www.instagram.com/ccar.my/\" target=\"_blank\"> <img style={{ padding: '2px', width: 20 }} src=\"/assets/Social Media/instagram.png\" /></a> </span>\n                                                        <span> <a href=\"https://www.youtube.com/channel/UCxicQ1-VsdNWEdGZCqU-35g\" target=\"_blank\"> <img style={{ padding: '2px', width: 25 }} src=\"/assets/Social Media/youtube.png\" /> </a> </span>\n                                                    </div>\n                                                </Col>\n                                            </Row>\n                                        </Col>\n                                    </Row>\n                                </Col>\n                            </Row>\n\n                            <Row>\n                                <Col span={24}>\n                                    <Divider orientation=\"left\" style={{ border: 'solid 1px #FFCC32', fontWeight: 'normal', margin: '4px 0px' }} />\n\n                                    <Row style={{ color: '#E3C57D' }}>\n                                        <Col xs={12} sm={12} md={12} lg={12} xl={12} style={{ fontSize: '15px' }}>\n                                            <div className=\"flex-justify-start white flex-items-align-center main-footer \">\n                                                CCAR.MY <Icon type=\"copyright\" /> 2020\n                                                </div>\n                                        </Col>\n                                        <Col xs={12} sm={12} md={12} lg={12} xl={12} style={{ fontSize: '15px', textAlign: 'right' }}>\n                                            <div className=\"flex-justify-end flex-items-align-center main-footer\">\n                                                {/* Terms of Use | Privacy Policy */}\n                                                <Link shallow={false} href={routePaths.termsOfUse.to || '/'} as={typeof (routePaths.termsOfUse.as) == 'function' ? routePaths.termsOfUse.as() : '/'}   >Terms of Use | Privacy Policy</Link>\n                                            </div>\n                                        </Col>\n                                    </Row>\n                                </Col>\n                            </Row>\n\n                        </div>\n                    </div>\n                </Layout.Footer>\n            </React.Fragment>\n        )\n    }\n\n    _renderNotificationBox = () => {\n\n        const tabs = [\n            {\n                value: 'carfreaks',\n                text: 'CarFreaks',\n            },\n            {\n                value: 'carAds',\n                text: 'CarMarket',\n            },\n            {\n                value: 'other',\n                text: 'Others',\n            },\n        ]\n\n        let self = this;\n\n        return (\n            <Popover\n                onVisibleChange={(v) => {\n                    if (self.state.notificationBoxVisible != v) {\n                        this.setState({\n                            notificationBoxVisible: v,\n                        })\n                    }\n                }}\n                overlayClassName=\"pop-over-body-no-padding pop-over-title-no-padding\"\n                overlayStyle={{ position: 'fixed' }}\n                trigger=\"click\"\n                arrowPointAtCenter\n                placement=\"bottomLeft\"\n                title={\n                    <div className=\" h6 font-weight-bold grey-darken-1 padding-x-md padding-y-xs\" style={{ width: NOTIFICATION_BOX_WIDTH }}>\n                        Notifications\n                     </div>\n                }\n                content={\n                    <div style={{ width: NOTIFICATION_BOX_WIDTH }}>\n                        {/* <div className=\"flex-justify-start flex-items-align-center\">\n                            {\n                                _.map(tabs, function (tab) {\n                                    return (\n                                        <span className={`d-inline-block margin-right-md cursor-pointer ${self.state.notificationTabKey == tab.value ? 'ccar-button-yellow' : 'grey-darken-1'}`} onClick={(e) => {\n                                            self.setState({\n                                                notificationTabKey: tab.value\n                                            })\n                                        }} >\n                                            {tab.text}\n                                        </span>\n                                    )\n                                })\n                            }\n                        </div> */}\n                        {\n                            _.isArray(self.state.notifications) && !_.isEmpty(self.state.notifications) ?\n                                <ScrollLoadWrapper getRef={(ref) => {\n                                    self.setState({\n                                        notificationBoxRef: ref,\n                                    })\n                                }}\n                                    autoHide\n                                    scrollRangeUsePercentage scrollRange={50} autoHide autoHeight autoHeightMax={400}\n                                    onScrolledBottom={() => {\n                                        if (arrayLengthCount(this.state.notifications) < this.state.notificationTotal && !this.state.notificationLoading) {\n                                            self.setState({\n                                                notificationPage: this.state.notificationPage + 1,\n                                            })\n                                        }\n                                    }}>\n                                    <div >\n                                        {\n                                            _.map(this.state.notifications, function (notification) {\n                                                if (_.isPlainObject(notification) && !_.isEmpty(notification)) {\n                                                    return (\n                                                        <Link href={notification.path || '/'}>\n                                                            <a>\n                                                                <div className={`flex-justify-start flex-items-align-center hover-background-yellow-lighten-2 padding-x-md cursor-pointer grey-darken-1 width-100 ${_.some(self.state.seenNotifications, ['notificationId', notification._id]) ? '' : 'background-light-blue-lighten-5'}`} onClick={(e) => {\n                                                                    if (!_.some(self.state.seenNotifications, ['notificationId', notification._id])) {\n                                                                        client.service('notificationseen').create({\n                                                                            userId: _.get(self.props.user, ['info', 'user', '_id']),\n                                                                            notificationId: notification._id,\n                                                                        }, {\n                                                                            query: {\n                                                                                userId: _.get(self.props.user, ['info', 'user', '_id']),\n                                                                                notificationId: notification._id,\n                                                                            },\n                                                                        }).then(res => {\n                                                                            self.setState({\n                                                                                seenNotifications: _.concat([res], self.state.seenNotifications),\n                                                                            })\n                                                                        })\n                                                                    }\n                                                                }}\n                                                                >\n                                                                    <img src={notification.avatar || ccarLogo} style={{ width: 50, height: 50 }} className=\"margin-right-md avatar\" />\n                                                                    <span className='d-inline-block width-80' >\n                                                                        <div className=\" body2 text-truncate-twoline grey-darken-3\">\n                                                                            {_.get(notification, 'title') || ''}\n                                                                        </div>\n                                                                        <div className=\"overline text-truncate \">\n                                                                            {_.get(notification, 'body') || ''}\n                                                                        </div>\n                                                                        <div className=\"small-text text-truncate margin-top-sm\">\n                                                                            {moment(notification.createdAt).fromNow()}\n                                                                        </div>\n                                                                    </span>\n                                                                </div>\n                                                            </a>\n                                                        </Link>\n                                                    )\n                                                }\n                                                return null;\n                                            })\n                                        }\n                                    </div>\n                                </ScrollLoadWrapper>\n                                :\n                                <div className=\"flex-justify-center flex-items-align-center\" style={{ height: 300 }}>\n                                    <span className=\"d-inline-block\">\n                                        <div className=\"flex-justify-center flex-items-align-center\">\n                                            <img src={bellInactive} style={{ height: 70, width: 70 }} />\n                                        </div>\n                                        <div className=\"h6 grey-darken-1 margin-top-sm\">\n                                            No notification yet\n                                        </div>\n                                        <div className=\"caption grey-darken-1 flex-justify-center\">\n                                            When you get notification,\n                                        </div>\n                                        <div className=\"caption grey-darken-1 flex-justify-center\">\n                                            they'll show up here\n                                        </div>\n                                        <div className=\"flex-justify-center margin-top-sm\">\n                                            <Button className=\" background-ccar-button-yellow\">Refresh</Button>\n                                        </div>\n\n                                    </span>\n                                </div>\n                        }\n                    </div>\n                }\n\n            >\n                <Desktop>\n                    <span className=\"flex-justify-start flex-items-align-center\" id=\"notification-menu-item\">\n                        <Badge dot><Icon type=\"bell\" theme=\"filled\" className=\"white cursor-pointer\" style={{ fontSize: 20 }} /></Badge>\n                    </span>\n                </Desktop>\n\n                <Tablet>\n                    <span className=\"flex-justify-start flex-items-align-center\" id=\"notification-menu-item\">\n                        <Badge dot><Icon type=\"bell\" theme=\"filled\" className=\"white cursor-pointer\" style={{ fontSize: 25 }} /></Badge>\n                    </span>\n                </Tablet>\n            </Popover>\n        )\n    }\n\n    render() {\n        let self = this;\n\n        const outterMenu = [\n            {\n                icon: '',\n                text: 'CarMarket',\n                ...routePaths.carsOnSale,\n            },\n            {\n                icon: '',\n                text: 'All-NewCar',\n                ...routePaths.newCar,\n            },\n            {\n                icon: '',\n                text: <span className='d-inline-block white background-red  padding-x-md' style={{ borderRadius: '5px' }} >\n                    LIVE\n    </span>,\n                ...routePaths.live\n            },\n        ];\n\n\n\n        let innerMenu = [\n            {\n                icon: '',\n                text: 'Car Review',\n                ...routePaths.carReview,\n            },\n            {\n                icon: '',\n                text: 'Social News & Videos',\n                ...routePaths.socialNewsAndVideo,\n            },\n            {\n                icon: '',\n                text: 'CarFreaks',\n                ...routePaths.carFreaks,\n            },\n            {\n                icon: '',\n                text: 'Petrol Price',\n                ...routePaths.petrolPrice,\n            },\n            {\n                icon: '',\n                text: 'Driving School',\n                ...routePaths.kpp,\n            },\n            {\n                icon: '',\n                text: 'About Us',\n                ...routePaths.aboutUs,\n            },\n            {\n                icon: '',\n                text: 'Contact Us',\n                ...routePaths.contactUs,\n            },\n\n        ];\n\n        if (currentEnv !== 'prod') {\n            let insurances = [\n                {\n                    icon: '',\n                    text: 'Road Tax & Insurance',\n                    path: '/roadtax-insurance'\n                },\n                {\n                    icon: '',\n                    text: 'Extended Warranty',\n                    path: '/extended-warranty'\n                },\n                {\n                    icon: '',\n                    text: 'Latest Car Plate No.',\n                    path: '/latest-car-plate-no'\n                },\n            ]\n            innerMenu = innerMenu.concat(insurances)\n        }\n\n        let profileMenu = [\n            {\n                icon: <span className='flex-items-align-center flex-justify-center avatar background-grey-darken-3' style={{ width: '20px', height: '20px' }} >\n                    <Icon type=\"user\" style={{ fontSize: '12px', color: 'white' }} />\n                </span>,\n                text: 'Profile',\n                ...routePaths.profile\n            },\n            {\n                icon: <span className='flex-items-align-center flex-justify-center' >\n                    <img src={wishList} style={{ width: '20px', height: '20px' }} />\n                </span>,\n                text: 'My Wishlist',\n                ...routePaths.profile\n            },\n            {\n                icon: (<span className='d-inline-block relative-wrapper' style={{ width: '20px', height: '20px' }} >\n                    <img src='/logout icon.svg' className='fill-parent absolute-center'></img>\n                </span>),\n                text: 'Log out',\n                ...routePaths.logout\n            },\n        ];\n\n        return (\n            <Layout>\n                {/* <WindowScrollDisableWrapper> */}\n                <div className=\"relative-wrapper\">\n                    <Row style={{ position: 'sticky', top: 0, zIndex: '99', height: '61px' }}>\n                        <Col xs={24} sm={24} md={24} lg={24} xl={24} >\n                        <Mobile>\n                            <div id=\"menu-bar\" className=\"topnav\" style={{ position: 'sticky', top: 0, zIndex: '99', minHeight: '100px', backgroundColor: '#000000' }}>\n                                <Row type=\"flex\" align=\"middle\" className='padding-x-md' >\n                                    <Col xs={8} sm={8} md={8} lg={8} xl={8}>\n                                        <div className='flex-justify-start flex-items-align-center topnav-child'  >\n                                            <span className='d-inline-block relative-wrapper margin-right-md cursor-pointer' style={{ height: '62px', width: '214px' }} onClick={(e) => { this.props.history.push('/') }}>\n                                                <img alt=\"ccar\" className=\"fill-parent absolute-center\" src=\"/assets/ccar-header-logo.svg\" />\n                                            </span>\n                                        </div>\n                                    </Col>\n                                    <Col xs={12} sm={12} md={12} lg={12} xl={12}>\n                                        <GlobalSearchBar searchTypes={this.props.searchTypes || ['productAds', 'carspec', 'dealerWithAds']} />\n                                    </Col>\n                                    <Col xs={2} sm={2} md={2} lg={2} xl={2} offset={2}>\n                                        <div className=\"login-drawer\" style={{ width: '300' }}>\n                                            <Button type=\"primary\" onClick={this.showDrawer} style={{ marginBottom: 0, float: 'right' }} >\n                                                <Icon type=\"menu\" />\n                                            </Button>\n                                            <Drawer\n                                                title=\"Main Menu\"\n                                                placement=\"right\"\n                                                closable={true}\n                                                onClose={this.onClose}\n                                                visible={this.state.visible}\n                                                width = {'100%'}\n                                            >\n                                                <div className=\"margin-bottom-md\" backgroundImage={`url(\"${menuLogin}\")`}>\n                                                    <div>\n                                                        <p>Login to access more features now!</p> \n                                                    </div>\n                                                    <div className=\"flex-justify-center\">\n                                                        {this._renderUserRes(profileMenu)}\n                                                    </div>\n                                                </div>\n\n                                                {/* <div style={{fontSize:'16px', margin:'10px'}} className={`flex-items-no-shrink margin-sm ${this.props.app.activeMenu == '1' ? 'yellow' : ''}`} onClick={() => {this.props.router.push('/')}}> Home</div> */}\n\n                                                <Row className=\"margin-bottom-md\">\n                                                    <Col span={11} className=\"thickBorder round-border\">\n                                                        <div style={{fontSize:'14px', margin:'10px'}} className={`flex-items-no-shrink margin-sm ${this.props.app.activeMenu == '2' ? 'yellow' : ''}`} onClick={() => {this.props.router.push('/car-market-homepage/index')}}> \n                                                            <img src=\"/assets/menu-icon/buy-car.png\" style={{width:'40%'}}></img>\n                                                            <p style={{marginBottom:'0px', color:'#000000'}}> CarMarket </p>\n                                                        </div>\n                                                    </Col>\n                                                    <Col span={11} offset={2} className=\"thickBorder round-border \">\n                                                        <div style={{fontSize:'14px', margin:'10px'}} className={`flex-items-no-shrink margin-sm ${this.props.app.activeMenu == '3' ? 'yellow' : ''}`} onClick={() => {this.props.router.push('/newcar')}}> \n                                                            <img src=\"/assets/menu-icon/new-car.png\" style={{width:'40%'}}></img>\n                                                            <p style={{marginBottom:'0px', color:'#000000'}}>All-NewCar</p>\n                                                        </div>\n                                                    </Col>\n                                                </Row>\n\n                                                <Row className=\"margin-bottom-md\">\n                                                    <Col span={11} className=\"thickBorder round-border\">\n                                                        <div style={{fontSize:'14px', margin:'10px'}} className={`flex-items-no-shrink margin-sm ${this.props.app.activeMenu == '6' ? 'yellow' : ''}`} onClick={() => {this.props.router.push('/car-freaks')}}> \n                                                            <img src=\"/assets/menu-icon/carfreaks.png\" style={{width:'40%'}}></img>\n                                                            <p style={{marginBottom:'0px', color:'#000000'}}>CarFreaks</p>\n                                                        </div>\n                                                    </Col>\n                                                    <Col span={11} offset={2} className=\"thickBorder round-border\">\n                                                        <div style={{fontSize:'14px', margin:'10px'}} className={`flex-items-no-shrink margin-sm ${this.props.app.activeMenu == '4' ? 'yellow' : ''}`} onClick={() => {this.props.router.push('/live')}}> \n                                                            <img src=\"/assets/menu-icon/live.png\" style={{width:'40%'}}></img>\n                                                            <p style={{marginBottom:'0px', color:'#000000'}}>LIVE</p> \n                                                        </div>\n                                                    </Col>\n                                                </Row>\n\n                                                <Row className=\"margin-bottom-md\">\n                                                    <Col span={11} className=\"thickBorder round-border\">\n                                                        <div style={{fontSize:'14px', margin:'10px'}} className={`flex-items-no-shrink margin-sm ${this.props.app.activeMenu == '5' ? 'yellow' : ''}`} onClick={() => {this.props.router.push('/socialNews')}}> \n                                                            <img src=\"/assets/menu-icon/social-news.png\" style={{width:'40%'}}></img>\n                                                            <p style={{marginBottom:'0px', color:'#000000'}}>Social News </p>\n                                                        </div>\n                                                    </Col>\n                                                    <Col span={11} offset={2} className=\"thickBorder round-border\">\n                                                        <div style={{fontSize:'14px', margin:'10px'}} className={`flex-items-no-shrink margin-sm ${this.props.app.activeMenu == '9' ? 'yellow' : ''}`} onClick={() => {this.props.router.push('/socialVideos')}}> \n                                                            <img src=\"/assets/menu-icon/social-videos.png\" style={{width:'40%'}}></img>\n                                                            <p style={{marginBottom:'0px', color:'#000000'}}>Social Videos </p>\n                                                        </div>\n                                                    </Col>\n                                                </Row>\n\n                                                <Row className=\"margin-bottom-md\">\n                                                    <Col span={11} className=\"thickBorder round-border\">\n                                                        <div style={{fontSize:'14px', margin:'10px'}} className={`flex-items-no-shrink margin-sm ${this.props.app.activeMenu == '8' ? 'yellow' : ''}`} onClick={() => {this.props.router.push('/kpp')}}> \n                                                            <img src=\"/assets/menu-icon/driving-school.png\" style={{width:'40%'}}></img>\n                                                            <p style={{marginBottom:'0px', color:'#000000'}}>Driving School</p>\n                                                        </div>\n                                                    </Col>\n                                                    <Col span={11} offset={2} className=\"thickBorder round-border\">\n                                                        <div style={{fontSize:'14px', margin:'10px'}} className={`flex-items-no-shrink margin-sm ${this.props.app.activeMenu == '7' ? 'yellow' : ''}`} onClick={() => {this.props.router.push('/petrolprice')}}> \n                                                            <img src=\"/assets/menu-icon/fuel.png\" style={{width:'40%'}}></img>\n                                                            <p style={{marginBottom:'0px', color:'#000000'}}>Petrol Price</p>\n                                                        </div>\n                                                    </Col>\n                                                </Row>\n\n                                            {/* <div style={{fontSize:'16px', margin:'10px'}} className={`flex-items-no-shrink margin-sm ${this.props.app.activeMenu == '12' ? 'yellow' : ''}`} onClick={() => { this.props.router.push('/car-review') }} > Car Review</div>\n                                            <div style={{fontSize:'16px', margin:'10px'}} className={`flex-items-no-shrink margin-sm ${this.props.app.activeMenu == '11' ? 'yellow' : ''}`} onClick={() => {this.props.router.push('/about-us')}}> About Us</div>\n                                            <div style={{fontSize:'16px', margin:'10px'}} className={`flex-items-no-shrink margin-sm ${this.props.app.activeMenu == '10' ? 'yellow' : ''}`} onClick={() => {this.props.router.push('/contact-us')}}> Contact Us</div>\n                                            <div style={{fontSize:'16px', margin:'10px'}} className={`flex-items-no-shrink margin-sm ${this.props.app.activeMenu == '10' ? 'yellow' : ''}`} onClick={() => {this.props.router.push('/faq')}}> FAQ</div> */}\n\n                                            </Drawer>\n                                        </div>\n                                    </Col>\n                                </Row>\n                                <Divider style={{ border: 'solid 1px #FFCC32', fontWeight: 'normal', margin: '4px 0px' }} />\n                                <Row>\n                                    <Col span={24}>\n                                        <div className=\"flex-justify-start\" style={{ display: 'flex', overflowX: 'scroll', color: '#ffffff', paddingRight: '2px' }}>\n                                            <span className={`flex-items-no-shrink margin-sm ${this.props.app.activeMenu == '1' ? 'yellow' : ''}`} onClick={() => { this.props.router.push('/') }}> Home</span>\n                                            <span className={`flex-items-no-shrink margin-sm ${this.props.app.activeMenu == '2' ? 'yellow' : ''}`} onClick={() => { this.props.router.push('/car-market-homepage/index') }} > CarMarket</span>\n                                            <span className={`flex-items-no-shrink margin-sm ${this.props.app.activeMenu == '3' ? 'yellow' : ''}`} onClick={() => { this.props.router.push('/newcar') }} > All-NewCar</span>\n                                            <span className={`flex-items-no-shrink margin-sm ${this.props.app.activeMenu == '4' ? 'yellow' : ''}`} onClick={() => { this.props.router.push('/live') }} > LIVE</span>\n                                            <span className={`flex-items-no-shrink margin-sm ${this.props.app.activeMenu == '6' ? 'yellow' : ''}`} onClick={() => { this.props.router.push('/car-freaks') }} > CarFreaks</span>\n                                            <span className={`flex-items-no-shrink margin-sm ${this.props.app.activeMenu == '5' ? 'yellow' : ''}`} onClick={() => { this.props.router.push('/socialNews') }} > Social News</span>\n                                            <span className={`flex-items-no-shrink margin-sm ${this.props.app.activeMenu == '9' ? 'yellow' : ''}`} onClick={() => { this.props.router.push('/socialVideos') }} > Social Videos</span>\n                                            <span className={`flex-items-no-shrink margin-sm ${this.props.app.activeMenu == '7' ? 'yellow' : ''}`} onClick={() => { this.props.router.push('/petrolprice') }} > Petrol Price</span>\n                                            <span className={`flex-items-no-shrink margin-sm ${this.props.app.activeMenu == '8' ? 'yellow' : ''}`} onClick={() => { this.props.router.push('/kpp') }} > Driving School</span>\n                                        </div>\n                                    </Col>\n                                </Row>\n                            </div>\n                        </Mobile>\n\n                        </Col>\n                    </Row>\n\n\n                {\n                    _.get(this.props, ['app', 'loading']) ?\n                        <div className='background-grey-opacity-50 fill-parent absolute-center' style={{ zIndex: 1002 }}>\n                            <Affix offsetTop={(this.state.window.innerHeight || 500) / 2}>\n                                <div className=\"flex-justify-center width-100\">\n                                    <img src=\"/loading.gif\" style={{ width: 100, height: 100 }} />\n                                </div>\n                            </Affix>\n                        </div>\n                        :\n                        null\n                }\n\n                {/* </Content> */}\n                <div style={this.props.backgroundImage ? { minHeight: this.state.window.innerHeight || 500 - 180, ...this.state.backgroundStyle } : { minHeight: this.state.window.innerHeight || 500 - 90 }}>\n                    {this.props.children}\n                </div>\n\n                {/* <BackTop/> */}\n\n                {this._renderFooter()}\n                <div className='width-100' style={{ position: '-webkit-sticky', position: 'sticky', bottom: 0, zIndex: 1002 }}>\n                    {\n                        this.props.footerOverLay ?\n                            this.props.footerOverLay\n                            :\n                            this.props.hideOpenApp ?\n                                null\n                                :\n                                <React.Fragment>\n                                    <NotWebDevice>\n                                        <div className=\"padding-md background-black flex-items-align-center flex-justify-space-between\">\n                                            <span className=' flex-items-align-center' >\n                                                <img src={ccarLogo} style={{ height: 30, width: 30 }} className=\"margin-right-md flex-items-no-shrink\" />\n                                                <div className=\"caption white\">\n                                                    A place to connect car lovers' souls\n                                                </div>\n                                            </span>\n                                            <span className='d-inline-block ' >\n                                                <Button className=\" background-ccar-button-yellow black caption\" style={{ borderColor: '#FFCC32' }} onClick={(e) => { this.openApp() }}>Open App</Button>\n                                            </span>\n                                        </div>\n                                    </NotWebDevice>\n                                </React.Fragment>\n                    }\n                </div>\n                {/* <span className='d-inline-block' style={{ position: 'fixed', bottom: 30, left: 20, zIndex: 1002 }}  >\n                    {\n                        this.state.scrollY > 300 ?\n                            <Affix offsetBottom={100}>\n                                <div className=\"wrap-scrolltoTop\">\n                                    <Button onClick={() => this.state.window.scrollTo(0, 0)}><CaretUpOutlined /></Button>\n                                </div>\n                            </Affix>\n                            :\n                            null\n                    }\n                </span> */}\n\n                <span className='d-inline-block' style={{ position: 'fixed', bottom: 30, right: 20, zIndex: 1002 }}  >\n                    {\n                        this.props.showCompareCarButton != undefined && this.props.showCompareCarButton == false && this.props.showCompareCarButton != null ?\n                            null\n                            :\n                            <Affix offsetBottom={95} className='affix-element-show-on-modal-1'>\n                                <CompareFloatingButton />\n                            </Affix>\n                    }\n                </span>\n                </div>\n                {/* <style jsx=\"true\" global=\"true\">{``}</style> */ }\n        <LoginModal />\n        {/* <RegisterModal/> */ }\n        <CookieConsent\n            location=\"bottom\"\n            buttonText=\"Got it !\"\n            cookieName=\"consent\"\n            cookieValue={true}\n            style={{ background: \"#2B373B\" }}\n            buttonStyle={{ color: \"#4e503b\", fontSize: \"13px\" }}\n            expires={365}\n            onAccept={() => {\n                Cookies.set('consent', v4())\n            }}\n            acceptOnScroll={true}\n        >\n            By continuing to browse this website, you accept cookies which are used for several reasons such as personalizing content/ads and analyzing how this website is used.\n\n                    </CookieConsent>\n        {/* </WindowScrollDisableWrapper> */ }\n            </Layout >\n        )\n    }\n}\n\n\nfunction mapDispatchToProps(dispatch) {\n    return bindActionCreators({\n        loading: loading,\n        loginMode: loginMode,\n        registerMode: registerMode,\n        logoutSuccessful: logoutSuccessful,\n        updateActiveMenu: updateActiveMenu,\n        quickSearchProductsList: quickSearchProductsList,\n\n        setApplyYear: setApplyYear,\n        setApplyPrice: setApplyPrice,\n        setApplyMileage: setApplyMileage,\n        fetchCompareNewCarLimit: fetchCompareNewCarLimit,\n        fetchCompareCarLimit: fetchCompareCarLimit,\n\n        setMenuHeight: setMenuHeight,\n\n        clearProductFilterOptions: clearProductFilterOptions,\n\n        setNotificationToken: setNotificationToken,\n        setNotificationTokenTimeOutDate: setNotificationTokenTimeOutDate,\n        setUser,\n        setDisableWindowScroll,\n\n\n    }, dispatch);\n}\n\nfunction mapStateToProps(state) {\n    return {\n        app: state.app,\n        user: state.user\n    }\n}\n\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter((LayoutV2)));\n"]},"metadata":{},"sourceType":"module"}