{"ast":null,"code":"var __jsx = React.createElement;\nimport { ShareAltOutlined } from '@ant-design/icons';\nimport { Button, Form, message, Modal } from 'antd';\nimport copy from \"copy-to-clipboard\";\nimport React, { useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'next/router';\nimport { notEmptyLength } from '../../common-function';\nimport SocialShareButton from './SocialShareButton';\n\nconst ShareViewProduct = props => {\n  const {\n    0: visible,\n    1: setVisible\n  } = useState(false);\n  const {\n    0: link,\n    1: setLink\n  } = useState();\n  const {\n    0: title,\n    1: setTitle\n  } = useState('');\n  const {\n    0: iconSize,\n    1: setIconSize\n  } = useState(38);\n  const {\n    0: shape,\n    1: setShape\n  } = useState('square');\n  const {\n    0: network,\n    1: setNetwork\n  } = useState([// 'email',\n  'facebook', // 'messenger',\n  // 'hatena',\n  // 'instapaper',\n  // 'linkedin',\n  'line', // 'livejournal',\n  // 'mailru',\n  // 'ok',\n  // 'pinterest',\n  // 'pocket',\n  // 'reddit',\n  'telegram', // 'tumblr',\n  'twitter', // 'viber',\n  // 'vk',\n  // 'weibo',\n  'whatsapp' // 'workplace',\n  ]);\n  useEffect(() => {\n    if (!props.link) {\n      setLink(window.location.href);\n    }\n  }, []);\n\n  function close(e) {\n    setVisible(false);\n  }\n\n  function copyToClipboard() {\n    copy(link);\n    message.info('Copied link. Share it to others now!');\n  }\n\n  useEffect(() => {\n    let link;\n\n    try {\n      if (props.link) {\n        link = props.link;\n      } else {\n        link = window.location.href;\n      }\n\n      if (!link.includes('http://') && !link.includes('https://')) {\n        let prefix = window.location.href.split('//');\n        let naming = prefix[1].split('/')[0];\n        link = prefix[0] + '//' + naming + link;\n      }\n\n      link = link.split('//');\n      let surfix = link[1].split('/'); // surfix[0] = `share.${surfix[0]}`;\n\n      surfix[0] = `${surfix[0]}`;\n      surfix = surfix.join('/');\n      link[1] = surfix;\n      link = link.join('//');\n    } catch (error) {\n      link = window.location.href;\n    }\n\n    setLink(link);\n  }, [props.link, props.router.asPath]);\n  useEffect(() => {\n    if (props.title) {\n      setTitle(props.title);\n    }\n  }, [props.title]);\n  useEffect(() => {}, [title]);\n  useEffect(() => {\n    if (props.iconSize) {\n      setIconSize(props.iconSize);\n    }\n  }, [props.iconSize]);\n  useEffect(() => {\n    if (notEmptyLength(props.network)) {\n      setNetwork(props.network);\n    }\n  }, [props.network]);\n  useEffect(() => {\n    if (notEmptyLength(props.shape)) {\n      setShape(props.shape);\n    }\n  }, [props.shape]);\n  return __jsx(React.Fragment, null, __jsx(Modal, {\n    visible: visible,\n    centered: true,\n    maskClosable: true,\n    closable: false,\n    footer: null,\n    onCancel: close\n  }, __jsx(\"div\", {\n    className: \"flex-justify-center flex-items-align-center flex-wrap padding-sm \"\n  }, __jsx(\"div\", {\n    className: \"flex-justify-center flex-items-align-center padding-sm width-100 margin-bottom-sm \"\n  }, __jsx(\"span\", {\n    className: \"d-inline-block margin-x-sm \",\n    style: {\n      width: '30px',\n      height: '30px'\n    }\n  }, __jsx(\"img\", {\n    src: \"https://img.icons8.com/ios-filled/26/000000/forward-arrow.png\",\n    className: \"fill-parent\"\n  })), __jsx(\"span\", {\n    className: \"d-inline-block subtitle1 font-weight-bold text-overflow-break margin-x-sm\"\n  }, \"Share to...\")), __jsx(\"div\", {\n    className: \"padding-sm width-100\"\n  }, notEmptyLength(network) ? __jsx(\"div\", {\n    className: \"flex-justify-center flex-items-align-center flex-wrap\"\n  }, __jsx(SocialShareButton, {\n    link: link,\n    title: title,\n    network: network,\n    iconSize: iconSize,\n    shape: shape\n  })) : null, __jsx(\"div\", {\n    className: \"flex-justify-center flex-items-align-center flex-wrap\"\n  }, __jsx(\"a\", {\n    onClick: copyToClipboard\n  }, __jsx(\"span\", {\n    className: \"d-inline-block flex-justify-center flex-items-align-center background-transparent thin-border margin-md\",\n    style: {\n      width: \"auto\",\n      height: '40px',\n      padding: 12,\n      borderRadius: 4\n    }\n  }, __jsx(\"span\", {\n    className: \"d-inline-block margin-x-sm relative-wrapper\",\n    style: {\n      width: '22px',\n      height: '22px'\n    }\n  }, __jsx(\"img\", {\n    src: \"https://img.icons8.com/ios/50/000000/copy-link.png\",\n    className: \"fill-parent absolute-center\"\n  })), __jsx(\"span\", {\n    className: \"d-inline-block headline   font-weight-bold text-overflow-break grey-darken-3\"\n  }, \"Copy Link\"))))))), __jsx(\"a\", {\n    onClick: e => props.readOnly ? null : setVisible(true)\n  }, props.children ? props.children : __jsx(\"img\", {\n    src: \"https://img.icons8.com/metro/26/FFCC32/share.png\"\n  })));\n};\n\nconst mapStateToProps = state => ({\n  app: state.app,\n  user: state.user\n});\n\nconst mapDispatchToProps = {};\nexport default connect(mapStateToProps, mapDispatchToProps)(Form.create()(withRouter(ShareViewProduct)));","map":{"version":3,"sources":["/Users/faraheen/ccar-cms-next-mobile/components/general/share-view-product.jsx"],"names":["ShareAltOutlined","Button","Form","message","Modal","copy","React","useEffect","useState","connect","withRouter","notEmptyLength","SocialShareButton","ShareViewProduct","props","visible","setVisible","link","setLink","title","setTitle","iconSize","setIconSize","shape","setShape","network","setNetwork","window","location","href","close","e","copyToClipboard","info","includes","prefix","split","naming","surfix","join","error","router","asPath","width","height","padding","borderRadius","readOnly","children","mapStateToProps","state","app","user","mapDispatchToProps","create"],"mappings":";AAAA,SAASA,gBAAT,QAAiC,mBAAjC;AACA,SAASC,MAAT,EAAiBC,IAAjB,EAAuBC,OAAvB,EAAgCC,KAAhC,QAA6C,MAA7C;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,UAAT,QAA2B,aAA3B;AACA,SAASC,cAAT,QAA+B,uBAA/B;AACA,OAAOC,iBAAP,MAA8B,qBAA9B;;AAIA,MAAMC,gBAAgB,GAAIC,KAAD,IAAW;AAEhC,QAAM;AAAA,OAACC,OAAD;AAAA,OAAUC;AAAV,MAAwBR,QAAQ,CAAC,KAAD,CAAtC;AACA,QAAM;AAAA,OAACS,IAAD;AAAA,OAAOC;AAAP,MAAkBV,QAAQ,EAAhC;AACA,QAAM;AAAA,OAACW,KAAD;AAAA,OAAQC;AAAR,MAAoBZ,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM;AAAA,OAACa,QAAD;AAAA,OAAWC;AAAX,MAA0Bd,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM;AAAA,OAACe,KAAD;AAAA,OAAQC;AAAR,MAAoBhB,QAAQ,CAAC,QAAD,CAAlC;AACA,QAAM;AAAA,OAACiB,OAAD;AAAA,OAAUC;AAAV,MAAwBlB,QAAQ,CAAC,CACnC;AACA,YAFmC,EAGnC;AACA;AACA;AACA;AACA,QAPmC,EAQnC;AACA;AACA;AACA;AACA;AACA;AACA,YAdmC,EAenC;AACA,WAhBmC,EAiBnC;AACA;AACA;AACA,YApBmC,CAqBnC;AArBmC,GAAD,CAAtC;AAyBAD,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAG,CAACO,KAAK,CAACG,IAAV,EAAe;AACXC,MAAAA,OAAO,CAACS,MAAM,CAACC,QAAP,CAAgBC,IAAjB,CAAP;AACH;AACJ,GAJQ,EAIL,EAJK,CAAT;;AAMA,WAASC,KAAT,CAAeC,CAAf,EAAkB;AACdf,IAAAA,UAAU,CAAC,KAAD,CAAV;AACH;;AAED,WAASgB,eAAT,GAA2B;AACvB3B,IAAAA,IAAI,CAACY,IAAD,CAAJ;AACAd,IAAAA,OAAO,CAAC8B,IAAR,CAAa,sCAAb;AACH;;AAED1B,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIU,IAAJ;;AACA,QAAI;AACA,UAAIH,KAAK,CAACG,IAAV,EAAgB;AACZA,QAAAA,IAAI,GAAGH,KAAK,CAACG,IAAb;AACH,OAFD,MAEO;AACHA,QAAAA,IAAI,GAAGU,MAAM,CAACC,QAAP,CAAgBC,IAAvB;AACH;;AAED,UAAI,CAACZ,IAAI,CAACiB,QAAL,CAAc,SAAd,CAAD,IAA6B,CAACjB,IAAI,CAACiB,QAAL,CAAc,UAAd,CAAlC,EAA6D;AACzD,YAAIC,MAAM,GAAGR,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBO,KAArB,CAA2B,IAA3B,CAAb;AACA,YAAIC,MAAM,GAAGF,MAAM,CAAC,CAAD,CAAN,CAAUC,KAAV,CAAgB,GAAhB,EAAqB,CAArB,CAAb;AACAnB,QAAAA,IAAI,GAAGkB,MAAM,CAAC,CAAD,CAAN,GAAY,IAAZ,GAAmBE,MAAnB,GAA4BpB,IAAnC;AACH;;AACDA,MAAAA,IAAI,GAAGA,IAAI,CAACmB,KAAL,CAAW,IAAX,CAAP;AACA,UAAIE,MAAM,GAAGrB,IAAI,CAAC,CAAD,CAAJ,CAAQmB,KAAR,CAAc,GAAd,CAAb,CAbA,CAcA;;AACAE,MAAAA,MAAM,CAAC,CAAD,CAAN,GAAa,GAAEA,MAAM,CAAC,CAAD,CAAI,EAAzB;AACAA,MAAAA,MAAM,GAAGA,MAAM,CAACC,IAAP,CAAY,GAAZ,CAAT;AACAtB,MAAAA,IAAI,CAAC,CAAD,CAAJ,GAAUqB,MAAV;AACArB,MAAAA,IAAI,GAAGA,IAAI,CAACsB,IAAL,CAAU,IAAV,CAAP;AACH,KAnBD,CAmBE,OAAOC,KAAP,EAAc;AACZvB,MAAAA,IAAI,GAAGU,MAAM,CAACC,QAAP,CAAgBC,IAAvB;AACH;;AAEDX,IAAAA,OAAO,CAACD,IAAD,CAAP;AAEH,GA3BQ,EA2BN,CAACH,KAAK,CAACG,IAAP,EAAaH,KAAK,CAAC2B,MAAN,CAAaC,MAA1B,CA3BM,CAAT;AA6BAnC,EAAAA,SAAS,CAAC,MAAM;AAEZ,QAAIO,KAAK,CAACK,KAAV,EAAiB;AACbC,MAAAA,QAAQ,CAACN,KAAK,CAACK,KAAP,CAAR;AACH;AACJ,GALQ,EAKN,CAACL,KAAK,CAACK,KAAP,CALM,CAAT;AAOAZ,EAAAA,SAAS,CAAC,MAAM,CAEf,CAFQ,EAEN,CAACY,KAAD,CAFM,CAAT;AAIAZ,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIO,KAAK,CAACO,QAAV,EAAoB;AAChBC,MAAAA,WAAW,CAACR,KAAK,CAACO,QAAP,CAAX;AACH;AACJ,GAJQ,EAIN,CAACP,KAAK,CAACO,QAAP,CAJM,CAAT;AAMAd,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAII,cAAc,CAACG,KAAK,CAACW,OAAP,CAAlB,EAAmC;AAC/BC,MAAAA,UAAU,CAACZ,KAAK,CAACW,OAAP,CAAV;AACH;AACJ,GAJQ,EAIN,CAACX,KAAK,CAACW,OAAP,CAJM,CAAT;AAMAlB,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAII,cAAc,CAACG,KAAK,CAACS,KAAP,CAAlB,EAAiC;AAC7BC,MAAAA,QAAQ,CAACV,KAAK,CAACS,KAAP,CAAR;AACH;AACJ,GAJQ,EAIN,CAACT,KAAK,CAACS,KAAP,CAJM,CAAT;AAOA,SAEI,MAAC,KAAD,CAAO,QAAP,QACI,MAAC,KAAD;AACI,IAAA,OAAO,EAAER,OADb;AAEI,IAAA,QAAQ,MAFZ;AAGI,IAAA,YAAY,EAAE,IAHlB;AAII,IAAA,QAAQ,EAAE,KAJd;AAKI,IAAA,MAAM,EAAE,IALZ;AAMI,IAAA,QAAQ,EAAEe;AANd,KAQI;AAAK,IAAA,SAAS,EAAC;AAAf,KACI;AAAK,IAAA,SAAS,EAAC;AAAf,KACI;AAAM,IAAA,SAAS,EAAC,6BAAhB;AAA8C,IAAA,KAAK,EAAE;AAAEa,MAAAA,KAAK,EAAE,MAAT;AAAiBC,MAAAA,MAAM,EAAE;AAAzB;AAArD,KACI;AAAK,IAAA,GAAG,EAAC,+DAAT;AAAyE,IAAA,SAAS,EAAC;AAAnF,IADJ,CADJ,EAII;AAAM,IAAA,SAAS,EAAC;AAAhB,mBAJJ,CADJ,EAUI;AAAK,IAAA,SAAS,EAAC;AAAf,KAEQjC,cAAc,CAACc,OAAD,CAAd,GACI;AAAK,IAAA,SAAS,EAAC;AAAf,KACI,MAAC,iBAAD;AAAmB,IAAA,IAAI,EAAER,IAAzB;AAA+B,IAAA,KAAK,EAAEE,KAAtC;AAA6C,IAAA,OAAO,EAAEM,OAAtD;AAA+D,IAAA,QAAQ,EAAEJ,QAAzE;AAAmF,IAAA,KAAK,EAAEE;AAA1F,IADJ,CADJ,GAKI,IAPZ,EASI;AAAK,IAAA,SAAS,EAAC;AAAf,KAEI;AAAG,IAAA,OAAO,EAAES;AAAZ,KACI;AAAM,IAAA,SAAS,EAAC,yGAAhB;AAA0H,IAAA,KAAK,EAAE;AAAEW,MAAAA,KAAK,EAAE,MAAT;AAAiBC,MAAAA,MAAM,EAAE,MAAzB;AAAiCC,MAAAA,OAAO,EAAE,EAA1C;AAA8CC,MAAAA,YAAY,EAAE;AAA5D;AAAjI,KACI;AAAM,IAAA,SAAS,EAAC,6CAAhB;AAA8D,IAAA,KAAK,EAAE;AAAEH,MAAAA,KAAK,EAAE,MAAT;AAAiBC,MAAAA,MAAM,EAAE;AAAzB;AAArE,KACI;AAAK,IAAA,GAAG,EAAC,oDAAT;AAA8D,IAAA,SAAS,EAAC;AAAxE,IADJ,CADJ,EAII;AAAM,IAAA,SAAS,EAAC;AAAhB,iBAJJ,CADJ,CAFJ,CATJ,CAVJ,CARJ,CADJ,EA8CI;AAAG,IAAA,OAAO,EAAGb,CAAD,IAAOjB,KAAK,CAACiC,QAAN,GAAiB,IAAjB,GAAwB/B,UAAU,CAAC,IAAD;AAArD,KAEQF,KAAK,CAACkC,QAAN,GACIlC,KAAK,CAACkC,QADV,GAGI;AAAK,IAAA,GAAG,EAAC;AAAT,IALZ,CA9CJ,CAFJ;AA2DH,CArKD;;AAwKA,MAAMC,eAAe,GAAGC,KAAK,KAAK;AAC9BC,EAAAA,GAAG,EAAED,KAAK,CAACC,GADmB;AAE9BC,EAAAA,IAAI,EAAEF,KAAK,CAACE;AAFkB,CAAL,CAA7B;;AAKA,MAAMC,kBAAkB,GAAG,EAA3B;AAEA,eAAe5C,OAAO,CAACwC,eAAD,EAAkBI,kBAAlB,CAAP,CAA6CnD,IAAI,CAACoD,MAAL,GAAc5C,UAAU,CAACG,gBAAD,CAAxB,CAA7C,CAAf","sourcesContent":["import { ShareAltOutlined } from '@ant-design/icons';\nimport { Button, Form, message, Modal } from 'antd';\nimport copy from \"copy-to-clipboard\";\nimport React, { useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'next/router';\nimport { notEmptyLength } from '../../common-function';\nimport SocialShareButton from './SocialShareButton';\n\n\n\nconst ShareViewProduct = (props) => {\n\n    const [visible, setVisible] = useState(false);\n    const [link, setLink] = useState();\n    const [title, setTitle] = useState('');\n    const [iconSize, setIconSize] = useState(38);\n    const [shape, setShape] = useState('square');\n    const [network, setNetwork] = useState([\n        // 'email',\n        'facebook',\n        // 'messenger',\n        // 'hatena',\n        // 'instapaper',\n        // 'linkedin',\n        'line',\n        // 'livejournal',\n        // 'mailru',\n        // 'ok',\n        // 'pinterest',\n        // 'pocket',\n        // 'reddit',\n        'telegram',\n        // 'tumblr',\n        'twitter',\n        // 'viber',\n        // 'vk',\n        // 'weibo',\n        'whatsapp',\n        // 'workplace',\n    ]);\n\n\n    useEffect(() => {\n        if(!props.link){\n            setLink(window.location.href)\n        }\n    } , [])\n\n    function close(e) {\n        setVisible(false);\n    }\n\n    function copyToClipboard() {\n        copy(link);\n        message.info('Copied link. Share it to others now!');\n    }\n\n    useEffect(() => {\n        let link;\n        try {\n            if (props.link) {\n                link = props.link;\n            } else {\n                link = window.location.href;\n            }\n\n            if (!link.includes('http://') && !link.includes('https://')) {\n                let prefix = window.location.href.split('//');\n                let naming = prefix[1].split('/')[0]\n                link = prefix[0] + '//' + naming + link;\n            }\n            link = link.split('//')\n            let surfix = link[1].split('/');\n            // surfix[0] = `share.${surfix[0]}`;\n            surfix[0] = `${surfix[0]}`;\n            surfix = surfix.join('/');\n            link[1] = surfix;\n            link = link.join('//');\n        } catch (error) {\n            link = window.location.href;\n        }\n        \n        setLink(link);\n\n    }, [props.link, props.router.asPath])\n\n    useEffect(() => {\n\n        if (props.title) {\n            setTitle(props.title)\n        }\n    }, [props.title])\n\n    useEffect(() => {\n\n    }, [title])\n\n    useEffect(() => {\n        if (props.iconSize) {\n            setIconSize(props.iconSize)\n        }\n    }, [props.iconSize])\n\n    useEffect(() => {\n        if (notEmptyLength(props.network)) {\n            setNetwork(props.network)\n        }\n    }, [props.network])\n\n    useEffect(() => {\n        if (notEmptyLength(props.shape)) {\n            setShape(props.shape)\n        }\n    }, [props.shape])\n\n\n    return (\n\n        <React.Fragment>\n            <Modal\n                visible={visible}\n                centered\n                maskClosable={true}\n                closable={false}\n                footer={null}\n                onCancel={close}\n            >\n                <div className=\"flex-justify-center flex-items-align-center flex-wrap padding-sm \">\n                    <div className=\"flex-justify-center flex-items-align-center padding-sm width-100 margin-bottom-sm \">\n                        <span className=\"d-inline-block margin-x-sm \" style={{ width: '30px', height: '30px' }}>\n                            <img src=\"https://img.icons8.com/ios-filled/26/000000/forward-arrow.png\" className=\"fill-parent\" />\n                        </span>\n                        <span className=\"d-inline-block subtitle1 font-weight-bold text-overflow-break margin-x-sm\" >\n                            Share to...\n                        </span>\n                    </div>\n\n                    <div className='padding-sm width-100'>\n                        {\n                            notEmptyLength(network) ?\n                                <div className='flex-justify-center flex-items-align-center flex-wrap'>\n                                    <SocialShareButton link={link} title={title} network={network} iconSize={iconSize} shape={shape} />\n                                </div>\n                                :\n                                null\n                        }\n                        <div className=\"flex-justify-center flex-items-align-center flex-wrap\">\n\n                            <a onClick={copyToClipboard}>\n                                <span className=\"d-inline-block flex-justify-center flex-items-align-center background-transparent thin-border margin-md\" style={{ width: \"auto\", height: '40px', padding: 12, borderRadius: 4 }}>\n                                    <span className=\"d-inline-block margin-x-sm relative-wrapper\" style={{ width: '22px', height: '22px' }}>\n                                        <img src=\"https://img.icons8.com/ios/50/000000/copy-link.png\" className=\"fill-parent absolute-center\" />\n                                    </span>\n                                    <span className=\"d-inline-block headline   font-weight-bold text-overflow-break grey-darken-3\">\n                                        Copy Link\n                                </span>\n                                </span>\n                            </a>\n                        </div>\n                    </div>\n\n                </div>\n            </Modal>\n\n            <a onClick={(e) => props.readOnly ? null : setVisible(true)}>\n                {\n                    props.children ?\n                        props.children\n                        :\n                        <img src=\"https://img.icons8.com/metro/26/FFCC32/share.png\"/>\n                }\n            </a>\n\n        </React.Fragment>\n    );\n}\n\n\nconst mapStateToProps = state => ({\n    app: state.app,\n    user: state.user,\n});\n\nconst mapDispatchToProps = {\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Form.create()(withRouter(ShareViewProduct)));"]},"metadata":{},"sourceType":"module"}