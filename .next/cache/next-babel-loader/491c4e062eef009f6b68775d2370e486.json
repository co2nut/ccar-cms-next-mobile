{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Form, Icon } from 'antd';\nimport { Picker } from 'emoji-mart';\nimport React, { useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'next/router';\nimport { notEmptyLength, objectRemoveEmptyValue } from '../../common-function';\nconst emojiRef = React.createRef();\n\nconst EmojiPickerButton = props => {\n  const {\n    0: emojiVisible,\n    1: setEmojiVisible\n  } = useState(false);\n  useEffect(() => {\n    function handleClickOutside(event) {\n      if (!emojiRef.current || !emojiRef.current.contains(event.target)) {\n        setEmojiVisible(false);\n      }\n    } // Bind the event listener\n\n\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => {\n      // Unbind the event listener on clean up\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n    };\n  }, [emojiRef.current]);\n\n  function handleOnSelect(emoji) {\n    if (props.onSelect) {\n      props.onSelect(emoji);\n    }\n  }\n\n  return __jsx(React.Fragment, null, __jsx(\"span\", {\n    className: \"d-inline-block relative-wrapper\"\n  }, __jsx(\"span\", {\n    onClick: e => {\n      setEmojiVisible(true);\n    }\n  }, props.children ? props.children : __jsx(Icon, {\n    type: \"smile\",\n    className: \"cursor-pointer\"\n  })), emojiVisible ? __jsx(\"span\", {\n    className: `d-inline-block ${props.className || ''}`,\n    ref: emojiRef,\n    style: notEmptyLength(objectRemoveEmptyValue(props.position)) ? _objectSpread(_objectSpread({\n      position: 'absolute'\n    }, props.position), {}, {\n      zIndex: 999999\n    }) : {\n      position: 'absolute',\n      top: -380,\n      left: -200,\n      zIndex: 999999\n    }\n  }, __jsx(Picker, {\n    enableFrequentEmojiSort: true,\n    useButton: true,\n    theme: \"auto\",\n    showPreview: false,\n    showSkinTones: false,\n    perLine: 6,\n    onClick: emoji => {\n      handleOnSelect(emoji);\n    }\n  })) : null));\n};\n\nconst mapStateToProps = state => ({\n  app: state.app,\n  user: state.user\n});\n\nconst mapDispatchToProps = {};\nexport default connect(mapStateToProps, mapDispatchToProps)(Form.create()(withRouter(EmojiPickerButton)));","map":{"version":3,"sources":["/Users/faraheen/ccar-cms-next-mobile/components/general/EmojiPickerButton.jsx"],"names":["Form","Icon","Picker","React","useEffect","useState","connect","withRouter","notEmptyLength","objectRemoveEmptyValue","emojiRef","createRef","EmojiPickerButton","props","emojiVisible","setEmojiVisible","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","handleOnSelect","emoji","onSelect","e","children","className","position","zIndex","top","left","mapStateToProps","state","app","user","mapDispatchToProps","create"],"mappings":"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","sourcesContent":["import { Form, Icon } from 'antd';\nimport { Picker } from 'emoji-mart';\nimport React, { useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'next/router';\nimport { notEmptyLength, objectRemoveEmptyValue } from '../../common-function';\n\n\nconst emojiRef = React.createRef();\nconst EmojiPickerButton = (props) => {\n\n    const [emojiVisible, setEmojiVisible] = useState(false);\n\n    useEffect(() => {\n\n        function handleClickOutside(event) {\n\n            if ((!emojiRef.current || !emojiRef.current.contains(event.target))) {\n                setEmojiVisible(false)\n            }\n        }\n\n        // Bind the event listener\n        document.addEventListener(\"mousedown\", handleClickOutside);\n        return () => {\n            // Unbind the event listener on clean up\n            document.removeEventListener(\"mousedown\", handleClickOutside);\n        };\n    }, [emojiRef.current])\n\n    function handleOnSelect(emoji) {\n        if (props.onSelect) {\n            props.onSelect(emoji);\n        }\n    }\n\n\n    return (\n        <React.Fragment>\n            <span className='d-inline-block relative-wrapper' >\n                <span onClick={(e) => { setEmojiVisible(true) }} >\n                    {\n                        props.children ?\n                            props.children\n                            :\n                            <Icon type=\"smile\" className='cursor-pointer' />\n                    }\n                </span>\n                {\n                    emojiVisible ?\n                        <span className={`d-inline-block ${props.className || ''}`} ref={emojiRef} style={notEmptyLength(objectRemoveEmptyValue(props.position)) ? { position: 'absolute', ...props.position, zIndex : 999999 } : { position: 'absolute', top: -380, left: -200, zIndex : 999999 }}>\n                            <Picker enableFrequentEmojiSort useButton theme='auto' showPreview={false} showSkinTones={false} perLine={6} onClick={(emoji) => {\n                                handleOnSelect(emoji);\n                            }} />\n                        </span>\n                        :\n                        null\n                }\n            </span>\n\n        </React.Fragment>\n    );\n}\n\n\nconst mapStateToProps = state => ({\n    app: state.app,\n    user: state.user,\n});\n\nconst mapDispatchToProps = {\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Form.create()(withRouter(EmojiPickerButton)));"]},"metadata":{},"sourceType":"module"}