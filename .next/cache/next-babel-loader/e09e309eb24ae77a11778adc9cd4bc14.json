{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { AppstoreOutlined, BarsOutlined } from '@ant-design/icons';\nimport { Tag, Collapse, Button, Col, Divider, Drawer, Empty, Icon, Pagination, Radio, Row, Select, Spin, Tooltip, Form } from 'antd';\nimport axios from 'axios';\nimport _ from 'lodash';\nimport { withRouter } from 'next/dist/client/router';\nimport Link from 'next/link';\nimport { useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { convertParameterToProductListUrl, notEmptyLength, isValidNumber, convertRangeFormatBack, objectRemoveEmptyValue, formatNumber } from '../../../common-function';\nimport LayoutV2 from '../../../components/general/LayoutV2';\nimport ProductList from '../../../components/product-list/ProductList';\nimport ProductListFilterForm from '../../../components/product-list/ProductListFilterForm';\nimport client from '../../../feathers';\nimport { loading, updateActiveMenu } from '../../../redux/actions/app-actions';\nimport { getCarBrand } from '../../../params/carBrandsList';\nimport GridProductSkeleton from '../../skeleton-loader/GridProductSkeleton';\nimport queryString from 'query-string';\nimport carAdsFilter from '../../../api/carAdsFilter';\nimport brandFilterTotal from '../../../api/brandFilterTotal';\nimport { setProductListLoading } from '../../../redux/actions/productsList-actions';\nimport MakeModal from '../filter-modal/MakeModal';\nimport StateModal from '../filter-modal/StateModal';\nimport Scrollbars from 'react-custom-scrollbars';\nimport DetailFilterForm from '../DetailFilterForm';\nvar priceRangeOptions = [[50000, '<'], [50000, 100000], [100000, 200000], [200000, 400000], [400000, 600000], [600000, 800000], [800000, 1000000], [1000000, '>=']];\nvar years = [2020, 2019, 2018, 2017, 2016, 2015, 2014, 2013, 2012, 2011, 2010, 2009, 2008, 2007, 2006, 2005, 2004, 2003, 2002, 2001, 2000, 1999, 1998, 1997, 1996, 1995, 1994, 1993, 1992, 1991, 1990];\nvar modals = ['make', 'model', 'state', 'area', 'bodyType', 'color', 'fuelType'];\n\nvar antIcon = __jsx(\"img\", {\n  src: \"/assets/Ccar-logo.png\",\n  style: {\n    fontSize: 60\n  }\n});\n\nvar PAGESIZE = 30;\nvar searchBarRef = React.createRef();\nvar timeoutFunction;\nvar SWITCH_OFF_COLOR = '#9E9E9E';\nvar SWITCH_ON_COLOR = '#FFCC32';\n\nvar CarMarketPage = function CarMarketPage(props) {\n  _s();\n\n  var _ref;\n\n  var _useState = useState(props.config || {\n    page: 1,\n    sorting: {},\n    view: 'gridView'\n  }),\n      mainConfig = _useState[0],\n      setMainConfig = _useState[1];\n\n  var _useState2 = useState('gridView'),\n      view = _useState2[0],\n      setView = _useState2[1];\n\n  var _useState3 = useState(props.filterGroup || {}),\n      currentFilterGroup = _useState3[0],\n      setCurrentFilterGroup = _useState3[1];\n\n  var _useState4 = useState(props.availableOptions || {}),\n      availableFilterOption = _useState4[0],\n      setAvailableFilterOption = _useState4[1];\n\n  var _useState5 = useState(props.productListTotal || 0),\n      total = _useState5[0],\n      setTotal = _useState5[1];\n\n  var _useState6 = useState(props.productList || []),\n      productList = _useState6[0],\n      setProductList = _useState6[1];\n\n  var _useState7 = useState(false),\n      spinning = _useState7[0],\n      setSpinning = _useState7[1];\n\n  var _useState8 = useState(false),\n      isEmptyData = _useState8[0],\n      setIsEmptyData = _useState8[1];\n\n  var _useState9 = useState({\n    filterGroup: false,\n    config: false\n  }),\n      initRan = _useState9[0],\n      setInitRan = _useState9[1];\n\n  var _useState10 = useState(),\n      visible = _useState10[0],\n      setVisible = _useState10[1];\n\n  var _useState11 = useState('brand'),\n      drawerType = _useState11[0],\n      setDrawerType = _useState11[1];\n\n  var _useState12 = useState(),\n      expandKey = _useState12[0],\n      setExpandKey = _useState12[1];\n\n  var _useState13 = useState({}),\n      origAvailableFilterOption = _useState13[0],\n      setOrigAvailableFilterOption = _useState13[1];\n\n  useEffect(function () {\n    props.updateActiveMenu('2');\n    getOrigAvailableOptions();\n  }, []);\n  useEffect(function () {\n    setInitRan({\n      filterGroup: true,\n      config: true\n    });\n  }, []);\n  useEffect(function () {\n    if (initRan.filterGroup && initRan.config) {\n      getDataFromUrl();\n    }\n  }, [props.router.query]);\n  useEffect(function () {\n    if (initRan.filterGroup && initRan.config) {\n      props.setProductListLoading(true);\n\n      if (window) {\n        window.scroll(0, 0);\n      }\n\n      clearTimeout(timeoutFunction);\n      timeoutFunction = setTimeout(function () {\n        carAdsFilter({\n          filterGroup: currentFilterGroup,\n          config: mainConfig\n        }, PAGESIZE).then(function (res) {\n          props.setProductListLoading(false);\n          setProductList(_.get(res, ['data']) || []);\n          setTotal(_.get(res, ['total']) || 0);\n        })[\"catch\"](function (err) {\n          props.setProductListLoading(false);\n        });\n        brandFilterTotal(modals, {\n          filterGroup: currentFilterGroup,\n          config: mainConfig\n        }).then(function (res) {\n          setAvailableFilterOption(res);\n        })[\"catch\"](function (err) {});\n      }, 500);\n    }\n  }, [currentFilterGroup, mainConfig]);\n  useEffect(function () {\n    setTimeout(function () {\n      var productList2 = _.cloneDeep(productList);\n\n      var inputProductList = _.map(productList2, function (v) {\n        v.productAdsId = v._id;\n        return {\n          productAdsId: v.productAdsId\n        };\n      });\n\n      if (_.isEmpty(inputProductList) === false) {\n        axios.post(\"\".concat(client.io.io.uri, \"processImpression\"), {\n          params: {\n            productList: inputProductList,\n            source: 'web'\n          }\n        }).then(function (res) {});\n      }\n    }, 3000);\n  }, [productList]);\n\n  var showDrawer = function showDrawer() {\n    visible == true ? setVisible(false) : setVisible(true);\n  };\n\n  var onClose = function onClose() {\n    visible == false ? setVisible(true) : setVisible(false);\n  };\n\n  function pushParameterToUrl(data, config) {\n    try {\n      var path = convertParameterToProductListUrl(data, config);\n      var asPath = path.split('?')[0].split('/');\n      asPath = _.map(asPath, function (item, i) {\n        if (i > 1) {\n          item = \"[parameter\".concat(i - 1, \"]\");\n        }\n\n        return item;\n      });\n      asPath = asPath.join('/');\n      setProductList([]);\n      props.setProductListLoading(true);\n      props.router.push(asPath, path, {\n        shallow: true\n      });\n    } catch (error) {}\n  }\n\n  function getUrlData() {\n    try {\n      var querySearch = props.router.asPath.split('?')[1];\n      var query = queryString.parse(querySearch);\n\n      if (!query) {\n        query = {};\n      }\n\n      var filterGroup = query.data ? JSON.parse(query.data) : {};\n      var sorting = query.sorting ? JSON.parse(query.sorting) : {};\n      var config = {\n        page: query.page,\n        sorting: sorting,\n        view: query.view\n      };\n\n      if (!isValidNumber(parseInt(config.page))) {\n        config.page = 1;\n      }\n\n      if (!_.get(config, ['sorting', 'carspec.year']) && !_.get(config, ['sorting', 'mileageFilter']) && !_.get(config, ['sorting', 'searchPrice'])) {\n        config.sorting = {};\n      }\n\n      if (_.get(config, ['view']) != 'gridView' && _.get(config, ['view']) != 'listView') {\n        config.view = 'gridView';\n      }\n\n      setMainConfig(config); //Only state need to check manually;\n\n      var state = props.router.asPath.split('?')[0].split('/');\n      state = state[state.length - 1];\n      var stateArr = state.split('_');\n      filterGroup.state = _.isArray(stateArr) && !_.isEmpty(stateArr) ? _.get(stateArr, [1]) || '' : '';\n      filterGroup.area = _.isArray(stateArr) && !_.isEmpty(stateArr) ? _.get(stateArr, [2]) || '' : '';\n\n      if (filterGroup.priceRange) {\n        filterGroup.priceRange = convertRangeFormatBack(filterGroup.priceRange);\n      }\n\n      if (filterGroup.yearRange) {\n        filterGroup.yearRange = convertRangeFormatBack(filterGroup.yearRange);\n      }\n\n      if (filterGroup.mileageRange) {\n        filterGroup.mileageRange = convertRangeFormatBack(filterGroup.mileageRange);\n      }\n\n      if (filterGroup.engineCapactityRange) {\n        filterGroup.engineCapactityRange = convertRangeFormatBack(filterGroup.engineCapactityRange);\n      }\n\n      setCurrentFilterGroup(_objectSpread(_objectSpread({}, currentFilterGroup), filterGroup));\n    } catch (error) {\n      console.log('error', error);\n    }\n  }\n\n  function pushParameterToUrl(data, config) {\n    var path = convertParameterToProductListUrl(data, config);\n\n    if (path != \"\".concat(props.router.asPath).concat(props.router.query)) {\n      props.router.push(path);\n      setExpandKey(null);\n    }\n  }\n\n  function getDataFromUrl() {\n    window.scrollTo(0, 0);\n    props.loading(true);\n    var andFilter = {\n      $and: []\n    };\n    var data = getUrlData();\n\n    if (!notEmptyLength(data)) {\n      return;\n    }\n\n    if (notEmptyLength(data.filterGroup) && notEmptyLength(data.filterGroup.yearRange)) {\n      data.filterGroup.yearRange = convertToRangeFormat(data.filterGroup.yearRange);\n      data.filterGroup.yearRange = convertFilterRange(data.filterGroup.yearRange, 'carspec.year');\n\n      if (notEmptyLength(data.filterGroup.yearRange)) {\n        andFilter.$and = [].concat(_toConsumableArray(andFilter.$and), _toConsumableArray(data.filterGroup.yearRange));\n        data.filterGroup = Object.assign(data.filterGroup, andFilter);\n      }\n\n      delete data.filterGroup.yearRange;\n    }\n\n    if (notEmptyLength(data.filterGroup) && notEmptyLength(data.filterGroup.priceRange)) {\n      data.filterGroup.priceRange = convertToRangeFormat(data.filterGroup.priceRange);\n      data.filterGroup.priceRange = convertFilterRange(data.filterGroup.priceRange, 'searchPrice');\n\n      if (notEmptyLength(data.filterGroup.priceRange)) {\n        andFilter.$and = [].concat(_toConsumableArray(andFilter.$and), _toConsumableArray(data.filterGroup.priceRange));\n        data.filterGroup = Object.assign(data.filterGroup, andFilter);\n      }\n\n      delete data.filterGroup.priceRange;\n    }\n\n    if (notEmptyLength(data.filterGroup) && notEmptyLength(data.filterGroup.mileageRange)) {\n      data.filterGroup.mileageRange = convertToRangeFormat(data.filterGroup.mileageRange);\n      data.filterGroup.mileageRange = convertFilterRange(data.filterGroup.mileageRange, 'mileageFilter');\n\n      if (notEmptyLength(data.filterGroup.mileageRange)) {\n        andFilter.$and = [].concat(_toConsumableArray(andFilter.$and), _toConsumableArray(data.filterGroup.mileageRange));\n        data.filterGroup = Object.assign(data.filterGroup, andFilter);\n      }\n\n      delete data.filterGroup.mileageRange;\n    }\n\n    if (notEmptyLength(data.filterGroup) && notEmptyLength(data.filterGroup.engineCapacityRange)) {\n      data.filterGroup.engineCapacityRange = convertToRangeFormat(data.filterGroup.engineCapacityRange);\n      data.filterGroup.engineCapacityRange = convertFilterRange(data.filterGroup.engineCapacityRange, 'carspec.engineCapacity');\n\n      if (notEmptyLength(data.filterGroup.engineCapacityRange)) {\n        andFilter.$and = [].concat(_toConsumableArray(andFilter.$and), _toConsumableArray(data.filterGroup.engineCapacityRange));\n        data.filterGroup = Object.assign(data.filterGroup, andFilter);\n      }\n\n      delete data.filterGroup.engineCapacityRange;\n    }\n\n    data.filterGroup = objectRemoveEmptyValue(data.filterGroup);\n    var match = {\n      $match: _objectSpread({}, data.filterGroup)\n    };\n    axios.get(\"\".concat(client.io.io.uri, \"carAdsFilterV3\"), {\n      params: {\n        match: match,\n        sorting: data.mainConfig.sorting || {},\n        limit: PAGESIZE,\n        skip: ((_.get(data.mainConfig, ['page']) || 1) - 1) * PAGESIZE\n      }\n    }).then(function (res) {\n      props.loading(false);\n\n      if (notEmptyLength(res.data.data)) {\n        setProductList(res.data.data);\n        setTotal(res.data.total);\n      } else {\n        setProductList([]);\n        setTotal(0);\n      }\n    })[\"catch\"](function (err) {\n      props.loading(false); // message.error(err.message);\n    });\n    var promises = [];\n\n    _.forEach(modals, function (modal) {\n      promises.push(axios.get(\"\".concat(client.io.io.uri, \"brandFilterTotalV3\"), {\n        params: {\n          filterType: modal,\n          match: match\n        },\n        headers: {\n          'Authorization': client.settings.accessToken\n        }\n      }));\n    });\n\n    Promise.all(promises).then(function (responses) {\n      if (_.isArray(responses) && !_.isEmpty(responses)) {\n        var options = {};\n\n        _.forEach(responses, function (response, index) {\n          options[\"\".concat(modals[index], \"List\")] = response.data.uniqueInfo[\"\".concat(modals[index], \"List\")];\n        });\n\n        setAvailableFilterOption(options);\n      }\n    })[\"catch\"](function (err) {// message.error(err.message);\n    });\n  }\n\n  function getOrigAvailableOptions(_x) {\n    return _getOrigAvailableOptions.apply(this, arguments);\n  }\n\n  function _getOrigAvailableOptions() {\n    _getOrigAvailableOptions = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(match) {\n      var promises, responses, options;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!_.isPlainObject(match) && _.isEmpty(match)) {\n                match = {};\n              }\n\n              promises = [];\n\n              _.forEach(modals, function (modal) {\n                promises.push(axios.get(\"\".concat(client.io.io.uri, \"brandFilterTotalV3\"), {\n                  params: {\n                    filterType: modal,\n                    match: match\n                  },\n                  headers: {\n                    'Authorization': client.settings.accessToken\n                  }\n                }));\n              });\n\n              _context.next = 5;\n              return Promise.all(promises);\n\n            case 5:\n              responses = _context.sent;\n\n              if (_.isArray(responses) && !_.isEmpty(responses)) {\n                options = {};\n\n                _.forEach(responses, function (response, index) {\n                  options[\"\".concat(modals[index], \"List\")] = response.data.uniqueInfo[\"\".concat(modals[index], \"List\")];\n                });\n\n                setOrigAvailableFilterOption(options);\n              }\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _getOrigAvailableOptions.apply(this, arguments);\n  }\n\n  var _renderFilterTags = function _renderFilterTags(filterGroup) {\n    try {\n      var showTags = ['make', 'model', 'state', 'condition', 'yearRange', 'priceRange', 'mileageRange', 'transmission', 'color', 'bodyType', 'fuelType', 'engineCapacityRange'];\n\n      if (_.isPlainObject(filterGroup) && !_.isEmpty(filterGroup)) {\n        filterGroup = _.pick(objectRemoveEmptyValue(filterGroup), showTags);\n\n        if (filterGroup.yearRange) {\n          filterGroup.yearRange = convertRangeFormatToText(filterGroup.yearRange);\n        }\n\n        if (filterGroup.priceRange) {\n          filterGroup.priceRange = convertRangeFormatToText(filterGroup.priceRange, 'price');\n        }\n\n        if (filterGroup.mileageRange) {\n          filterGroup.mileageRange = convertRangeFormatToText(filterGroup.mileageRange, 'mileage');\n        }\n\n        if (filterGroup.engineCapacityRange) {\n          filterGroup.engineCapacityRange = convertRangeFormatToText(filterGroup.engineCapacityRange, 'engineCapacity');\n        }\n\n        filterGroup = Object.entries(filterGroup) || [];\n        return __jsx(Scrollbars, {\n          autoHide: true,\n          autoHeight: true\n        }, __jsx(\"div\", {\n          className: \" flex-items-align-center flex-justify-start\"\n        }, _.map(filterGroup || [], function (item) {\n          return __jsx(Tag, {\n            key: \"\".concat(item[0], \"-tag\"),\n            className: \" capitalize margin-right-md\",\n            closable: true,\n            onClose: function onClose() {\n              var cloneFilterGroup = _.cloneDeep(currentFilterGroup) || {};\n              delete cloneFilterGroup[item[0]];\n              pushParameterToUrl(cloneFilterGroup, _objectSpread(_objectSpread({}, mainConfig), {}, {\n                page: 1\n              }));\n            },\n            color: \"orange\"\n          }, item[1] || 'N/A');\n        })));\n      }\n\n      return null;\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  var _renderGridViewRes = function _renderGridViewRes(data) {\n    if (notEmptyLength(data)) {\n      return __jsx(ProductList, {\n        data: data\n      });\n    } else {\n      return __jsx(\"div\", {\n        style: {\n          height: '30em'\n        }\n      }, __jsx(Empty, {\n        style: {\n          position: 'absolute',\n          top: '50%',\n          transform: 'translate(50%,-50%)',\n          right: '50%'\n        },\n        image: \"/empty.png\",\n        imageStyle: {\n          height: 60\n        },\n        description: __jsx(\"span\", null, \"No Result\")\n      }));\n    }\n  };\n\n  var menuView = __jsx(MakeModal, {\n    options: _.isArray(_.get(availableFilterOption, ['makeList'])) && !_.isEmpty(_.get(availableFilterOption, ['makeList'])) && !currentFilterGroup.make ? _.get(availableFilterOption, ['makeList']) : _.get(origAvailableFilterOption, ['makeList']) || [],\n    onSelect: function onSelect(brand, model) {\n      setCurrentFilterGroup(_objectSpread(_objectSpread({}, currentFilterGroup), {}, {\n        make: _.toLower(_.get(brand, 'value') || ''),\n        model: _.toLower(_.get(model, 'model') || ''),\n        selectFilter: brand.value.concat([])\n      }));\n      pushParameterToUrl(_objectSpread(_objectSpread({}, currentFilterGroup), {}, {\n        make: _.toLower(_.get(brand, 'value') || ''),\n        model: _.toLower(_.get(model, 'model') || '')\n      }), mainConfig);\n    }\n  });\n\n  var stateView = __jsx(StateModal, {\n    options: _.isArray(_.get(availableFilterOption, ['stateList'])) && !_.isEmpty(_.get(availableFilterOption, ['stateList'])) && !currentFilterGroup.state ? _.get(availableFilterOption, ['stateList']) : _.get(origAvailableFilterOption, ['stateList']) || [],\n    onSelect: function onSelect(state) {\n      if (_.get(state, ['value'])) {\n        setCurrentFilterGroup(_objectSpread(_objectSpread({}, currentFilterGroup), {}, {\n          state: _.toLower(state.value)\n        }));\n        pushParameterToUrl(_objectSpread(_objectSpread({}, currentFilterGroup), {}, {\n          state: _.toLower(state.value)\n        }), mainConfig);\n      }\n    }\n  }); //   const yearView = (\n  //     <YearRangeFiltering onChange={(data) => {\n  //       if (_.isPlainObject(data) && !_.isEmpty(data)) {\n  //         setCurrentFilterGroup({\n  //           ...currentFilterGroup,\n  //           ...data\n  //         })\n  //         pushParameterToUrl({ ...currentFilterGroup, ...data }, mainConfig)\n  //       }\n  //     }} />\n  //   )\n\n\n  var priceView = __jsx(Row, {\n    style: {\n      marginTop: '10px'\n    }\n  }, _.map(priceRangeOptions, function (priceRange) {\n    return __jsx(Col, {\n      span: 8,\n      style: {\n        marginBottom: '10px'\n      }\n    }, __jsx(Button, {\n      className: \"margin-x-sm\",\n      onClick: function onClick(e) {\n        pushParameterToUrl(_objectSpread(_objectSpread({}, currentFilterGroup), {}, {\n          priceRange: priceRange\n        }), _objectSpread(_objectSpread({}, mainConfig), {}, {\n          page: 1\n        }));\n      }\n    }, !priceRange[1] || priceRange[1] == '<' || priceRange[1] == '<=' ? \"0-\".concat(formatNumber(priceRange[0], 'auto', false, 0)) : priceRange[1] == '==' ? \"Equal \".concat(formatNumber(priceRange[0], 'auto', false, 0)) : priceRange[1] == '>' || priceRange[1] == '>=' ? \"Over \".concat(formatNumber(priceRange[0], 'auto', false, 0)) : \"\".concat(formatNumber(priceRange[0], 'auto', false, 0), \" - \").concat(formatNumber(priceRange[1], 'auto', false, 0), \" \")));\n  })); // const detailView = (\n  //   <div style={{ marginTop: '10px' }}>\n  //     <DetailFilterForm options={availableFilterOption} onChange={(data) => {\n  //       if (_.isPlainObject(data) && !_.isEmpty(data)) {\n  //         setCurrentFilterGroup({\n  //           ...currentFilterGroup,\n  //           ...data\n  //         })\n  //         pushParameterToUrl({ ...currentFilterGroup, ...data }, mainConfig)\n  //       }\n  //     }} />\n  //   </div>\n  // )\n\n\n  var conditionView = __jsx(Form.Item, {\n    style: {\n      margin: '0px',\n      marginBottom: '0px',\n      padding: '2px 2px 0px 0px'\n    }\n  }, __jsx(Radio.Group, {\n    className: \"condition-form \",\n    style: {\n      textAlign: 'center',\n      width: '100%',\n      padding: '0px'\n    },\n    value: currentFilterGroup.condition ? currentFilterGroup.condition : 'all',\n    onChange: function onChange(e) {\n      setCurrentFilterGroup(_objectSpread(_objectSpread({}, currentFilterGroup), {}, {\n        condition: e.target.value\n      }));\n      pushParameterToUrl(_objectSpread(_objectSpread({}, currentFilterGroup), {}, {\n        condition: _.toLower(e.target.value)\n      }), _objectSpread(_objectSpread({}, mainConfig), {}, {\n        page: 1\n      }));\n    }\n  }, __jsx(Row, {\n    gutter: [10, 0],\n    type: \"flex\",\n    align: \"middle\",\n    justify: \"space-around\",\n    className: \"fill-parent\"\n  }, __jsx(Col, {\n    xs: 8,\n    sm: 8,\n    md: 8,\n    lg: 8,\n    xl: 8\n  }, __jsx(Radio.Button, {\n    className: \"w-100\",\n    style: {\n      backgroundColor: \"\",\n      padding: 0\n    },\n    value: \"used\",\n    onClick: function onClick(e) {\n      if (currentFilterGroup.condition == 'used') {\n        setCurrentFilterGroup(_objectSpread(_objectSpread({}, currentFilterGroup), {}, {\n          condition: ''\n        }));\n      }\n    }\n  }, __jsx(\"p\", {\n    style: {\n      fontSize: \"10px\",\n      textAlign: \"center\",\n      fontWeight: \"bold\"\n    }\n  }, \"USED\"))), __jsx(Col, {\n    xs: 8,\n    sm: 8,\n    md: 8,\n    lg: 8,\n    xl: 8\n  }, __jsx(Radio.Button, {\n    className: \"w-100\",\n    style: {\n      backgroundColor: \"\",\n      padding: 0\n    },\n    value: \"recon\",\n    onClick: function onClick(e) {\n      if (currentFilterGroup.condition == 'recon') {\n        setCurrentFilterGroup(_objectSpread(_objectSpread({}, currentFilterGroup), {}, {\n          condition: ''\n        }));\n      }\n    }\n  }, __jsx(\"p\", {\n    style: {\n      fontSize: \"10px\",\n      textAlign: \"center\",\n      fontWeight: \"bold\"\n    }\n  }, \"RECON\"))), __jsx(Col, {\n    xs: 8,\n    sm: 8,\n    md: 8,\n    lg: 8,\n    xl: 8\n  }, __jsx(Radio.Button, {\n    className: \"w-100\",\n    style: {\n      backgroundColor: \"\",\n      padding: 0\n    },\n    value: \"new\",\n    onClick: function onClick(e) {\n      if (currentFilterGroup.condition == 'new') {\n        setCurrentFilterGroup(_objectSpread(_objectSpread({}, currentFilterGroup), {}, {\n          condition: ''\n        }));\n      }\n    }\n  }, __jsx(\"p\", {\n    style: {\n      fontSize: \"10px\",\n      textAlign: \"center\",\n      fontWeight: \"bold\"\n    }\n  }, \"NEW\"))))));\n\n  var sortingView = function sortingView() {\n    var compA = function compA(searchTypeObj) {\n      return __jsx(\"div\", {\n        style: {\n          width: '20px',\n          height: '20px',\n          \"float\": 'right',\n          backgroundColor: '#000000'\n        },\n        className: \"cursor-pointer thin-border round-border\",\n        onClick: function onClick(e) {\n          pushParameterToUrl(currentFilterGroup, {\n            sorting: _objectSpread({}, searchTypeObj),\n            page: 1\n          });\n        }\n      });\n    };\n\n    var compB = function compB(searchTypeObj) {\n      return __jsx(\"div\", {\n        style: {\n          width: '20px',\n          height: '20px',\n          \"float\": 'right'\n        },\n        className: \"cursor-pointer thin-border round-border\",\n        onClick: function onClick(e) {\n          pushParameterToUrl(currentFilterGroup, {\n            sorting: _objectSpread({}, searchTypeObj),\n            page: 1\n          });\n        }\n      });\n    };\n\n    return __jsx(\"div\", {\n      className: \"width-100\"\n    }, __jsx(\"div\", {\n      className: \"margin-top-sm\"\n    }, __jsx(\"h4\", null, \"Sort\"), __jsx(Row, null, __jsx(Col, {\n      span: 20\n    }, __jsx(\"p\", null, \"Price: Low to High\")), __jsx(Col, {\n      span: 4,\n      style: {\n        textAlign: 'right'\n      }\n    }, _.get(mainConfig, ['sorting', 'searchPrice']) == 1 ? compA({\n      'searchPrice': null\n    }) : compB({\n      'searchPrice': 1\n    }))), __jsx(Row, null, __jsx(Col, {\n      span: 20\n    }, __jsx(\"p\", null, \"Price: High to Low\")), __jsx(Col, {\n      span: 4\n    }, _.get(mainConfig, ['sorting', 'searchPrice']) == -1 ? compA({\n      'searchPrice': null\n    }) : compB({\n      'searchPrice': -1\n    }))), __jsx(Row, null, __jsx(Col, {\n      span: 20\n    }, __jsx(\"p\", null, \" Year: Old to New \")), __jsx(Col, {\n      span: 4\n    }, _.get(mainConfig, ['sorting', 'carspec.year']) == 1 ? compA({\n      'carspec.year': null\n    }) : compB({\n      'carspec.year': 1\n    }))), __jsx(Row, null, __jsx(Col, {\n      span: 20\n    }, __jsx(\"p\", null, \" Year: New to Old \")), __jsx(Col, {\n      span: 4\n    }, _.get(mainConfig, ['sorting', 'carspec.year']) == -1 ? compA({\n      'carspec.year': null\n    }) : compB({\n      'carspec.year': -1\n    }))), __jsx(Row, null, __jsx(Col, {\n      span: 20\n    }, __jsx(\"p\", null, \" Mileage: Low to High \")), __jsx(Col, {\n      span: 4\n    }, _.get(mainConfig, ['sorting', 'mileageFilter']) == 1 ? compA({\n      'mileageFilter': null\n    }) : compB({\n      'mileageFilter': 1\n    }))), __jsx(Row, null, __jsx(Col, {\n      span: 20\n    }, __jsx(\"p\", null, \"Mileage: High to Low\")), __jsx(Col, {\n      span: 4\n    }, _.get(mainConfig, ['sorting', 'mileageFilter']) == -1 ? compA({\n      'mileageFilter': null\n    }) : compB({\n      'mileageFilter': -1\n    })))));\n  };\n\n  return __jsx(LayoutV2, null, __jsx(\"div\", {\n    className: \"section-version3\"\n  }, __jsx(\"div\", {\n    className: \"container-version3 padding-x-sm\",\n    style: {\n      touchAction: 'pan-y'\n    }\n  }, __jsx(Spin, _defineProperty({\n    indicator: antIcon,\n    spinning: spinning\n  }, \"indicator\", __jsx(\"img\", {\n    src: \"/loading.gif\",\n    style: (_ref = {\n      width: 100,\n      height: 100,\n      position: 'sticky'\n    }, _defineProperty(_ref, \"position\", '-webkit-sticky'), _defineProperty(_ref, \"top\", 0), _defineProperty(_ref, \"bottom\", 0), _defineProperty(_ref, \"left\", 0), _defineProperty(_ref, \"right\", 0), _defineProperty(_ref, \"margin\", 'auto'), _ref)\n  })), __jsx(Row, {\n    gutter: [{\n      xs: 8,\n      sm: 8,\n      md: 15,\n      lg: 15,\n      xl: 15\n    }, 16]\n  }, __jsx(Col, {\n    className: \"gutter-row\",\n    xs: 24,\n    sm: 24,\n    md: 24,\n    lg: 18,\n    xl: 18\n  }, __jsx(Row, {\n    className: \"margin-bottom-md\"\n  }, __jsx(Col, {\n    span: 20\n  }, __jsx(\"span\", {\n    style: {\n      fontSize: '16px'\n    }\n  }, total, \" \"), props.router.query.parameter1 ? __jsx(\"span\", {\n    style: {\n      fontSize: '16px'\n    },\n    className: \"capitalize\"\n  }, getCarBrand(_.toLower(props.router.query.parameter1)).value || props.router.query.parameter1, \" \") : '', __jsx(\"span\", {\n    style: {\n      fontSize: '16px'\n    }\n  }, \"Cars for Sale\")), __jsx(Col, {\n    span: 4,\n    style: {\n      textAlign: 'right'\n    }\n  }, __jsx(\"div\", {\n    onClick: function onClick() {\n      setExpandKey(expandKey == '7' ? null : '7');\n    }\n  }, __jsx(\"img\", {\n    style: {\n      width: '40%',\n      height: '20px'\n    },\n    src: \"/assets/sorting-2.png\"\n  })))), __jsx(Row, null, __jsx(Col, {\n    span: 24\n  }, __jsx(\"span\", {\n    className: \"flex-items-align-center flex-justify-space-around collapsible-drawer\"\n  }, __jsx(\"span\", {\n    className: \"flex-items-align-center\"\n  }, __jsx(\"span\", {\n    className: \"margin-right-lg\",\n    onClick: function onClick() {\n      setExpandKey(expandKey == '1' ? null : '1');\n    }\n  }, \"Brand \", __jsx(Icon, {\n    type: \"down\"\n  }), \" \"), __jsx(\"span\", {\n    className: \"margin-right-lg\",\n    onClick: function onClick() {\n      setExpandKey(expandKey == '2' ? null : '2');\n    }\n  }, \"State \", __jsx(Icon, {\n    type: \"down\"\n  }), \" \"), __jsx(\"span\", {\n    className: \"margin-right-lg\",\n    onClick: function onClick() {\n      setExpandKey(expandKey == '3' ? null : '3');\n    }\n  }, \"Year \", __jsx(Icon, {\n    type: \"down\"\n  }), \" \"), __jsx(\"span\", {\n    className: \"margin-right-lg\",\n    onClick: function onClick() {\n      setExpandKey(expandKey == '4' ? null : '4');\n    }\n  }, \"Price \", __jsx(Icon, {\n    type: \"down\"\n  }), \" \"), __jsx(\"span\", {\n    onClick: function onClick() {\n      setExpandKey(expandKey == '5' ? null : '5');\n    }\n  }, \"Detail \", __jsx(Icon, {\n    type: \"down\"\n  }), \" \"))))), __jsx(Row, {\n    style: {\n      marginTop: '10px'\n    }\n  }, __jsx(Col, {\n    span: 9\n  }, __jsx(Button, {\n    style: {\n      padding: '0px 10px'\n    },\n    onClick: function onClick() {\n      setExpandKey(expandKey == '6' ? null : '6');\n    }\n  }, \" \", currentFilterGroup.condition ? currentFilterGroup.condition.toUpperCase() : 'Condition', __jsx(Icon, {\n    type: \"down\"\n  }), \" \")), __jsx(Col, {\n    span: 15\n  }, __jsx(Col, {\n    style: {\n      paddingRight: '5px'\n    },\n    xs: 8,\n    sm: 8,\n    md: 8,\n    lg: 8,\n    xl: 8\n  }, __jsx(\"div\", {\n    className: \"w-100 text-truncate-twoline flex-items-align-center\",\n    style: {\n      height: 38,\n      padding: 2,\n      borderRadius: 5,\n      backgroundColor: currentFilterGroup.readyStock ? \"rgb(156,31,20)\" : \"#EDECEA\",\n      color: currentFilterGroup.readyStock ? \"#ffffff\" : \"##000000A6\"\n    },\n    value: \"readyStock\",\n    onClick: function onClick(e) {\n      setCurrentFilterGroup(_objectSpread(_objectSpread({}, currentFilterGroup), {}, {\n        readyStock: !currentFilterGroup.readyStock\n      }));\n      pushParameterToUrl(_objectSpread(_objectSpread({}, currentFilterGroup), {}, {\n        readyStock: currentFilterGroup.readyStock ? false : true\n      }), _objectSpread(_objectSpread({}, mainConfig), {}, {\n        page: 1\n      }));\n    }\n  }, __jsx(\"p\", {\n    style: {\n      fontSize: \"10px\",\n      textAlign: \"center\",\n      fontWeight: \"bold\",\n      marginBottom: '0px'\n    }\n  }, \" READY \"), __jsx(\"p\", {\n    style: {\n      fontSize: \"10px\",\n      textAlign: \"center\",\n      fontWeight: \"bold\",\n      marginBottom: '0px'\n    }\n  }, \" STOCK\"))), __jsx(Col, {\n    style: {\n      paddingRight: '5px'\n    },\n    xs: 8,\n    sm: 8,\n    md: 8,\n    lg: 8,\n    xl: 8\n  }, __jsx(\"div\", {\n    className: \"w-100\",\n    style: {\n      alignItems: 'center',\n      paddingTop: '15%',\n      height: 38,\n      borderRadius: 5,\n      backgroundColor: currentFilterGroup.registrationUrl ? \"rgb(252,101,134)\" : \"#EDECEA\",\n      color: currentFilterGroup.readyStock ? \"#ffffff\" : \"##000000A6\"\n    },\n    value: \"registrationUrl\",\n    onClick: function onClick(e) {\n      setCurrentFilterGroup(_objectSpread(_objectSpread({}, currentFilterGroup), {}, {\n        registrationUrl: !currentFilterGroup.registrationUrl\n      }));\n      pushParameterToUrl(_objectSpread(_objectSpread({}, currentFilterGroup), {}, {\n        registrationUrl: currentFilterGroup.registrationUrl ? false : true\n      }), _objectSpread(_objectSpread({}, mainConfig), {}, {\n        page: 1\n      }));\n    }\n  }, __jsx(\"p\", {\n    style: {\n      fontSize: \"10px\",\n      textAlign: \"center\",\n      fontWeight: \"bold\",\n      marginBottom: '0px'\n    }\n  }, \"REG\"))), __jsx(Col, {\n    xs: 8,\n    sm: 8,\n    md: 8,\n    lg: 8,\n    xl: 8\n  }, __jsx(\"div\", {\n    className: \"w-100\",\n    style: {\n      alignItems: 'center',\n      height: 38,\n      paddingLeft: '25%',\n      paddingTop: '10%',\n      borderRadius: 5,\n      backgroundColor: currentFilterGroup.car360View ? \"rgb(85,204,212)\" : \"#EDECEA\"\n    },\n    value: \"360\",\n    onClick: function onClick(e) {\n      setCurrentFilterGroup(_objectSpread(_objectSpread({}, currentFilterGroup), {}, {\n        car360View: !currentFilterGroup.car360View\n      }));\n      pushParameterToUrl(_objectSpread(_objectSpread({}, currentFilterGroup), {}, {\n        car360View: !currentFilterGroup.car360View\n      }), _objectSpread(_objectSpread({}, mainConfig), {}, {\n        page: 1\n      }));\n    }\n  }, __jsx(\"img\", {\n    style: {\n      width: '60%'\n    },\n    src: \"/assets/profile/icon-list/carmarket-bar-icon/360.png\"\n  })))), __jsx(Col, {\n    xs: 24,\n    sm: 24,\n    md: 24,\n    lg: 24,\n    xl: 24\n  }, __jsx(Collapse, {\n    className: \"collapse-no-header border-none collapse-body-no-padding collapse-body-overflow-visible\",\n    activeKey: expandKey\n  }, __jsx(Collapse.Panel, {\n    key: \"1\",\n    showArrow: false,\n    collapsible: true\n  }, __jsx(\"div\", {\n    style: {\n      marginTop: '10px'\n    },\n    className: \"width-100\"\n  }, menuView)), __jsx(Collapse.Panel, {\n    key: \"2\",\n    showArrow: false,\n    collapsible: true\n  }, __jsx(\"div\", {\n    className: \"width-100\"\n  }, stateView)), __jsx(Collapse.Panel, {\n    key: \"3\",\n    showArrow: false,\n    collapsible: true\n  }, __jsx(\"div\", {\n    className: \"width-100\"\n  })), __jsx(Collapse.Panel, {\n    key: \"4\",\n    showArrow: false,\n    collapsible: true\n  }, __jsx(\"div\", {\n    className: \"width-100\"\n  }, priceView)), __jsx(Collapse.Panel, {\n    key: \"6\",\n    showArrow: false,\n    collapsible: true\n  }, __jsx(\"div\", {\n    className: \"width-100\"\n  }, conditionView)), __jsx(Collapse.Panel, {\n    key: \"7\",\n    showArrow: false,\n    collapsible: true\n  }, sortingView())))), __jsx(Divider, {\n    style: {\n      marginTop: '15px',\n      marginBottom: '10px'\n    }\n  }), _renderFilterTags(currentFilterGroup), __jsx(Collapse, {\n    className: \"collapse-no-header border-none collapse-body-no-padding collapse-body-overflow-visible\",\n    activeKey: expandKey\n  }, __jsx(Collapse.Panel, {\n    key: \"5\",\n    showArrow: false\n  }, __jsx(\"div\", {\n    className: \"width-100\"\n  }))), __jsx(Row, {\n    style: {\n      marginBottom: '10px',\n      marginTop: '10px'\n    }\n  }, __jsx(Col, {\n    xs: 24,\n    sm: 24,\n    md: 24,\n    lg: 24,\n    xl: 24,\n    className: \"background-white margin-bottom-xl\"\n  }, __jsx(Row, null, __jsx(Col, {\n    xs: 24,\n    sm: 24,\n    md: 24,\n    lg: 24,\n    xl: 24\n  }, __jsx(\"div\", {\n    className: \"d-flex scroller-type\"\n  }, _renderGridViewRes(notEmptyLength(productList) ? productList : []))))), __jsx(Col, {\n    style: {\n      textAlign: 'center'\n    },\n    xs: 24,\n    sm: 24,\n    md: 24,\n    lg: 24,\n    xl: 24\n  }, __jsx(Pagination, {\n    defaultCurrent: 1,\n    current: mainConfig.page,\n    pageSize: PAGESIZE,\n    total: total,\n    onChange: function onChange(page) {\n      pushParameterToUrl(currentFilterGroup, _objectSpread(_objectSpread({}, mainConfig), {}, {\n        page: page\n      }));\n    }\n  })))))))));\n};\n\n_s(CarMarketPage, \"JMGpOUu3rPIvUUk8dv8BXYZE5h8=\");\n\n_c = CarMarketPage;\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    app: state.app,\n    user: state.user,\n    productsList: state.productsList\n  };\n};\n\nvar mapDispatchToProps = {\n  loading: loading,\n  setProductListLoading: setProductListLoading,\n  updateActiveMenu: updateActiveMenu\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(CarMarketPage));\n\nvar _c;\n\n$RefreshReg$(_c, \"CarMarketPage\");","map":{"version":3,"sources":["/Users/faraheen/ccar-cms-next-mobile/components/product-list/page/CarMarketPage.jsx"],"names":["AppstoreOutlined","BarsOutlined","Tag","Collapse","Button","Col","Divider","Drawer","Empty","Icon","Pagination","Radio","Row","Select","Spin","Tooltip","Form","axios","_","withRouter","Link","useEffect","useState","connect","convertParameterToProductListUrl","notEmptyLength","isValidNumber","convertRangeFormatBack","objectRemoveEmptyValue","formatNumber","LayoutV2","ProductList","ProductListFilterForm","client","loading","updateActiveMenu","getCarBrand","GridProductSkeleton","queryString","carAdsFilter","brandFilterTotal","setProductListLoading","MakeModal","StateModal","Scrollbars","DetailFilterForm","priceRangeOptions","years","modals","antIcon","fontSize","PAGESIZE","searchBarRef","React","createRef","timeoutFunction","SWITCH_OFF_COLOR","SWITCH_ON_COLOR","CarMarketPage","props","config","page","sorting","view","mainConfig","setMainConfig","setView","filterGroup","currentFilterGroup","setCurrentFilterGroup","availableOptions","availableFilterOption","setAvailableFilterOption","productListTotal","total","setTotal","productList","setProductList","spinning","setSpinning","isEmptyData","setIsEmptyData","initRan","setInitRan","visible","setVisible","drawerType","setDrawerType","expandKey","setExpandKey","origAvailableFilterOption","setOrigAvailableFilterOption","getOrigAvailableOptions","getDataFromUrl","router","query","window","scroll","clearTimeout","setTimeout","then","res","get","err","productList2","cloneDeep","inputProductList","map","v","productAdsId","_id","isEmpty","post","io","uri","params","source","showDrawer","onClose","pushParameterToUrl","data","path","asPath","split","item","i","join","push","shallow","error","getUrlData","querySearch","parse","JSON","parseInt","state","length","stateArr","isArray","area","priceRange","yearRange","mileageRange","engineCapactityRange","console","log","scrollTo","andFilter","$and","convertToRangeFormat","convertFilterRange","Object","assign","engineCapacityRange","match","$match","limit","skip","promises","forEach","modal","filterType","headers","settings","accessToken","Promise","all","responses","options","response","index","uniqueInfo","isPlainObject","_renderFilterTags","showTags","pick","convertRangeFormatToText","entries","cloneFilterGroup","_renderGridViewRes","height","position","top","transform","right","menuView","make","brand","model","toLower","selectFilter","value","concat","stateView","priceView","marginTop","marginBottom","e","conditionView","margin","padding","textAlign","width","condition","target","backgroundColor","fontWeight","sortingView","compA","searchTypeObj","compB","touchAction","xs","sm","md","lg","xl","parameter1","toUpperCase","paddingRight","borderRadius","readyStock","color","alignItems","paddingTop","registrationUrl","paddingLeft","car360View","mapStateToProps","app","user","productsList","mapDispatchToProps"],"mappings":"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","sourcesContent":["import { AppstoreOutlined, BarsOutlined } from '@ant-design/icons'\nimport { Tag, Collapse, Button, Col, Divider, Drawer, Empty, Icon, Pagination, Radio, Row, Select, Spin, Tooltip, Form } from 'antd'\nimport axios from 'axios'\nimport _ from 'lodash'\nimport { withRouter } from 'next/dist/client/router'\nimport Link from 'next/link'\nimport { useEffect, useState } from 'react'\nimport { connect } from 'react-redux'\nimport { convertParameterToProductListUrl, notEmptyLength, isValidNumber, convertRangeFormatBack, objectRemoveEmptyValue, formatNumber } from '../../../common-function'\nimport LayoutV2 from '../../../components/general/LayoutV2'\nimport ProductList from '../../../components/product-list/ProductList'\nimport ProductListFilterForm from '../../../components/product-list/ProductListFilterForm'\nimport client from '../../../feathers'\nimport { loading, updateActiveMenu } from '../../../redux/actions/app-actions'\nimport { getCarBrand } from '../../../params/carBrandsList'\nimport GridProductSkeleton from '../../skeleton-loader/GridProductSkeleton'\nimport queryString from 'query-string';\nimport carAdsFilter from '../../../api/carAdsFilter'\nimport brandFilterTotal from '../../../api/brandFilterTotal'\nimport { setProductListLoading } from '../../../redux/actions/productsList-actions'\nimport MakeModal from '../filter-modal/MakeModal';\nimport StateModal from '../filter-modal/StateModal';\nimport Scrollbars from 'react-custom-scrollbars';\nimport DetailFilterForm from '../DetailFilterForm';\n\nconst priceRangeOptions = [[50000, '<'], [50000, 100000], [100000, 200000], [200000, 400000], [400000, 600000], [600000, 800000], [800000, 1000000], [1000000, '>='], ];\nconst years = [2020, 2019, 2018, 2017, 2016, 2015, 2014, 2013, 2012, 2011, 2010, 2009, 2008, 2007, 2006, 2005, 2004, 2003, 2002, 2001, 2000, 1999, 1998, 1997, 1996, 1995, 1994, 1993, 1992, 1991, 1990]\nconst modals = ['make', 'model', 'state', 'area', 'bodyType', 'color', 'fuelType'];\nconst antIcon = <img src=\"/assets/Ccar-logo.png\" style={{ fontSize: 60 }} />;\nconst PAGESIZE = 30;\nconst searchBarRef = React.createRef();\nlet timeoutFunction;\n\nconst SWITCH_OFF_COLOR = '#9E9E9E';\nconst SWITCH_ON_COLOR = '#FFCC32';\n\nconst CarMarketPage = (props) => {\n    const [mainConfig, setMainConfig] = useState(props.config || {\n        page: 1,\n        sorting: {},\n        view: 'gridView',\n    })\n    const [view, setView] = useState('gridView')\n    const [currentFilterGroup, setCurrentFilterGroup] = useState(props.filterGroup || {})\n    const [availableFilterOption, setAvailableFilterOption] = useState(props.availableOptions || {})\n    const [total, setTotal] = useState(props.productListTotal || 0)\n    const [productList, setProductList] = useState(props.productList || [])\n    const [spinning, setSpinning] = useState(false)\n    const [isEmptyData, setIsEmptyData] = useState(false);\n    const [initRan, setInitRan] = useState({\n        filterGroup: false,\n        config: false,\n    });\n    const [visible, setVisible] = useState()\n    const [drawerType, setDrawerType] = useState('brand')\n    const [expandKey, setExpandKey] = useState();\n    const [origAvailableFilterOption, setOrigAvailableFilterOption] = useState({})\n\n    useEffect(() => {\n        props.updateActiveMenu('2');\n        getOrigAvailableOptions();\n    }, [])\n\n    useEffect(() => {\n        setInitRan({\n            filterGroup: true,\n            config: true,\n        })\n\n    }, [])\n\n    useEffect(() => {\n        if (initRan.filterGroup && initRan.config) {\n            getDataFromUrl();\n        }\n    }, [props.router.query])\n\n\n    useEffect(() => {\n\n        if (initRan.filterGroup && initRan.config) {\n            props.setProductListLoading(true);\n            if (window) {\n                window.scroll(0, 0)\n            }\n            clearTimeout(timeoutFunction);\n            timeoutFunction = setTimeout(() => {\n                carAdsFilter({\n                    filterGroup: currentFilterGroup,\n                    config: mainConfig\n                }, PAGESIZE).then(res => {\n                    props.setProductListLoading(false);\n                    setProductList(_.get(res, ['data']) || []);\n                    setTotal(_.get(res, ['total']) || 0);\n\n                }).catch(err => {\n                    props.setProductListLoading(false);\n                });\n                brandFilterTotal(modals, {\n                    filterGroup: currentFilterGroup,\n                    config: mainConfig\n                }).then(res => {\n                    setAvailableFilterOption(res);\n                }).catch(err => {\n                });\n            }, 500);\n        }\n    }, [currentFilterGroup, mainConfig])\n\n    useEffect(() => {\n        setTimeout(() => {\n\n            let productList2 = _.cloneDeep(productList)\n\n            let inputProductList = _.map(productList2, function (v) {\n                v.productAdsId = v._id\n                return { productAdsId: v.productAdsId }\n            });\n\n            if (_.isEmpty(inputProductList) === false) {\n                axios.post(`${client.io.io.uri}processImpression`,\n                    {\n                        params: {\n                            productList: inputProductList,\n                            source: 'web',\n                        }\n                    }).then((res) => { })\n            }\n        },\n            3000);\n\n    }, [productList])\n\n    const showDrawer = () => {\n        visible == true ? setVisible(false) : setVisible(true)\n    }\n\n    const onClose = () => {\n        visible == false ? setVisible(true) : setVisible(false)\n    }\n\n    function pushParameterToUrl(data, config) {\n\n        try {\n            let path = convertParameterToProductListUrl(data, config)\n            let asPath = path.split('?')[0].split('/');\n            asPath = _.map(asPath, function (item, i) {\n                if (i > 1) {\n                    item = `[parameter${i - 1}]`\n                }\n                return item;\n            })\n            asPath = asPath.join('/')\n            setProductList([]);\n            props.setProductListLoading(true);\n            props.router.push(asPath, path, { shallow: true })\n        } catch (error) {\n\n        }\n\n    }\n\n    function getUrlData() {\n        try {\n            let querySearch = props.router.asPath.split('?')[1];\n            let query = queryString.parse(querySearch);\n            if (!query) {\n                query = {};\n            }\n\n            let filterGroup = query.data ? JSON.parse(query.data) : {};\n            let sorting = query.sorting ? JSON.parse(query.sorting) : {};\n            let config = {\n                page: query.page,\n                sorting: sorting,\n                view: query.view,\n            }\n\n            if (!isValidNumber(parseInt(config.page))) {\n                config.page = 1;\n            }\n\n            if (!_.get(config, ['sorting', 'carspec.year']) && !_.get(config, ['sorting', 'mileageFilter']) && !_.get(config, ['sorting', 'searchPrice'])) {\n                config.sorting = {};\n            }\n            if (_.get(config, ['view']) != 'gridView' && _.get(config, ['view']) != 'listView') {\n                config.view = 'gridView';\n            }\n            setMainConfig(config);\n\n\n            //Only state need to check manually;\n            let state = props.router.asPath.split('?')[0].split('/');\n            state = state[state.length - 1]\n\n            let stateArr = state.split('_');\n\n            filterGroup.state = _.isArray(stateArr) && !_.isEmpty(stateArr) ? _.get(stateArr, [1]) || '' : '';\n            filterGroup.area = _.isArray(stateArr) && !_.isEmpty(stateArr) ? _.get(stateArr, [2]) || '' : '';\n\n            if (filterGroup.priceRange) {\n                filterGroup.priceRange = convertRangeFormatBack(filterGroup.priceRange)\n            }\n            if (filterGroup.yearRange) {\n                filterGroup.yearRange = convertRangeFormatBack(filterGroup.yearRange)\n            }\n            if (filterGroup.mileageRange) {\n                filterGroup.mileageRange = convertRangeFormatBack(filterGroup.mileageRange)\n            }\n            if (filterGroup.engineCapactityRange) {\n                filterGroup.engineCapactityRange = convertRangeFormatBack(filterGroup.engineCapactityRange)\n            }\n\n            setCurrentFilterGroup({\n                ...currentFilterGroup,\n                ...filterGroup,\n            });\n\n        } catch (error) {\n            console.log('error', error);\n        }\n    }\n\n    function pushParameterToUrl(data, config) {\n        let path = convertParameterToProductListUrl(data, config)\n        if (path != `${props.router.asPath}${props.router.query}`) {\n          props.router.push(path)\n          setExpandKey(null)\n        }\n      }\n\n    function getDataFromUrl() {\n        window.scrollTo(0, 0);\n        props.loading(true);\n        let andFilter = { $and: [] }\n        let data = getUrlData();\n        if (!notEmptyLength(data)) {\n          return;\n        }\n    \n        if (notEmptyLength(data.filterGroup) && notEmptyLength(data.filterGroup.yearRange)) {\n          data.filterGroup.yearRange = convertToRangeFormat(data.filterGroup.yearRange);\n          data.filterGroup.yearRange = convertFilterRange(data.filterGroup.yearRange, 'carspec.year')\n          if (notEmptyLength(data.filterGroup.yearRange)) {\n            andFilter.$and = [...andFilter.$and, ...data.filterGroup.yearRange]\n            data.filterGroup = Object.assign(data.filterGroup, andFilter)\n          }\n          delete data.filterGroup.yearRange;\n        }\n    \n        if (notEmptyLength(data.filterGroup) && notEmptyLength(data.filterGroup.priceRange)) {\n          data.filterGroup.priceRange = convertToRangeFormat(data.filterGroup.priceRange);\n          data.filterGroup.priceRange = convertFilterRange(data.filterGroup.priceRange, 'searchPrice')\n          if (notEmptyLength(data.filterGroup.priceRange)) {\n            andFilter.$and = [...andFilter.$and, ...data.filterGroup.priceRange]\n            data.filterGroup = Object.assign(data.filterGroup, andFilter)\n          }\n          delete data.filterGroup.priceRange;\n        }\n    \n        if (notEmptyLength(data.filterGroup) && notEmptyLength(data.filterGroup.mileageRange)) {\n          data.filterGroup.mileageRange = convertToRangeFormat(data.filterGroup.mileageRange);\n          data.filterGroup.mileageRange = convertFilterRange(data.filterGroup.mileageRange, 'mileageFilter')\n          if (notEmptyLength(data.filterGroup.mileageRange)) {\n            andFilter.$and = [...andFilter.$and, ...data.filterGroup.mileageRange]\n            data.filterGroup = Object.assign(data.filterGroup, andFilter)\n          }\n          delete data.filterGroup.mileageRange;\n        }\n    \n        if (notEmptyLength(data.filterGroup) && notEmptyLength(data.filterGroup.engineCapacityRange)) {\n          data.filterGroup.engineCapacityRange = convertToRangeFormat(data.filterGroup.engineCapacityRange);\n          data.filterGroup.engineCapacityRange = convertFilterRange(data.filterGroup.engineCapacityRange, 'carspec.engineCapacity')\n          if (notEmptyLength(data.filterGroup.engineCapacityRange)) {\n            andFilter.$and = [...andFilter.$and, ...data.filterGroup.engineCapacityRange]\n            data.filterGroup = Object.assign(data.filterGroup, andFilter)\n          }\n          delete data.filterGroup.engineCapacityRange;\n        }\n    \n        data.filterGroup = objectRemoveEmptyValue(data.filterGroup);\n        let match = { $match: { ...data.filterGroup } }\n        axios.get(`${client.io.io.uri}carAdsFilterV3`,\n          {\n            params: {\n              match,\n              sorting: data.mainConfig.sorting || {},\n              limit: PAGESIZE,\n              skip: ((_.get(data.mainConfig, ['page']) || 1) - 1) * PAGESIZE,\n            }\n          })\n          .then((res) => {\n    \n            props.loading(false);\n            if (notEmptyLength(res.data.data)) {\n              setProductList(res.data.data)\n              setTotal(res.data.total);\n            } else {\n              setProductList([])\n              setTotal(0);\n            }\n          })\n          .catch((err) => {\n            props.loading(false);\n            // message.error(err.message);\n          })\n    \n        let promises = [];\n        _.forEach(modals, function (modal) {\n          promises.push(\n            axios.get(`${client.io.io.uri}brandFilterTotalV3`, {\n              params: { filterType: modal, match },\n              headers: { 'Authorization': client.settings.accessToken }\n            })\n          )\n        })\n    \n        Promise.all(promises).then((responses) => {\n          if (_.isArray(responses) && !_.isEmpty((responses))) {\n            let options = {}\n            _.forEach(responses, function (response, index) {\n              options[`${modals[index]}List`] = response.data.uniqueInfo[`${modals[index]}List`];\n            })\n    \n            setAvailableFilterOption(options)\n          }\n        }).catch((err) => {\n          // message.error(err.message);\n        })\n    \n      }\n\n      async function getOrigAvailableOptions(match) {\n        if (!_.isPlainObject(match) && _.isEmpty(match)) {\n          match = {};\n        }\n        let promises = [];\n        _.forEach(modals, function (modal) {\n          promises.push(\n            axios.get(`${client.io.io.uri}brandFilterTotalV3`, {\n              params: { filterType: modal, match },\n              headers: { 'Authorization': client.settings.accessToken }\n            })\n          )\n        })\n    \n        let responses = await Promise.all(promises);\n    \n        if (_.isArray(responses) && !_.isEmpty((responses))) {\n          let options = {}\n          _.forEach(responses, function (response, index) {\n            options[`${modals[index]}List`] = response.data.uniqueInfo[`${modals[index]}List`];\n          })\n          setOrigAvailableFilterOption(options)\n        }\n      }\n\n      const _renderFilterTags = (filterGroup) => {\n        try {\n          const showTags = ['make', 'model', 'state', 'condition', 'yearRange', 'priceRange', 'mileageRange', 'transmission', 'color', 'bodyType', 'fuelType', 'engineCapacityRange'];\n          if (_.isPlainObject(filterGroup) && !_.isEmpty(filterGroup)) {\n            filterGroup = _.pick(objectRemoveEmptyValue(filterGroup), showTags);\n            if(filterGroup.yearRange){\n              filterGroup.yearRange = convertRangeFormatToText(filterGroup.yearRange);\n            }\n            if(filterGroup.priceRange){\n              filterGroup.priceRange = convertRangeFormatToText(filterGroup.priceRange, 'price');\n            }\n            if(filterGroup.mileageRange){\n              filterGroup.mileageRange = convertRangeFormatToText(filterGroup.mileageRange, 'mileage');\n            }\n            if(filterGroup.engineCapacityRange){\n              filterGroup.engineCapacityRange = convertRangeFormatToText(filterGroup.engineCapacityRange, 'engineCapacity');\n            }\n            filterGroup = Object.entries(filterGroup) || [];\n            return (\n              <Scrollbars autoHide autoHeight> \n                <div className=\" flex-items-align-center flex-justify-start\">\n                  {\n                    _.map(filterGroup || [], function (item) {\n                      return (\n                        <Tag key={`${item[0]}-tag`} className=\" capitalize margin-right-md\" closable onClose={() => { \n                          let cloneFilterGroup = _.cloneDeep(currentFilterGroup) || {};\n                          delete cloneFilterGroup[item[0]];\n                          pushParameterToUrl(cloneFilterGroup, { ...mainConfig, page: 1 })\n                        }} color=\"orange\">{item[1] || 'N/A'}</Tag>\n                      )\n                    })\n                  }\n                </div>\n              </Scrollbars>\n            )\n          }\n    \n          return null;\n        } catch (error) {\n          console.log(error);\n        }\n      }\n\n    const _renderGridViewRes = (data) => {\n        if (notEmptyLength(data)) {\n            return (\n                <ProductList data={data} /> \n            )\n        } else {\n            return (\n                <div style={{ height: '30em' }}>\n                    <Empty\n                        style={{ position: 'absolute', top: '50%', transform: 'translate(50%,-50%)', right: '50%' }}\n                        image=\"/empty.png\"\n                        imageStyle={{ height: 60 }}\n                        description={<span>No Result</span>} \n                    >\n                    </Empty>\n                </div>\n            )\n        }\n    }\n\n    const menuView = (\n        <MakeModal \n          options={_.isArray(_.get(availableFilterOption, ['makeList'])) && !_.isEmpty(_.get(availableFilterOption, ['makeList'])) && !currentFilterGroup.make ? _.get(availableFilterOption, ['makeList']) : _.get(origAvailableFilterOption, ['makeList']) || []}\n          onSelect={(brand, model) => {\n            setCurrentFilterGroup({\n              ...currentFilterGroup,\n              make: _.toLower(_.get(brand, 'value') || ''),\n              model: _.toLower(_.get(model, 'model') || ''),\n              selectFilter: (brand.value).concat([])\n            })\n            pushParameterToUrl({ ...currentFilterGroup, make: _.toLower(_.get(brand, 'value') || ''), model: _.toLower(_.get(model, 'model') || ''), }, mainConfig)\n          }}\n        />\n      );\n    \n      const stateView = (\n        <StateModal\n          options={_.isArray(_.get(availableFilterOption, ['stateList'])) && !_.isEmpty(_.get(availableFilterOption, ['stateList'])) && !currentFilterGroup.state ? _.get(availableFilterOption, ['stateList']) : _.get(origAvailableFilterOption, ['stateList']) || []}\n          onSelect={(state) => {\n            if (_.get(state, ['value'])) {\n              setCurrentFilterGroup({\n                ...currentFilterGroup,\n                state: _.toLower(state.value),\n              })\n              pushParameterToUrl({ ...currentFilterGroup, state: _.toLower(state.value) }, mainConfig)\n            }\n          }}\n        /> \n      )\n    \n    //   const yearView = (\n    //     <YearRangeFiltering onChange={(data) => {\n    //       if (_.isPlainObject(data) && !_.isEmpty(data)) {\n    //         setCurrentFilterGroup({\n    //           ...currentFilterGroup,\n    //           ...data\n    //         })\n    //         pushParameterToUrl({ ...currentFilterGroup, ...data }, mainConfig)\n    //       }\n    //     }} />\n    //   )\n    \n      const priceView = (\n        <Row style={{ marginTop: '10px' }}>\n          {/* <div className=\"d-flex scroller-type margin-x-sm\" style={{ overflow: 'scroll' }}> */}\n          {\n            _.map(priceRangeOptions, function (priceRange) {\n              return (\n                <Col span={8} style={{ marginBottom: '10px' }}>\n                  <Button className=\"margin-x-sm\" onClick={(e) => {\n                    pushParameterToUrl({ ...currentFilterGroup, priceRange: priceRange }, { ...mainConfig, page: 1 })\n                  }}>\n                    {\n                      !priceRange[1] || priceRange[1] == '<' || priceRange[1] == '<=' ?\n                        `0-${formatNumber(priceRange[0], 'auto', false, 0)}`\n                        :\n                        priceRange[1] == '==' ?\n                          `Equal ${formatNumber(priceRange[0], 'auto', false, 0)}`\n                          :\n                          priceRange[1] == '>' || priceRange[1] == '>=' ?\n                            `Over ${formatNumber(priceRange[0], 'auto', false, 0)}`\n                            :\n                            `${formatNumber(priceRange[0], 'auto', false, 0)} - ${formatNumber(priceRange[1], 'auto', false, 0)} `\n                    }\n                  </Button>\n                </Col>\n              )\n            })\n          }\n          {/* </div> */}\n        </Row>\n      )\n\n      // const detailView = (\n      //   <div style={{ marginTop: '10px' }}>\n      //     <DetailFilterForm options={availableFilterOption} onChange={(data) => {\n      //       if (_.isPlainObject(data) && !_.isEmpty(data)) {\n      //         setCurrentFilterGroup({\n      //           ...currentFilterGroup,\n      //           ...data\n      //         })\n      //         pushParameterToUrl({ ...currentFilterGroup, ...data }, mainConfig)\n      //       }\n      //     }} />\n      //   </div>\n      // )\n    \n      const conditionView =\n        (\n          <Form.Item style={{ margin: '0px', marginBottom: '0px', padding: '2px 2px 0px 0px' }}>\n            <Radio.Group className='condition-form ' style={{ textAlign: 'center', width: '100%', padding: '0px' }}\n              value={currentFilterGroup.condition ? currentFilterGroup.condition : 'all'}\n              onChange={(e) => { setCurrentFilterGroup({ ...currentFilterGroup, condition: e.target.value }); pushParameterToUrl({ ...currentFilterGroup, condition: _.toLower(e.target.value) }, { ...mainConfig, page: 1 }) }} >\n              <Row gutter={[10, 0]} type=\"flex\" align=\"middle\" justify=\"space-around\" className='fill-parent'>\n                <Col xs={8} sm={8} md={8} lg={8} xl={8}>\n                  <Radio.Button className=\"w-100\" style={{ backgroundColor: \"\", padding: 0 }} value=\"used\" onClick={(e) => { if (currentFilterGroup.condition == 'used') { setCurrentFilterGroup({ ...currentFilterGroup, condition: '' }) } }}>\n                    <p style={{ fontSize: \"10px\", textAlign: \"center\", fontWeight: \"bold\" }}>USED</p>\n                  </Radio.Button>\n                </Col>\n                <Col xs={8} sm={8} md={8} lg={8} xl={8}>\n                  <Radio.Button className=\"w-100\" style={{ backgroundColor: \"\", padding: 0 }} value=\"recon\" onClick={(e) => { if (currentFilterGroup.condition == 'recon') { setCurrentFilterGroup({ ...currentFilterGroup, condition: '' }) } }}>\n                    <p style={{ fontSize: \"10px\", textAlign: \"center\", fontWeight: \"bold\" }}>RECON</p>\n                  </Radio.Button>\n                </Col>\n                <Col xs={8} sm={8} md={8} lg={8} xl={8}>\n                  <Radio.Button className=\"w-100\" style={{ backgroundColor: \"\", padding: 0 }} value=\"new\" onClick={(e) => { if (currentFilterGroup.condition == 'new') { setCurrentFilterGroup({ ...currentFilterGroup, condition: '' }) } }}>\n                    <p style={{ fontSize: \"10px\", textAlign: \"center\", fontWeight: \"bold\" }}>NEW</p>\n                  </Radio.Button>\n                </Col>\n              </Row>\n            </Radio.Group>\n          </Form.Item>\n        )\n\n        const sortingView = () => {\n            const compA = (searchTypeObj) => { return <div style={{ width: '20px', height: '20px', float: 'right', backgroundColor: '#000000' }} className=\"cursor-pointer thin-border round-border\" onClick={(e) => { pushParameterToUrl(currentFilterGroup, { sorting: { ...searchTypeObj }, page: 1 }) }} /> }\n            const compB = (searchTypeObj) => { return <div style={{ width: '20px', height: '20px', float: 'right' }} className=\"cursor-pointer thin-border round-border\" onClick={(e) => { pushParameterToUrl(currentFilterGroup, { sorting: { ...searchTypeObj }, page: 1 }) }} /> }\n        \n            return (\n              <div className=\"width-100\" >\n                <div className=\"margin-top-sm\">\n                  <h4>Sort</h4>\n                  <Row>\n                    <Col span={20}><p>Price: Low to High</p></Col>\n                    <Col span={4} style={{ textAlign: 'right' }}>\n                      {_.get(mainConfig, ['sorting', 'searchPrice']) == 1 ? compA({ 'searchPrice': null }) : compB({ 'searchPrice': 1 })}\n                    </Col>\n                  </Row>\n                  <Row>\n                    <Col span={20}><p>Price: High to Low</p></Col>\n                    <Col span={4}>\n                      {_.get(mainConfig, ['sorting', 'searchPrice']) == -1 ? compA({ 'searchPrice': null }) : compB({ 'searchPrice': -1 })}\n                    </Col>\n                  </Row>\n        \n                  <Row>\n                    <Col span={20}><p> Year: Old to New </p></Col>\n                    <Col span={4}>\n                      {_.get(mainConfig, ['sorting', 'carspec.year']) == 1 ? compA({ 'carspec.year': null }) : compB({ 'carspec.year': 1 })}\n                    </Col>\n                  </Row>\n        \n                  <Row>\n                    <Col span={20}><p> Year: New to Old </p></Col>\n                    <Col span={4}>\n                      {_.get(mainConfig, ['sorting', 'carspec.year']) == -1 ? compA({ 'carspec.year': null }) : compB({ 'carspec.year': -1 })}\n                    </Col>\n                  </Row>\n        \n                  <Row>\n                    <Col span={20}><p> Mileage: Low to High </p></Col>\n                    <Col span={4}>\n                      {_.get(mainConfig, ['sorting', 'mileageFilter']) == 1 ? compA({ 'mileageFilter': null }) : compB({ 'mileageFilter': 1 })}\n                    </Col>\n                  </Row>\n        \n                  <Row>\n                    <Col span={20}><p>Mileage: High to Low</p></Col>\n                    <Col span={4}>\n                      {_.get(mainConfig, ['sorting', 'mileageFilter']) == -1 ? compA({ 'mileageFilter': null }) : compB({ 'mileageFilter': -1 })}\n                    </Col>\n                  </Row>\n                </div>\n              </div>\n            )\n          }\n\n    return (\n        <LayoutV2>\n            <div className=\"section-version3\">\n                <div className='container-version3 padding-x-sm' style={{touchAction:'pan-y'}}>\n                    <Spin indicator={antIcon} spinning={spinning} indicator={\n                            <img src=\"/loading.gif\" style={{ width: 100, height: 100, position: 'sticky', position: '-webkit-sticky', top: 0, bottom: 0, left: 0, right: 0, margin: 'auto' }} />\n                        }>\n                            <Row gutter={[{ xs: 8, sm: 8, md: 15, lg: 15, xl: 15 }, 16]}>\n                                <Col className=\"gutter-row\" xs={24} sm={24} md={24} lg={18} xl={18}>\n\n                                    <Row className=\"margin-bottom-md\">\n                                        <Col span={20}>\n                                            <span style={{fontSize:'16px'}}>{total} </span>\n                                                {props.router.query.parameter1 ?\n                                            <span style={{fontSize:'16px'}} className='capitalize'>{getCarBrand(_.toLower(props.router.query.parameter1)).value || props.router.query.parameter1} </span> : ''}\n                                            <span style={{fontSize:'16px'}}>Cars for Sale</span>\n                                        </Col>\n                                        <Col span={4} style={{ textAlign: 'right' }}>\n                                        <   div onClick={() => { setExpandKey(expandKey == '7' ? null : '7') }}>\n                                                <img style={{ width: '40%', height: '20px' }} src=\"/assets/sorting-2.png\"></img>\n                                            </div>\n                                        </Col>\n                                    </Row>\n\n                                    <Row>\n                                        <Col span={24}>\n                                            <span className='flex-items-align-center flex-justify-space-around collapsible-drawer'>\n                                            <span className='flex-items-align-center' >\n                                            <span className=\"margin-right-lg\" onClick={() => { setExpandKey(expandKey == '1' ? null : '1') }} >Brand <Icon type=\"down\" /> </span>\n                                            <span className=\"margin-right-lg\" onClick={() => { setExpandKey(expandKey == '2' ? null : '2') }} >State <Icon type=\"down\" /> </span>\n                                            <span className=\"margin-right-lg\" onClick={() => { setExpandKey(expandKey == '3' ? null : '3') }} >Year <Icon type=\"down\" /> </span>\n                                            <span className=\"margin-right-lg\" onClick={() => { setExpandKey(expandKey == '4' ? null : '4') }} >Price <Icon type=\"down\" /> </span>\n                                            <span onClick={() => { setExpandKey(expandKey == '5' ? null : '5') }} >Detail <Icon type=\"down\" /> </span>\n                                            </span>\n                                            </span>\n                                        </Col>\n                                    </Row>\n\n                                    <Row style={{ marginTop: '10px' }}>\n                  <Col span={9}>\n                    <Button style={{ padding: '0px 10px' }} onClick={() => { setExpandKey(expandKey == '6' ? null : '6') }}> {currentFilterGroup.condition ? currentFilterGroup.condition.toUpperCase() : 'Condition'}<Icon type=\"down\" /> </Button>\n                  </Col>\n\n                  <Col span={15}>\n                    <Col style={{ paddingRight: '5px' }} xs={8} sm={8} md={8} lg={8} xl={8}>\n                      <div className=\"w-100 text-truncate-twoline flex-items-align-center\" style={{ height: 38, padding: 2, borderRadius: 5, backgroundColor: currentFilterGroup.readyStock ? \"rgb(156,31,20)\" : \"#EDECEA\", color: currentFilterGroup.readyStock ? \"#ffffff\" : \"##000000A6\" }} value=\"readyStock\" onClick={(e) => { setCurrentFilterGroup({ ...currentFilterGroup, readyStock: !currentFilterGroup.readyStock }); pushParameterToUrl({ ...currentFilterGroup, readyStock: currentFilterGroup.readyStock ? false : true }, { ...mainConfig, page: 1 }) }}>\n                        <p style={{ fontSize: \"10px\", textAlign: \"center\", fontWeight: \"bold\", marginBottom: '0px' }}> READY </p>\n                        <p style={{ fontSize: \"10px\", textAlign: \"center\", fontWeight: \"bold\", marginBottom: '0px' }}> STOCK</p>\n                      </div>\n                    </Col>\n                    <Col style={{ paddingRight: '5px' }} xs={8} sm={8} md={8} lg={8} xl={8}>\n                      <div className=\"w-100\" style={{ alignItems: 'center', paddingTop: '15%', height: 38, borderRadius: 5, backgroundColor: currentFilterGroup.registrationUrl ? \"rgb(252,101,134)\" : \"#EDECEA\", color: currentFilterGroup.readyStock ? \"#ffffff\" : \"##000000A6\" }} value=\"registrationUrl\" onClick={(e) => { setCurrentFilterGroup({ ...currentFilterGroup, registrationUrl: !currentFilterGroup.registrationUrl }); pushParameterToUrl({ ...currentFilterGroup, registrationUrl: currentFilterGroup.registrationUrl ? false : true }, { ...mainConfig, page: 1 }) }}>\n                        <p style={{ fontSize: \"10px\", textAlign: \"center\", fontWeight: \"bold\", marginBottom: '0px' }}>REG</p>\n                      </div>\n                    </Col>\n                    <Col xs={8} sm={8} md={8} lg={8} xl={8}>\n                      <div className=\"w-100\" style={{ alignItems: 'center', height: 38, paddingLeft: '25%', paddingTop: '10%', borderRadius: 5, backgroundColor: currentFilterGroup.car360View ? \"rgb(85,204,212)\" : \"#EDECEA\" }} value=\"360\" onClick={(e) => { setCurrentFilterGroup({ ...currentFilterGroup, car360View: !currentFilterGroup.car360View }); pushParameterToUrl({ ...currentFilterGroup, car360View: !currentFilterGroup.car360View }, { ...mainConfig, page: 1 }) }}>\n                        <img style={{ width: '60%' }} src=\"/assets/profile/icon-list/carmarket-bar-icon/360.png\" />\n                      </div>\n                    </Col>\n                  </Col>\n\n                  <Col xs={24} sm={24} md={24} lg={24} xl={24}>\n                    <Collapse className=\"collapse-no-header border-none collapse-body-no-padding collapse-body-overflow-visible\" activeKey={expandKey}>\n                      <Collapse.Panel key=\"1\" showArrow={false} collapsible={true}>\n                        <div style={{ marginTop: '10px' }} className=\"width-100\">\n                          {menuView}\n                        </div>\n                      </Collapse.Panel>\n                      <Collapse.Panel key=\"2\" showArrow={false} collapsible={true}>\n                        <div className=\"width-100\" >\n                          {stateView}\n                        </div>\n                      </Collapse.Panel>\n                      <Collapse.Panel key=\"3\" showArrow={false} collapsible={true}>\n                        <div className=\"width-100\" >\n                          {/* {yearView} */}\n                        </div>\n                      </Collapse.Panel>\n                      <Collapse.Panel key=\"4\" showArrow={false} collapsible={true}>\n                        <div className=\"width-100\" >\n                          {priceView}\n                        </div>\n                      </Collapse.Panel>\n                      <Collapse.Panel key=\"6\" showArrow={false} collapsible={true}>\n                        <div className=\"width-100\" >\n                          {conditionView}\n                        </div>\n                      </Collapse.Panel>\n                      <Collapse.Panel key=\"7\" showArrow={false} collapsible={true}>\n                        {sortingView()}\n                      </Collapse.Panel>\n                    </Collapse>\n                  </Col>\n                </Row>\n\n                <Divider style={{ marginTop: '15px', marginBottom: '10px' }} />\n\n                {_renderFilterTags(currentFilterGroup)}\n\n\n                <Collapse className=\"collapse-no-header border-none collapse-body-no-padding collapse-body-overflow-visible\" activeKey={expandKey}>\n                  <Collapse.Panel key=\"5\" showArrow={false}>\n                    <div className=\"width-100\" >\n                      {/* {detailView} */}\n                    </div>\n                  </Collapse.Panel>\n                </Collapse>\n\n                                    {/* <Row gutter={[0, 20]}>\n                                        <Col xs={24} sm={24} md={7} lg={6} xl={6} >\n                                            <Radio.Group\n                                                className=\"wrap-businessType-radio\"\n                                                onChange={(e) => { setCurrentFilterGroup({ ...currentFilterGroup, condition: e.target.value }); pushParameterToUrl({ ...currentFilterGroup, condition: _.toLower(e.target.value) }, { ...mainConfig, page: 1 }) }}\n                                                value={currentFilterGroup.condition ? currentFilterGroup.condition : ''}>\n                                                <Radio.Button value=\"\">All</Radio.Button>\n                                                <Radio.Button value=\"used\">Used</Radio.Button>\n                                                <Radio.Button value=\"recon\">Recon</Radio.Button>\n                                                <Radio.Button value=\"new\">New</Radio.Button>\n                                            </Radio.Group>\n                                        </Col>\n                                        <Col xs={24} sm={24} md={6} lg={5} xl={5}>\n                                            <label>Sort by: </label>\n                                            <Select defaultValue=\"createdAt:-1\" style={{ width: 120 }}\n                                                dropdownMatchSelectWidth={false}\n                                                onChange={(e) => {\n                                                    let sorting = {};\n                                                    let str = e.split(':') || [];\n                                                    sorting[str[0]] = parseInt(str[1]);\n                                                    setCurrentFilterGroup({ ...currentFilterGroup });\n                                                    pushParameterToUrl(currentFilterGroup, { ...mainConfig, sorting: sorting, page: 1 })\n                                                }}\n                                                value={\n                                                    _.isPlainObject(mainConfig.sorting) && !_.isEmpty(objectRemoveEmptyValue(mainConfig.sorting)) ?\n                                                        `${_.get(Object.entries(mainConfig.sorting), [0, 0])}:${mainConfig.sorting[_.get(Object.entries(mainConfig.sorting), [0, 0])]}`\n                                                        :\n                                                        ''}\n                                            >\n                                                <Select.Option value=\"createdAt:-1\">Best Value</Select.Option>\n                                                <Select.Option value=\"searchPrice:1\">Price (Low to High)</Select.Option>\n                                                <Select.Option value=\"searchPrice:-1\">Price (High to Low)</Select.Option>\n                                                <Select.Option value=\"carspec.year:-1\">Year (New to Old)</Select.Option>\n                                                <Select.Option value=\"carspec.year:1\">Year (Old to New)</Select.Option>\n                                                <Select.Option value=\"mileageFilter:1\">Mileage (Low to High)</Select.Option>\n                                                <Select.Option value=\"mileageFilter:-1\">Mileage (High to Low)</Select.Option>\n                                            </Select>\n                                        </Col>\n\n                                        <Col xs={12} sm={12} md={4} lg={3} xl={3} style={{ paddingTop: '15px' }}>\n                                            <Row>\n                                                <Col xs={10} sm={14} md={14} lg={14} xl={14} ><label>Reg Card:</label></Col>\n                                                <Col xs={12} sm={12} md={10} lg={10} xl={10} >\n                                                    <Switch offColor={SWITCH_OFF_COLOR} onColor={SWITCH_ON_COLOR} height={20} width={40} checkedIcon={null} uncheckedIcon={null} checked={currentFilterGroup.registrationUrl} onChange={(checked) => { setCurrentFilterGroup({ ...currentFilterGroup, registrationUrl: checked }); pushParameterToUrl({ ...currentFilterGroup, registrationUrl: checked }, { ...mainConfig, page: 1 }) }} />\n                                                </Col>\n                                            </Row>\n                                        </Col>\n                                        <Col xs={12} sm={12} md={4} lg={3} xl={3} style={{ paddingTop: '15px' }}>\n                                            <Row>\n                                                <Col xs={12} sm={14} md={14} lg={14} xl={14} ><label>360&deg; View:</label></Col>\n                                                <Col xs={10} sm={10} md={10} lg={10} xl={10} >\n                                                    <Switch offColor={SWITCH_OFF_COLOR} onColor={SWITCH_ON_COLOR} height={20} width={40} checkedIcon={null} uncheckedIcon={null} checked={currentFilterGroup.car360View} onChange={(checked) => { setCurrentFilterGroup({ ...currentFilterGroup, car360View: checked }); pushParameterToUrl({ ...currentFilterGroup, car360View: checked }, { ...mainConfig, page: 1 }) }} />\n                                                </Col>\n                                            </Row>\n                                        </Col>\n                                        <Col xs={0} sm={0} md={{ span: 0 }} lg={{ span: 4 }} xl={{ span: 4 }} style={{ float: 'right' }}>\n                                            <Radio.Group onChange={(e) => { setView(e.target.value) }} value={view} className=\"wrap-gridView-btn\" style={{ float: 'right', marginRight: '10px' }}>\n                                                <Tooltip title=\"List View\"><Radio.Button value=\"listView\"><BarsOutlined style={{ fontSize: '16px' }} /> </Radio.Button></Tooltip>\n                                                <Tooltip title=\"Grid View\"><Radio.Button value=\"gridView\"><AppstoreOutlined style={{ fontSize: '16px' }} /> </Radio.Button></Tooltip>\n                                            </Radio.Group>\n                                        </Col>\n                                    </Row> */}\n\n                                    <Row style={{ marginBottom: '10px', marginTop:'10px' }} >\n                                        <Col xs={24} sm={24} md={24} lg={24} xl={24} className=\"background-white margin-bottom-xl\">\n                                            <Row>\n                                                <Col xs={24} sm={24} md={24} lg={24} xl={24}>\n                                                    <div className=\"d-flex scroller-type\"   >\n                                                        {_renderGridViewRes(notEmptyLength(productList) ? productList : [])}\n                                                    </div>\n                                                </Col>\n                                            </Row>\n                                        </Col>\n                                        <Col style={{ textAlign: 'center' }} xs={24} sm={24} md={24} lg={24} xl={24}>\n                                            <Pagination defaultCurrent={1} current={mainConfig.page} pageSize={PAGESIZE} total={total} onChange={(page) => { pushParameterToUrl(currentFilterGroup, { ...mainConfig, page: page }) }} />\n                                        </Col>\n                                    </Row>\n                                </Col>\n                            </Row>\n                        </Spin>\n                    </div>\n            </div>\n        </LayoutV2>\n    )\n}\n\n\nconst mapStateToProps = state => ({\n    app: state.app,\n    user: state.user,\n    productsList: state.productsList,\n});\n\n\nconst mapDispatchToProps = {\n    loading: loading,\n    setProductListLoading: setProductListLoading,\n    updateActiveMenu: updateActiveMenu,\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(CarMarketPage))"]},"metadata":{},"sourceType":"module"}