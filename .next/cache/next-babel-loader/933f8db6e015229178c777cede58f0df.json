{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { CloseOutlined } from '@ant-design/icons';\nimport { Card, Col, Empty, Form, Icon, Input, Modal, Row } from 'antd';\nimport _ from 'lodash';\nimport { withRouter } from 'next/dist/client/router';\nimport React, { useEffect, useState } from 'react';\nimport Scrollbars from 'react-custom-scrollbars';\nimport Highlighter from 'react-highlight-words';\nimport { connect } from 'react-redux';\nimport { fuelTypeList } from '../../../params/fuelTypeList';\nimport { formatNumber, isValidNumber, notEmptyLength } from '../../../common-function';\nconst fuelTypeModalSearchRef = React.createRef();\n\nconst FuelTypeModal = props => {\n  const {\n    0: options,\n    1: setOptions\n  } = useState([]);\n  const {\n    0: searchKeyword,\n    1: setSearchKeyword\n  } = useState('');\n  const {\n    0: filteredOptions,\n    1: setFilteredOptions\n  } = useState([]);\n  useEffect(() => {\n    if (props.options != null && _.isArray(props.options)) {\n      let data = _.reverse(_.sortBy(_.compact(_.map(fuelTypeList, function (fuelType) {\n        let selectedOption = _.find(props.options, function (item) {\n          return _.toLower(item.value) == _.toLower(fuelType.value);\n        });\n\n        if (selectedOption) {\n          fuelType.count = selectedOption.count;\n          return fuelType;\n        } else {\n          return null;\n        }\n      })), ['count', 'value']));\n\n      setOptions(data);\n    } else {\n      setOptions([]);\n    }\n  }, [props.options]);\n  useEffect(() => {\n    if (props.visible == true && fuelTypeModalSearchRef.current) {\n      fuelTypeModalSearchRef.current.focus();\n    }\n\n    if (!props.visible) {\n      setSearchKeyword('');\n    }\n  }, [props.visible, fuelTypeModalSearchRef.current]);\n  useEffect(() => {\n    if (_.isArray(options) && notEmptyLength(options)) {\n      let data = _.filter(options, function (option) {\n        if (searchKeyword) {\n          let keyword = new RegExp(searchKeyword, 'i');\n          return keyword.test(option.value) && option.count > 0;\n        } else {\n          return true;\n        }\n      });\n\n      setFilteredOptions(data);\n    } else {\n      setFilteredOptions([]);\n    }\n  }, [options, searchKeyword]);\n\n  const selectedValue = (item, alphaIndex, index) => {\n    if (props.onChange) {\n      props.onChange(item, alphaIndex, index);\n    }\n  };\n\n  return __jsx(React.Fragment, null, __jsx(Modal, {\n    closable: props.closable != null ? props.closable ? true : false : false,\n    maskClosable: props.maskClosable != null ? props.maskClosable ? true : false : false,\n    visible: props.visible != null ? props.visible ? true : false : false,\n    style: _objectSpread({}, props.style),\n    onCancel: props.onCancel,\n    className: `${props.className ? props.className : ''}`,\n    width: props.width ? props.width : '100%',\n    id: props.id ? props.id : 'fuel-type-modal',\n    zIndex: isValidNumber(parseInt(props.zIndex)) ? parseInt(props.zIndex) : 1000,\n    footer: null\n  }, __jsx(Card, {\n    bordered: false,\n    title: props.title ? props.title : \"Select Car Fuel Type\",\n    size: \"small\",\n    style: {\n      zIndex: 1001\n    }\n  }, __jsx(Row, null, __jsx(Col, {\n    xs: 24,\n    sm: 24,\n    md: 24,\n    lg: 24,\n    xl: 24\n  }, __jsx(\"div\", {\n    className: \"thin-border round-border-big padding-sm\"\n  }, __jsx(Input, {\n    ref: fuelTypeModalSearchRef,\n    autoFocus: true,\n    value: searchKeyword,\n    onChange: e => {\n      setSearchKeyword(e.target.value);\n    },\n    className: \"no-border-input\",\n    size: \"small\",\n    compact: true,\n    suffix: searchKeyword ? __jsx(CloseOutlined, {\n      className: \"cursor-pointer\",\n      onClick: e => {\n        setSearchKeyword('');\n      }\n    }) : __jsx(Icon, {\n      type: \"search\"\n    }),\n    placeholder: \"Search Here...\"\n  })))), __jsx(Row, {\n    gutter: [15, 15]\n  }, __jsx(Col, {\n    className: \"gutter-row\",\n    xs: 0,\n    sm: 0,\n    md: 24,\n    lg: 24,\n    xl: 24\n  }, __jsx(Scrollbars, {\n    autoHide: true,\n    autoHeight: true,\n    autoHeightMax: _.get(props, ['bodyStyle', 'maxHeight']) || 500\n  }, __jsx(\"div\", null, filteredOptions.length > 0 ? filteredOptions.map((item, index) => {\n    return __jsx(\"div\", {\n      style: {\n        margin: '10px 0px'\n      },\n      key: index\n    }, __jsx(Row, {\n      key: index // gutter={[10, 10]} \n      ,\n      className: _.toLower(props.selectedValue) == _.toLower(item.value) ? \"selectedRow\" : \"selectRow\",\n      onClick: () => selectedValue(item.value, index),\n      style: {\n        height: '3.5em',\n        lineHeight: '3.5em'\n      }\n    }, __jsx(Col, {\n      span: 5,\n      style: {\n        height: '100%',\n        padding: 5,\n        lineHeight: 0\n      }\n    }, __jsx(\"img\", {\n      className: \"w-100 h-100 obj-fit-c\",\n      src: item.icon\n    })), __jsx(Col, {\n      span: 12,\n      style: {\n        height: '100%'\n      }\n    }, __jsx(Highlighter, {\n      style: {\n        padding: '0px 10px',\n        textTransform: 'capitalize',\n        whiteSpace: 'noWrap',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis'\n      },\n      highlightStyle: {\n        backgroundColor: '#ffc069',\n        padding: 0\n      },\n      searchWords: [searchKeyword],\n      autoEscape: true,\n      textToHighlight: item.value\n    })), __jsx(Col, {\n      span: 7,\n      style: {\n        height: '100%'\n      }\n    }, __jsx(\"div\", {\n      className: \"fill-parent flex-justify-end flex-items-align-center\"\n    }, `(${isValidNumber(item.count) ? formatNumber(item.count, null, false, 0, true) : 0})`))));\n  }) : __jsx(\"div\", {\n    style: {\n      height: '100%'\n    }\n  }, __jsx(Empty, {\n    style: {\n      position: 'relative'\n    },\n    image: \"/empty.png\",\n    imageStyle: {\n      height: 60\n    },\n    description: __jsx(\"span\", null, \"No Result\")\n  })))))))));\n};\n\nconst mapStateToProps = state => ({\n  productsList: state.productsList,\n  app: state.app\n});\n\nconst mapDispatchToProps = {};\nexport default connect(mapStateToProps, mapDispatchToProps)(Form.create()(withRouter(FuelTypeModal)));","map":{"version":3,"sources":["/Users/faraheen/ccar-cms-next-mobile/components/product-list/filter-modal/FuelTypeModal.jsx"],"names":["CloseOutlined","Card","Col","Empty","Form","Icon","Input","Modal","Row","_","withRouter","React","useEffect","useState","Scrollbars","Highlighter","connect","fuelTypeList","formatNumber","isValidNumber","notEmptyLength","fuelTypeModalSearchRef","createRef","FuelTypeModal","props","options","setOptions","searchKeyword","setSearchKeyword","filteredOptions","setFilteredOptions","isArray","data","reverse","sortBy","compact","map","fuelType","selectedOption","find","item","toLower","value","count","visible","current","focus","filter","option","keyword","RegExp","test","selectedValue","alphaIndex","index","onChange","closable","maskClosable","style","onCancel","className","width","id","parseInt","zIndex","title","e","target","get","length","margin","height","lineHeight","padding","icon","textTransform","whiteSpace","overflow","textOverflow","backgroundColor","position","mapStateToProps","state","productsList","app","mapDispatchToProps","create"],"mappings":"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","sourcesContent":["import { CloseOutlined } from '@ant-design/icons';\nimport { Card, Col, Empty, Form, Icon, Input, Modal, Row } from 'antd';\nimport _ from 'lodash';\nimport { withRouter } from 'next/dist/client/router';\nimport React, { useEffect, useState } from 'react';\nimport Scrollbars from 'react-custom-scrollbars';\nimport Highlighter from 'react-highlight-words';\nimport { connect } from 'react-redux';\nimport { fuelTypeList } from '../../../params/fuelTypeList';\nimport { formatNumber, isValidNumber, notEmptyLength } from '../../../common-function';\n\n\nconst fuelTypeModalSearchRef = React.createRef();\n\nconst FuelTypeModal = (props) => {\n    const [options, setOptions] = useState([])\n    const [searchKeyword, setSearchKeyword] = useState('')\n    const [filteredOptions, setFilteredOptions] = useState([])\n\n    useEffect(() => {\n        if (props.options != null && _.isArray(props.options)) {\n\n            let data = _.reverse(_.sortBy(_.compact(_.map(fuelTypeList, function (fuelType) {\n                let selectedOption = _.find(props.options, function (item) {\n                    return _.toLower(item.value) == _.toLower(fuelType.value);\n                })\n                if (selectedOption) {\n                    fuelType.count = selectedOption.count;\n                    return fuelType;\n                } else {\n                    return null;\n                }\n            })), ['count', 'value']));\n            setOptions(data)\n        } else {\n            setOptions([]);\n        }\n    }, [props.options])\n\n\n    useEffect(() => {\n\n        if (props.visible == true && fuelTypeModalSearchRef.current) {\n            fuelTypeModalSearchRef.current.focus();\n        }\n\n        if (!props.visible) {\n            setSearchKeyword('');\n        }\n\n    }, [props.visible, fuelTypeModalSearchRef.current])\n\n    useEffect(() => {\n        if (_.isArray(options) && notEmptyLength(options)) {\n            let data = _.filter(options, function (option) {\n                if (searchKeyword) {\n                    let keyword = new RegExp(searchKeyword, 'i');\n                    return keyword.test(option.value) && option.count > 0;\n                } else {\n                    return true;\n                }\n            })\n            setFilteredOptions(data)\n        } else {\n            setFilteredOptions([]);\n        }\n    }, [options, searchKeyword])\n\n    const selectedValue = (item, alphaIndex, index) => {\n        if (props.onChange) {\n            props.onChange(item, alphaIndex, index);\n        }\n    }\n\n    return (\n        <React.Fragment>\n            <Modal\n                closable={props.closable != null ? props.closable ? true : false : false}\n                maskClosable={props.maskClosable != null ? props.maskClosable ? true : false : false}\n                visible={props.visible != null ? props.visible ? true : false : false}\n                style={{ ...props.style }} onCancel={props.onCancel}\n                className={`${props.className ? props.className : ''}`}\n                width={props.width ? props.width : '100%'}\n                id={props.id ? props.id : 'fuel-type-modal'}\n                zIndex={isValidNumber(parseInt(props.zIndex)) ? parseInt(props.zIndex) : 1000}\n                footer={null}>\n                <Card\n                    bordered={false}\n                    title={props.title ? props.title : \"Select Car Fuel Type\"}\n                    size=\"small\"\n                    style={{ zIndex: 1001 }}\n                >\n\n                    <Row>\n                        <Col xs={24} sm={24} md={24} lg={24} xl={24}>\n                            <div className=\"thin-border round-border-big padding-sm\">\n                                <Input ref={fuelTypeModalSearchRef} autoFocus value={searchKeyword} onChange={(e) => { setSearchKeyword(e.target.value) }} className='no-border-input' size=\"small\" compact\n                                    suffix={\n                                        searchKeyword ?\n                                            <CloseOutlined\n                                                className='cursor-pointer'\n                                                onClick={(e) => { setSearchKeyword('') }} />\n                                            :\n                                            <Icon type=\"search\" />\n                                    } placeholder=\"Search Here...\" />\n                            </div>\n                        </Col>\n                    </Row>\n                    <Row gutter={[15, 15]}>\n                        <Col className=\"gutter-row\" xs={0} sm={0} md={24} lg={24} xl={24}>\n                            <Scrollbars autoHide autoHeight autoHeightMax={_.get(props, ['bodyStyle', 'maxHeight']) || 500}>\n                                <div>\n                                    {\n                                        filteredOptions.length > 0 ?\n                                            filteredOptions.map((item, index) => {\n                                                return (\n                                                    <div style={{ margin: '10px 0px' }} key={index}>\n                                                        <Row\n                                                            key={index}\n                                                            // gutter={[10, 10]} \n                                                            className={_.toLower(props.selectedValue) == _.toLower(item.value) ? \"selectedRow\" : \"selectRow\"}\n                                                            onClick={() => selectedValue(item.value, index)}\n                                                            style={{ height: '3.5em', lineHeight: '3.5em' }}>\n                                                            <Col span={5} style={{ height: '100%', padding: 5, lineHeight: 0 }}>\n                                                                <img className=\"w-100 h-100 obj-fit-c\" src={item.icon} />\n                                                        </Col>\n                                                            <Col span={12} style={{ height: '100%' }}>\n                                                                <Highlighter\n                                                                    style={{ padding: '0px 10px', textTransform: 'capitalize', whiteSpace: 'noWrap', overflow: 'hidden', textOverflow: 'ellipsis' }}\n                                                                    highlightStyle={{ backgroundColor: '#ffc069', padding: 0 }}\n                                                                    searchWords={[searchKeyword]}\n                                                                    autoEscape\n                                                                    textToHighlight={item.value}\n                                                                />\n                                                            </Col>\n                                                            <Col span={7} style={{ height: '100%' }}>\n                                                                <div className=\"fill-parent flex-justify-end flex-items-align-center\">\n                                                                    {`(${isValidNumber(item.count) ? formatNumber(item.count, null, false, 0, true) : 0})`}\n                                                                </div>\n                                                            </Col>\n                                                        </Row>\n                                                    </div>\n                                                );\n                                            })\n                                            :\n                                            <div style={{ height: '100%' }}>\n                                                <Empty\n                                                    style={{ position: 'relative' }}\n                                                    image=\"/empty.png\"\n                                                    imageStyle={{\n                                                        height: 60,\n                                                    }\n                                                    }\n                                                    description={<span>No Result</span>}\n                                                >\n                                                </Empty>\n                                            </div>\n                                    }\n                                </div>\n                            </Scrollbars>\n                        </Col>\n\n                    </Row>\n                </Card>\n            </Modal>\n        </React.Fragment>\n    );\n}\n\nconst mapStateToProps = state => ({\n    productsList: state.productsList,\n    app: state.app,\n});\n\nconst mapDispatchToProps = {\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Form.create()(withRouter(FuelTypeModal)));"]},"metadata":{},"sourceType":"module"}