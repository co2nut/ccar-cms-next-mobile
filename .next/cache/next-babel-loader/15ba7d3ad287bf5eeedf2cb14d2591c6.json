{"ast":null,"code":"function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { isInteger, range } from \"lodash\";\nimport _ from 'lodash';\nimport queryString from 'query-string';\nimport cookie from 'cookie';\nimport localStorage from 'local-storage';\nimport { statePersistActions } from \"./redux/config\";\nimport { getCarBrand } from \"./params/carBrandsList\";\nimport { getState } from \"./params/stateList\";\nimport { getBodyType } from \"./params/bodyTypeList\";\nimport { getFuelType } from \"./params/fuelTypeList\";\nimport { getColor } from \"./params/colorList\";\nimport { checkEnvReturnCmsUrl } from \"./functionContent\";\nimport client from \"./feathers\";\nimport { parseTagStringToPlainString } from \"./components/carFreak/config\";\nimport { getStreamUrl } from \"./components/live/config\";\n\nvar moment = require('moment');\n\nconst defaultRangeSmaller = '<=';\nconst defaultRangeBigger = '>=';\nconst availableFilters = ['make', 'model', 'title', 'condition', 'transmission', 'state', 'area', 'priceRange', 'yearRange', 'mileageRange', 'engineCapacityRange', 'bodyType', 'color', 'fuelType', 'registrationUrl', 'readyStock', 'car360View', 'businessType'];\nexport function isNumberAndSpace(value) {\n  //to array\n  if (value != null) {\n    value = value.split('');\n\n    if (value.filter(function (item, index) {\n      return !parseInt(item) && parseInt(item) != 0 && item != ' ';\n    }).length > 0) {\n      return false;\n    } else {\n      return true;\n    }\n  } else {\n    return false;\n  }\n}\nexport function formatDate(value, format) {\n  if (value != null) {\n    if (!isValidDate(value)) {\n      return null;\n    } else {\n      if (format == null) {\n        format = \"DD/MM/YYYY\";\n      }\n\n      return moment(value).format(format);\n    }\n  } else {\n    return null;\n  }\n}\nexport function formatNumber(value, unit, round, fixedPoint, trim) {\n  if (value != null) {\n    if (isNaN(parseFloat(value))) {\n      return value;\n    } else {\n      value = parseFloat(value); //default will auto round up if round didn't passed in\n      //default fixedPoint 0\n\n      switch (unit) {\n        case \"k\":\n          value = numberToFixed(value / 1000, round, fixedPoint);\n          break;\n\n        case \"m\":\n          value = numberToFixed(value / 1000000, round, fixedPoint);\n          break;\n\n        case \"b\":\n          value = numberToFixed(value / 1000000000, round, fixedPoint);\n          break;\n\n        case \"auto\":\n          let units = [['', 1], ['k', 1000], ['m', 1000000], ['b', 1000000000]]; //get closest unit\n\n          if (value <= 1) {\n            unit = '';\n          } else {\n            _.forEach(_.reverse(units), function (item, index) {\n              if (value / item[1] >= 1) {\n                value = numberToFixed(value / item[1], round, fixedPoint);\n                unit = item[0];\n                return false;\n              }\n            });\n          }\n\n          break;\n\n        default:\n          value = numberToFixed(value, round, fixedPoint);\n          break;\n      }\n\n      let formatedValue = '';\n      let prefix = insertBetween(parseInt(value), 3, ',', true, true);\n      let postfix = value.toString().split('.')[1];\n      formatedValue += prefix;\n\n      if (postfix) {\n        formatedValue += '.' + postfix;\n      }\n\n      if (trim) {\n        formatedValue = trimStringNumber(formatedValue);\n      }\n\n      if (unit) {\n        formatedValue += unit;\n      }\n\n      return formatedValue;\n    }\n  } else {\n    return value;\n  }\n}\nexport function numberToFixed(value, round, fixedPoint, fromFront) {\n  if (value != null && !isNaN(parseFloat(value))) {\n    if (isNaN(parseInt(fixedPoint))) {\n      //Default\n      fixedPoint = 0;\n    } else {\n      fixedPoint = parseInt(fixedPoint);\n    }\n\n    if (round == null) {\n      round = true;\n    }\n\n    if (fromFront) {\n      value = parseFloat(value);\n      value = value.toString().split('.');\n\n      if (value[0]) {\n        // if (value[0].length > fixedPoint) {\n        //     value[0] = value[0].slice(value[0].length - fixedPoint);\n        // }\n        if (value[0].length < fixedPoint) {\n          _.forEach(_.range(fixedPoint - value[0].length), function () {\n            value[0] = '0' + value[0];\n          });\n        }\n\n        return value[0];\n      }\n    } else {\n      value = parseFloat(value);\n\n      if (round) {\n        return value.toFixed(fixedPoint);\n      } else {\n        value = value.toString().split('.');\n\n        if (value[1]) {\n          if (value[1].length > fixedPoint) {\n            value[1] = value[1].slice(0, fixedPoint);\n          }\n\n          if (value[1].length < fixedPoint) {\n            _.forEach(_.range(fixedPoint - value[0].length), function () {\n              value[0] = value[0] + '0';\n            });\n          }\n        }\n\n        return parseFloat(value.join(\".\")).toFixed(fixedPoint);\n      }\n    }\n  } else {\n    return value;\n  }\n} //Remove prefix 0 and postfix 0\n\nexport function trimStringNumber(value) {\n  if (value != null) {\n    value = value.toString().split('.');\n    let prefix = value[0];\n    let postfix = value[1];\n\n    if (prefix != null) {\n      if (prefix.length > 1) {\n        let prefixArr = prefix.split(\"\");\n        let done = false;\n        prefixArr.some(num => {\n          if (num == '0') {\n            //cut out 0\n            prefix = prefix.substring(1);\n          } else {\n            done = true;\n          }\n\n          return done;\n        });\n      }\n    }\n\n    if (postfix != null) {\n      if (postfix.length > 0) {\n        let postfixArr = postfix.split(\"\").reverse();\n        let done = false;\n        postfixArr.some(num => {\n          if (num == '0') {\n            //cut out 0\n            postfix = postfix.substring(0, postfix.length - 1);\n          } else {\n            done = true;\n          }\n\n          return done;\n        });\n      }\n    }\n\n    if (postfix) {\n      return prefix + \".\" + postfix;\n    } else {\n      return prefix;\n    }\n  } else {\n    return value;\n  }\n}\nexport function reverseString(value) {\n  if (value != null) {\n    var strArray = value.toString().split(\"\");\n    strArray = strArray.reverse();\n    return strArray.join(\"\");\n  } else {\n    return value;\n  }\n}\nexport function checkCardType(number) {\n  if (number != null) {\n    number = number.replace(/\\s/g, ''); // visa\n\n    var re = new RegExp(\"^4\");\n    if (number.match(re) != null) return \"VISA\"; // Mastercard \n    // Updated for Mastercard 2017 BINs expansion\n\n    if (/^(5[1-5][0-9]{14}|2(22[1-9][0-9]{12}|2[3-9][0-9]{13}|[3-6][0-9]{14}|7[0-1][0-9]{13}|720[0-9]{12}))$/.test(number)) return \"MASTERCARD\"; // AMEX\n\n    re = new RegExp(\"^3[47]\");\n    if (number.match(re) != null) return \"AMERICANEXPRESS\"; // Discover\n\n    re = new RegExp(\"^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)\");\n    if (number.match(re) != null) return \"DISCOVER\"; // Diners\n\n    re = new RegExp(\"^36\");\n    if (number.match(re) != null) return \"DINERS\"; // Diners - Carte Blanche\n\n    re = new RegExp(\"^30[0-5]\");\n    if (number.match(re) != null) return \"DINERSCARTEBLANCHE\"; // JCB\n\n    re = new RegExp(\"^35(2[89]|[3-8][0-9])\");\n    if (number.match(re) != null) return \"JCB\"; // Visa Electron\n\n    re = new RegExp(\"^(4026|417500|4508|4844|491(3|7))\");\n    if (number.match(re) != null) return \"VISAELECTRON\";\n  }\n\n  return null;\n}\nexport function removeNullFromArray(value) {\n  if (notEmptyLength(value)) {\n    return value.filter(function (item) {\n      return item != null;\n    });\n  }\n\n  return value;\n}\nexport function isValidDate(value) {\n  if (value != null) {\n    value = new Date(value);\n\n    if (Object.prototype.toString.call(value) === \"[object Date]\") {\n      // it is a date\n      if (isNaN(value.valueOf())) {\n        // value.valueOf() could also work\n        return false;\n      } else {\n        return true;\n      }\n    } else {\n      return false;\n    }\n  } else {\n    return false;\n  }\n}\nexport function calculateTimeRange(date1, date2, unit, precise) {\n  if (date1 != null) {\n    if (isValidDate(date1)) {\n      date1 = moment(date1);\n\n      if (date2 != null) {\n        if (isValidDate(date2)) {\n          date2 = moment(date2);\n        } else {\n          return null;\n        }\n      } else {\n        date2 = moment();\n      }\n\n      let data = {};\n\n      switch (unit) {\n        case 'year':\n          data.difference = date1.diff(date2, 'years', precise);\n          data.unit = unit;\n          break;\n\n        case 'month':\n          data.difference = date1.diff(date2, 'months', precise);\n          data.unit = unit;\n          break;\n\n        case 'week':\n          data.difference = date1.diff(date2, 'weeks', precise);\n          data.unit = unit;\n          break;\n\n        case 'day':\n          data.difference = date1.diff(date2, 'days', precise);\n          data.unit = unit;\n          break;\n\n        case 'hour':\n          data.difference = date1.diff(date2, 'hours', precise);\n          data.unit = unit;\n          break;\n\n        case 'minute':\n          data.difference = date1.diff(date2, 'minutes', precise);\n          data.unit = unit;\n          break;\n\n        case 'second':\n          data.difference = date1.diff(date2, 'seconds', precise);\n          data.unit = unit;\n          break;\n\n        default:\n          //auto get nearest 1\n          let sections = ['year', 'month', 'week', 'day', 'hour', 'minute', 'second'];\n          let selectedSection = sections.find(function (section) {\n            return Math.abs(date1.diff(date2, section + 's', true)) >= 1;\n          });\n\n          if (selectedSection) {\n            data.difference = date1.diff(date2, selectedSection + 's', precise);\n            data.unit = selectedSection;\n          } else {\n            data.difference = 0;\n            data.unit = 'second';\n          }\n\n      }\n\n      return data;\n    } else {\n      return null;\n    }\n  } else {\n    return null;\n  }\n}\nexport function convertMilliSecondsToTime(millisecond, minUnit) {\n  if (millisecond != null && isValidNumber(parseInt(millisecond))) {\n    let second = 0,\n        minute = 0,\n        hour = 0;\n    let finalTime = '';\n    millisecond = parseInt(millisecond);\n    hour = numberToFixed(moment.duration(millisecond).hours(), false, 2, true);\n    minute = numberToFixed(moment.duration(millisecond).minutes(), false, 2, true);\n    second = numberToFixed(moment.duration(millisecond).seconds(), false, 2, true);\n\n    switch (minUnit) {\n      case 'minute':\n        if (hour > 0) {\n          finalTime = `${hour}:${minute}:${second}`;\n        } else {\n          finalTime = `${minute}:${second}`;\n        }\n\n        break;\n\n      case 'hour':\n        finalTime = `${hour}:${minute}:${second}`;\n        break;\n\n      default:\n        if (hour > 0) {\n          finalTime = `${hour}:${minute}:${second}`;\n        } else if (minute > 0) {\n          finalTime = `${minute}:${second}`;\n        } else {\n          finalTime = `${second}`;\n        }\n\n        break;\n    }\n\n    return finalTime;\n  } else {\n    return null;\n  }\n}\nexport function isExpired(date, aspect) {\n  if (aspect == null) {\n    aspect = 'second';\n  }\n\n  if (date != null && isValidDate(date)) {\n    var today = moment();\n    date = moment(date);\n    return today.isAfter(date, aspect);\n  }\n\n  return null;\n}\nexport function convertToCardFormat(value) {\n  if (value != null) {\n    value = value.replace(/\\s/g, '');\n    value = insertBetween(value, 4, ' ');\n  }\n\n  return value;\n}\nexport function convertToExpiredDateFormat(value) {\n  if (value != null) {\n    var str = value.split('');\n\n    if (str.length < 3) {\n      if (str[1] == '/') {\n        str.splice(0, 0, '0');\n        value = str.join(\"\");\n      } else {\n        value = value.replace('/', '');\n        value = insertBetween(value, 2, '/');\n      }\n    }\n  }\n\n  return value;\n}\nexport function insertBetween(value, space, char, fromBack, stopAtEnd) {\n  if (value != null) {\n    if (isNaN(parseInt(space))) {\n      return value;\n    } else {\n      if (fromBack) {\n        value = reverseString(value);\n      }\n\n      var oristr = value.toString().split('');\n      var length = oristr.length;\n      var addedspacecount = 1;\n      space = parseInt(space);\n\n      for (let index = 0; index < length; index++) {\n        if (index != 0 && (index + 1) % space == 0) {\n          if (stopAtEnd && index == length - 1) {\n            break;\n          }\n\n          oristr.splice(index + addedspacecount, 0, char);\n          addedspacecount = addedspacecount + 1;\n        }\n      }\n\n      if (fromBack) {\n        oristr = oristr.reverse();\n      }\n\n      return oristr.join(\"\");\n    }\n  } else {\n    return null;\n  }\n}\nexport function checkSupportedCardType(card) {\n  if (card != null) {\n    // visa\n    if (card == 'VISA') {\n      return true;\n    }\n\n    if (card == 'MASTERCARD') {\n      return true;\n    }\n\n    if (card == 'VISAELECTRON') {\n      return true;\n    }\n\n    if (card == 'AMERICANEXPRESS') {\n      return true;\n    }\n  }\n\n  return false;\n}\nexport function isValidNumber(value) {\n  return !isNaN(parseFloat(value));\n}\nexport function isExpiryDateFormat(value) {\n  if (value != null) {\n    //to array\n    value = value.split('');\n\n    if (value.filter(function (item, index) {\n      if (index == 2) {\n        return item != '/';\n      }\n\n      return !parseInt(item) && parseInt(item) != 0;\n    }).length > 0) {\n      return false;\n    } else {\n      return true;\n    }\n  } else {\n    return false;\n  }\n}\nexport function sortByDesc(data, col) {\n  if (data && col) {\n    return data.sort(function (a, b) {\n      if (_.isPlainObject(a) || _.isPlainObject(b) || _.isArray(a) || _.isArray(b)) {\n        if (!col) {\n          col = 0;\n        }\n\n        if (a[col] < b[col]) return 1;\n        if (a[col] > b[col]) return -1;\n        return 0;\n      } else {\n        if (a < b) return 1;\n        if (a > b) return -1;\n        return 0;\n      }\n    });\n  } else {\n    return [];\n  }\n}\nexport function sortByDateDesc(data, col) {\n  if (data && col) {\n    return data.sort(function (a, b) {\n      if (moment(a[col]).isBefore(moment(b[col]))) return 1;\n      if (moment(a[col]).isAfter(moment(b[col]))) return -1;\n      return 0;\n    });\n  } else {\n    return [];\n  }\n}\nexport function findData(data, col, val) {\n  return data.filter(function (item) {\n    return item[col] == val;\n  });\n}\nexport function hideStringNumber(string, start, end) {\n  if (string) {\n    var length = string.length; //Get rest part\n\n    var startpart = '';\n    var endpart = '';\n\n    if (Number.isInteger(start) && Number.isInteger(end)) {\n      startpart = string.slice(0, start);\n      endpart = string.slice(length - (length - end), length);\n    } else if (Number.isInteger(start)) {\n      startpart = string.slice(0, start);\n      endpart = '';\n    } else if (Number.isInteger(end)) {\n      startpart = '';\n      endpart = string.slice(length - (length - end), length);\n    } else {\n      return string;\n    } //Get desire convert part\n\n\n    var convertpart = '';\n\n    if (Number.isInteger(start) && Number.isInteger(end)) {\n      convertpart = string.slice(start, end);\n    } else if (Number.isInteger(start)) {\n      convertpart = string.slice(start);\n    } else if (Number.isInteger(end)) {\n      convertpart = string.slice(0, end);\n    } else {\n      return string;\n    } //to array\n\n\n    convertpart = convertpart.split('');\n    convertpart = convertpart.map(function (char) {\n      if (isNaN(parseInt(char)) || !parseInt(char)) {\n        return char;\n      } else {\n        return '*';\n      }\n    }); //to string\n\n    convertpart = convertpart.join(\"\");\n    return startpart + convertpart + endpart;\n  } else {\n    return null;\n  }\n}\nexport function notEmptyLength(data) {\n  if (data) {\n    if (Array.isArray(data) && data.length > 0) {\n      return true;\n    } else if (isObject(data) && Object.keys(data).length > 0) {\n      return true;\n    } else {\n      return false;\n    }\n  } else {\n    return false;\n  }\n}\nexport function arrayLengthCount(data) {\n  if (notEmptyLength(data) && Array.isArray(data)) {\n    return data.length;\n  } else {\n    return 0;\n  }\n}\nexport function syncDefaultDelivery(data, id) {\n  return data.map(function (item) {\n    if (item._id) {\n      if (item._id != id) {\n        if (item.isDefaultDelivery) {\n          item.isDefaultDelivery = false;\n        }\n      } else {\n        item.isDefaultDelivery = true;\n      }\n    }\n\n    return item;\n  });\n}\nexport function syncDefaultBilling(data, id) {\n  return data.map(function (item) {\n    if (item._id) {\n      if (item._id != id) {\n        if (item.isDefaultBilling) {\n          item.isDefaultBilling = false;\n        }\n      } else {\n        item.isDefaultBilling = true;\n      }\n    }\n\n    return item;\n  });\n}\nexport function syncDefaultCard(data, id) {\n  return data.map(function (item) {\n    if (item._id) {\n      if (item._id != id) {\n        if (item.isDefaultCard) {\n          item.isDefaultCard = false;\n        }\n      } else {\n        item.isDefaultCard = true;\n      }\n    }\n\n    return item;\n  });\n}\nexport function syncDefaultBank(data, id) {\n  return data.map(function (item) {\n    if (item._id) {\n      if (item._id != id) {\n        if (item.isDefaultBank) {\n          item.isDefaultBank = false;\n        }\n      } else {\n        item.isDefaultBank = true;\n      }\n    }\n\n    return item;\n  });\n}\nexport function isSavedWishList(data, id) {\n  if (data && id) {\n    var check = data.filter(function (item) {\n      return item.productId == id;\n    });\n    return check.length > 0;\n  } else {\n    return false;\n  }\n}\nexport function isFollowed(data, id) {\n  if (data && id) {\n    var check = data.filter(function (item) {\n      return item.companyId == id;\n    });\n    return check.length > 0;\n  } else {\n    return false;\n  }\n}\nexport function deepEqual(object1, object2) {\n  if (object1 && object2) {\n    const keys1 = Object.keys(object1);\n    const keys2 = Object.keys(object2);\n\n    if (keys1.length !== keys2.length) {\n      return false;\n    }\n\n    for (const key of keys1) {\n      const val1 = object1[key];\n      const val2 = object2[key];\n      const areObjects = isObject(val1) && isObject(val2);\n\n      if (areObjects && !deepEqual(val1, val2) || !areObjects && val1 !== val2) {\n        return false;\n      }\n    }\n  } else {\n    return false;\n  }\n\n  return true;\n}\nexport function isObject(object) {\n  return object != null && typeof object === 'object';\n}\nexport function deepEqualArrayObject(array1, array2) {\n  if (Array.isArray(array1) && Array.isArray(array2)) {\n    if (array1.length != array2.length) {\n      return false;\n    } else {\n      for (let x = 0; x < array1.length; x++) {\n        if (!deepEqual(array1[x], array2[x])) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n  } else {\n    return false;\n  }\n}\nexport function roundToHalf(number) {\n  if (number != null) {\n    if (!isNaN(parseFloat(number))) {\n      var decimal = parseFloat(number);\n      var int = parseInt(number);\n      decimal = decimal - int;\n      return decimal >= 0.5 ? int + 0.5 : int;\n    }\n  }\n\n  return false;\n}\nexport function queryStringifyNestedObject(value, colName) {\n  if (value != null) {\n    if (colName) {\n      let data = {};\n      data[colName] = JSON.stringify(value);\n      return queryString.stringify(data);\n    }\n\n    return queryString.stringify({\n      data: JSON.stringify(value)\n    });\n  }\n\n  return '';\n}\nexport function getImgTagSource(str) {\n  if (str) {\n    str = str.toString();\n    let strArr = str.split(\"\");\n    let removed = true; //Get html tag only\n\n    strArr = _.compact(_.map(strArr, function (chr) {\n      if (chr == '<') {\n        removed = false;\n        return chr;\n      }\n\n      if (chr == '>') {\n        removed = true;\n        return chr;\n      }\n\n      if (removed) {\n        return null;\n      }\n\n      return chr;\n    }));\n    let images = strArr.join(\"\").split(\">\");\n    images = _.compact(_.map(images, function (image) {\n      if (image.substr(0, 4) == '<img') {\n        //point to src value\n        let startIndex = image.indexOf('src=\"') + 5; //crop until src\n\n        let croppedStrArr = image.substr(startIndex);\n        croppedStrArr = croppedStrArr.split(\"\");\n        let removed = false; //retrieve value\n\n        croppedStrArr = _.compact(_.map(croppedStrArr, function (chr) {\n          if (chr == '\"') {\n            removed = true;\n            return null;\n          }\n\n          if (removed) {\n            return null;\n          }\n\n          return chr;\n        }));\n        return {\n          url: `/${croppedStrArr.join(\"\")}`,\n          name: croppedStrArr.join(\"\").slice(10)\n        };\n      }\n\n      return null;\n    }));\n    return images;\n  } else {\n    return str;\n  }\n}\nexport function removeHtmlTag(str) {\n  if (str) {\n    str = str.toString();\n    let strArr = str.split(\"\");\n    let removed = false;\n    strArr = _.compact(_.map(strArr, function (chr) {\n      if (chr == '<') {\n        removed = true;\n        return null;\n      }\n\n      if (chr == '>') {\n        removed = false;\n        return null;\n      }\n\n      if (removed) {\n        return null;\n      }\n\n      return chr;\n    }));\n    return strArr.join(\"\");\n  } else {\n    return str;\n  }\n}\nexport function convertToRangeFormat(value) {\n  let data = _.cloneDeep(value); //Convert Range Format\n\n\n  if (notEmptyLength(data)) {\n    //Restruct range format to convert\n    if (!data[0] && !data[1]) {} else if (!data[0]) {\n      data[0] = data[1];\n      data[1] = defaultRangeSmaller;\n    } else if (!data[1]) {\n      data[1] = defaultRangeBigger;\n    }\n  }\n\n  return data;\n}\nexport function convertRangeFormatBack(valueArr) {\n  if (_.isArray(valueArr) && !_.isEmpty(valueArr)) {\n    let parameter1 = valueArr[0];\n    let parameter2 = valueArr[1];\n    let data = [,];\n\n    if (parameter2 == defaultRangeSmaller || parameter2 == defaultRangeBigger) {\n      if (parameter2 == defaultRangeBigger) {\n        data[0] = parameter1;\n      }\n\n      if (parameter2 == defaultRangeSmaller) {\n        data[1] = parameter1;\n      }\n\n      return data;\n    } else {\n      return valueArr;\n    }\n  } else {\n    return valueArr;\n  }\n}\nexport function convertRangeFormatToText(formatedRange, valueFormat) {\n  function convertValue(value, format) {\n    if (format == 'price') {\n      return `RM ${formatNumber(value, null, true, 2, true)}`;\n    }\n\n    if (format == 'mileage') {\n      return `${formatNumber(value, null, true, 2, true)} km`;\n    }\n\n    if (format == 'engineCapacity') {\n      return `${formatNumber(value, null, true, 2, true)} cc`;\n    }\n\n    return value;\n  }\n\n  if (_.isArray(formatedRange) && !_.isEmpty(formatedRange)) {\n    let parameter1 = formatedRange[0];\n    let parameter2 = formatedRange[1];\n    let text = '';\n\n    if (parameter2 == defaultRangeBigger) {\n      text = `above ${convertValue(parameter1, valueFormat)}`;\n    } else if (parameter2 == defaultRangeSmaller) {\n      text = `below ${convertValue(parameter1, valueFormat)}`;\n    } else {\n      text = `between ${convertValue(parameter1, valueFormat)} and ${convertValue(parameter2, valueFormat)}`;\n    }\n\n    return text;\n  } else {\n    return '';\n  }\n}\nexport function convertFilterRange(value, name) {\n  if (notEmptyLength(value) && name) {\n    let parameter1 = parseFloat(value[0]);\n    let parameter2 = value[1];\n    let finalData = [];\n    let query = {};\n\n    if (!isValidNumber(parameter1)) {\n      return null;\n    }\n\n    if (parameter2 != null) {\n      switch (parameter2) {\n        case '<=':\n          query[`${name}`] = {\n            $lte: +parameter1\n          };\n          finalData.push(query);\n          break;\n\n        case '<':\n          query[`${name}`] = {\n            $lt: +parameter1\n          };\n          finalData.push(query);\n          break;\n\n        case '==':\n          query[`${name}`] = {\n            $eq: +parameter1\n          };\n          finalData.push(query);\n          break;\n\n        case '>':\n          query[`${name}`] = {\n            $gt: +parameter1\n          };\n          finalData.push(query);\n          break;\n\n        case '>=':\n          query[`${name}`] = {\n            $gte: +parameter1\n          };\n          finalData.push(query);\n          break;\n\n        default:\n          parameter2 = parseFloat(parameter2);\n\n          if (!isValidNumber(parameter2)) {\n            query[`${name}`] = {\n              $eq: +parameter1\n            };\n            finalData.push(query);\n          } else {\n            query[`${name}`] = {\n              $gte: +parameter1\n            };\n            finalData.push(query);\n            let query1 = {};\n            query1[`${name}`] = {\n              $lte: +parameter2\n            };\n            finalData.push(query1);\n          }\n\n          break;\n      }\n    } else {\n      query[`${name}`] = {\n        $eq: +parameter1\n      };\n      finalData.push(query);\n    }\n\n    return finalData;\n  } else {\n    return null;\n  }\n}\nexport function objectRemoveEmptyValue(value) {\n  if (notEmptyLength(value) && _.isPlainObject(value)) {\n    return _.pickBy(value, function (property) {\n      return _.isArray(property) ? notEmptyLength(_.compact(property)) : _.isPlainObject(property) ? notEmptyLength(objectRemoveEmptyValue(property)) : property;\n    });\n  } else {\n    return {};\n  }\n}\nexport function convertProductRouteParamsToFilterObject(routeParams) {\n  let {\n    parameter1,\n    parameter2,\n    parameter3\n  } = routeParams;\n  let {\n    sorting,\n    page,\n    view\n  } = routeParams;\n  let mergeObj = _.pick(routeParams, availableFilters) || {};\n\n  if (!isValidNumber(parseInt(page))) {\n    page = 1;\n  }\n\n  if (view != 'gridView' && view != 'listView') {\n    view = 'gridView';\n  }\n\n  if (!_.get(sorting, ['carspec.year']) && !_.get(sorting, ['mileageFilter']) && !_.get(sorting, ['searchPrice'])) {\n    sorting = {};\n  }\n\n  let finalData = {\n    filterGroup: _objectSpread({}, mergeObj),\n    config: {\n      page: page,\n      sorting: sorting,\n      view: view\n    }\n  };\n\n  if (finalData.filterGroup.priceRange) {\n    finalData.filterGroup.priceRange = convertRangeFormatBack(finalData.filterGroup.priceRange);\n  }\n\n  if (finalData.filterGroup.yearRange) {\n    finalData.filterGroup.yearRange = convertRangeFormatBack(finalData.filterGroup.yearRange);\n  }\n\n  if (finalData.filterGroup.mileageRange) {\n    finalData.filterGroup.mileageRange = convertRangeFormatBack(finalData.filterGroup.mileageRange);\n  }\n\n  if (finalData.filterGroup.engineCapacityRange) {\n    finalData.filterGroup.engineCapacityRange = convertRangeFormatBack(finalData.filterGroup.engineCapacityRange);\n  }\n\n  if (parameter1 && !parameter2 && !parameter3) {\n    let stateArr = parameter1.split('_');\n    finalData.filterGroup.state = _.isArray(stateArr) && !_.isEmpty(stateArr) ? _.get(stateArr, [1]) || '' : '';\n    finalData.filterGroup.area = _.isArray(stateArr) && !_.isEmpty(stateArr) ? _.get(stateArr, [2]) || '' : '';\n  } else if (parameter1 && parameter2 && !parameter3) {\n    finalData.filterGroup.make = _.toLower(parameter1);\n    let stateArr = parameter2.split('_');\n    finalData.filterGroup.state = _.isArray(stateArr) && !_.isEmpty(stateArr) ? _.get(stateArr, [1]) || '' : '';\n    finalData.filterGroup.area = _.isArray(stateArr) && !_.isEmpty(stateArr) ? _.get(stateArr, [2]) || '' : '';\n  } else if (parameter1 && parameter2 && parameter3) {\n    finalData.filterGroup.make = _.toLower(parameter1);\n    finalData.filterGroup.model = _.toLower(parameter2);\n    let stateArr = parameter3.split('_');\n    finalData.filterGroup.state = _.isArray(stateArr) && !_.isEmpty(stateArr) ? _.get(stateArr, [1]) || '' : '';\n    finalData.filterGroup.area = _.isArray(stateArr) && !_.isEmpty(stateArr) ? _.get(stateArr, [2]) || '' : '';\n  } else {}\n\n  return finalData;\n}\nexport function convertParameterToProductListUrl(data, config) {\n  let mergeObj = objectRemoveEmptyValue(data);\n  let basePath = '';\n\n  if (!_.isPlainObject(config) || _.isEmpty(config)) {\n    config = {\n      page: 1,\n      sorting: {},\n      view: 'gridView'\n    };\n  }\n\n  if (!isValidNumber(parseInt(config.page))) {\n    config.page = 1;\n  }\n\n  if (config.view != 'gridView' && config.view != 'listView') {\n    config.view = 'gridView';\n  }\n\n  if (!_.isPlainObject(objectRemoveEmptyValue(config.sorting)) && _.isEmpty(objectRemoveEmptyValue(config.sorting)) && !_.get(config, ['sorting', 'carspec.year']) && !_.get(config, ['sorting', 'mileageFilter']) && !_.get(config, ['sorting', 'searchPrice'])) {\n    config.sorting = {};\n  } else {\n    config.sorting = _.pick(objectRemoveEmptyValue(config.sorting), ['carspec.year', 'searchPrice', 'mileageFilter']);\n  }\n\n  if (notEmptyLength(mergeObj)) {\n    mergeObj = _.pick(mergeObj, availableFilters);\n    let condition = mergeObj.condition;\n    let make = mergeObj.make;\n    let model = mergeObj.model;\n    let state = mergeObj.state;\n    let area = mergeObj.area;\n\n    if (condition && condition != 'cars-on-sale' && condition != 'all') {\n      condition = [_.toLower(condition), 'cars-on-sale'].join('-');\n    } else {\n      condition = 'cars-on-sale';\n    }\n\n    if (state && state != 'malaysia') {\n      if (area && state != 'malaysia') {\n        state = ['malaysia', _.toLower(mergeObj.state), _.toLower(mergeObj.area)].join('_');\n      } else {\n        state = ['malaysia', _.toLower(mergeObj.state)].join('_');\n      }\n    } else {\n      state = 'malaysia';\n    } //Main parameter\n    //Order is important\n    //The first 1 always is condition\n    //The last 1 always is state\n\n\n    let mainParameters = [make, model];\n    let path = `${basePath}/${condition}`;\n\n    _.forEach(mainParameters, function (parameter) {\n      if (!parameter) {\n        return false;\n      } else {\n        path += `/${_.toLower(parameter)}`;\n      }\n    });\n\n    path += `/${state}`;\n    delete mergeObj.condition;\n    delete mergeObj.make;\n    delete mergeObj.model;\n    delete mergeObj.state;\n    return `${path}?view=${config.view}&page=${config.page}${_.isPlainObject(config.sorting) && !_.isEmpty(config.sorting) ? `&${queryStringifyNestedObject(config.sorting, 'sorting')}` : ''}${notEmptyLength(mergeObj) ? `&${queryStringifyNestedObject(mergeObj)}` : ''}`;\n  } else {\n    return `/cars-on-sale/malaysia?view=${config.view}&page=${config.page}${_.isPlainObject(config.sorting) && !_.isEmpty(config.sorting) ? `&${queryStringifyNestedObject(config.sorting, 'sorting')}` : ''}`;\n  }\n}\nexport function convertParameterToProductListSeoUrl(data) {\n  let mergeObj = objectRemoveEmptyValue(data);\n  let basePath = checkEnvReturnCmsUrl(client.io.io.uri);\n  ;\n\n  if (notEmptyLength(mergeObj)) {\n    mergeObj = _.pick(mergeObj, availableFilters);\n    let condition = mergeObj.condition;\n    let make = mergeObj.make;\n    let model = mergeObj.model;\n    let state = mergeObj.state;\n    let area = mergeObj.area;\n\n    if (condition && condition != 'cars-on-sale' && condition != 'all') {\n      condition = [_.toLower(condition), 'cars-on-sale'].join('-');\n    } else {\n      condition = 'cars-on-sale';\n    }\n\n    if (state && state != 'malaysia') {\n      if (area && state != 'malaysia') {\n        state = ['malaysia', _.toLower(mergeObj.state), _.toLower(mergeObj.area)].join('_');\n      } else {\n        state = ['malaysia', _.toLower(mergeObj.state)].join('_');\n      }\n    } else {\n      state = 'malaysia';\n    } //Main parameter\n    //Order is important\n    //The first 1 always is condition\n    //The last 1 always is state\n\n\n    let mainParameters = [make, model];\n    let path = `${basePath}/${condition}`;\n\n    _.forEach(mainParameters, function (parameter) {\n      if (!parameter) {\n        return false;\n      } else {\n        path += `/${_.toLower(parameter)}`;\n      }\n    });\n\n    path += `/${state}`;\n    delete mergeObj.condition;\n    delete mergeObj.make;\n    delete mergeObj.model;\n    delete mergeObj.state;\n    return `${path}?${notEmptyLength(mergeObj) ? `&${queryStringifyNestedObject(mergeObj)}` : ''}`;\n  } else {\n    return `/cars-on-sale/malaysia`;\n  }\n}\nexport function getTopItems(data, rank, col) {\n  if (_.isArray(data) && notEmptyLength(data)) {\n    if (!isValidNumber(rank)) {\n      rank = 3;\n    } else {\n      rank = parseInt(rank);\n    }\n\n    let pickedData = sortByDesc(data, col);\n    pickedData = _.slice(pickedData, 0, rank);\n    return pickedData;\n  } else {\n    return data;\n  }\n}\nexport function toCamelCase(value, seperator) {\n  if (!value || !value.toString()) {\n    return value;\n  } else {\n    if (!seperator || !seperator.toString()) {\n      seperator = ' ';\n    } else {\n      seperator = seperator.toString();\n    }\n\n    value = value.toString().split(seperator);\n    value = _.map(value, function (item, index) {\n      if (index > 0) {\n        return _.capitalize(item);\n      } else {\n        return item;\n      }\n    });\n    return value.join('');\n  }\n}\nexport function toSnakeCase(value, seperator) {\n  if (!value || !value.toString()) {\n    return value;\n  } else {\n    if (!seperator || !seperator.toString()) {\n      seperator = '_';\n    } else {\n      seperator = seperator.toString();\n    }\n\n    value = value.toString().split('');\n    let finalData = [];\n\n    _.forEach(value, function (item, index) {\n      if (index == 0) {\n        finalData.push(_.lowerCase(item));\n      } else {\n        if (item == _.upperCase(item)) {\n          finalData.push(seperator);\n        }\n\n        finalData.push(_.lowerCase(item));\n      }\n    });\n\n    return finalData.join('');\n  }\n}\nexport const viewPort = {\n  xs: 480,\n  sm: 576,\n  md: 768,\n  lg: 992,\n  xl: 1200,\n  xxl: 1600\n};\nexport function getUserName(user, type) {\n  if (_.isPlainObject(user) && !_.isEmpty(user)) {\n    let username = _.trim(_.get(user, ['username']) || '');\n\n    let fullName = _.trim(_.get(user, ['fullName']) || `${_.get(user, ['firstName']) || ''} ${_.get(user, ['lastName']) || ''}` || '');\n\n    let firstName = _.trim(_.get(user, ['firstName']) || '');\n\n    let lastName = _.trim(_.get(user, ['lastName']) || '');\n\n    let namePrefix = _.trim(_.get(user, ['namePrefix']) || '');\n\n    let freakId = _.trim(_.get(user, ['freakId']) || '');\n\n    switch (type) {\n      case 'username':\n        return username;\n\n      case 'fullName':\n        return fullName;\n\n      case 'prefixName':\n        return _.trim(`${namePrefix ? `${namePrefix}` : ''} ${fullName || ''}`);\n\n      case 'firstName':\n        return firstName;\n\n      case 'lastName':\n        return lastName;\n\n      case 'freakId':\n        return freakId;\n\n      default:\n        return fullName;\n    }\n  } else {\n    return 'Ccar User';\n  }\n}\nexport function getPlural(singular, plural, count, showCount) {\n  if (singular && isValidNumber(parseInt(count))) {\n    return parseInt(count) > 1 ? showCount ? `${count} ${plural || singular + 's'}` : `${plural || singular + 's'}` : showCount ? `${formatNumber(count, 'auto', true, 0, true)} ${singular}` : `${singular}`;\n  } else {\n    return '';\n  }\n}\nexport function findIndexesOfString(text, search) {\n  if (text && search) {\n    let indexes = [];\n    let currentPosition = 0;\n\n    while (currentPosition < text.length) {\n      currentPosition = text.indexOf(search, currentPosition);\n\n      if (currentPosition == -1) {\n        currentPosition = text.length;\n      } else {\n        indexes.push(currentPosition);\n        currentPosition = currentPosition + search.length;\n      }\n    }\n\n    return indexes;\n  } else {\n    return [];\n  }\n}\nexport function checkObjectId(data, idForCheck, col) {\n  if (_.isPlainObject(data) && !_.isEmpty(data)) {\n    return data[`${col || '_id'}`] == idForCheck;\n  } else {\n    return data == idForCheck;\n  }\n}\nexport function getObjectId(data, col) {\n  if (_.isPlainObject(data) && !_.isEmpty(data)) {\n    return data[`${col || '_id'}`];\n  } else {\n    return data;\n  }\n}\nexport function getCarMarketSeoData(filterGroup, total) {\n  if (!_.isPlainObject(filterGroup)) {\n    filterGroup = {};\n  } else {\n    filterGroup = _.cloneDeep(filterGroup);\n  }\n\n  let title = [];\n  let description = [];\n  let location = [];\n  let rangeFilter = [];\n  let otherFilter = [];\n\n  if (_.get(filterGroup, 'state') || _.get(filterGroup, 'area')) {\n    location.push(`${_.capitalize(_.get(filterGroup, 'area') || '')}`);\n    location.push(`${_.get(getState(filterGroup.state), 'value') || ''}`);\n  }\n\n  location.push('Malaysia');\n  location = _.compact(location).join(' ');\n  const filterRanges = ['price', 'mileage', 'engineCapacity', 'year'];\n\n  _.forEach(filterRanges, function (filterRange) {\n    if (filterGroup[filterRange + 'Range']) {\n      rangeFilter.push(`${_.capitalize(toSnakeCase(filterRange, ' '))} ${convertRangeFormatToText(convertToRangeFormat(filterGroup[filterRange + 'Range']), filterRange)}`);\n    }\n  });\n\n  if (filterGroup.bodyType) {\n    otherFilter.push(_.capitalize(_.get(getBodyType(filterGroup.bodyType), 'value') || ''));\n  }\n\n  if (filterGroup.fuelType) {\n    otherFilter.push(_.capitalize(_.get(getFuelType(filterGroup.fuelType), 'value') || ''));\n  }\n\n  if (filterGroup.color) {\n    otherFilter.push(`Color ${_.capitalize(_.get(getColor(filterGroup.color), 'value') || '')}`);\n  }\n\n  if (filterGroup.registrationUrl) {\n    otherFilter.push(`With Registration Url`);\n  }\n\n  if (filterGroup.readyStock) {\n    otherFilter.push(`Is Ready Stock`);\n  }\n\n  if (filterGroup.car360View) {\n    otherFilter.push(`With Car 360 View`);\n  }\n\n  otherFilter = _.concat(otherFilter, rangeFilter).join(', ');\n  title.push(`Search ${formatNumber(total) || 0}`);\n\n  if (filterGroup.title) {\n    title.push(_.capitalize(filterGroup.title));\n    title.push(_.capitalize(filterGroup.title));\n  } else {\n    title.push(`${_.get(getCarBrand(_.get(filterGroup, 'make')), 'value') || ''}`);\n    title.push(`${_.capitalize(_.get(filterGroup, 'model') || '')}`);\n  }\n\n  title.push(_.capitalize(filterGroup.condition || ''));\n  title.push(_.capitalize(filterGroup.transmission || ''));\n  description = _.cloneDeep(title);\n  title.push(`Cars for Sales in ${location} - CCAR.my #1 Car Social Platform.`);\n  title = _.compact(title);\n  title = title.join(' ');\n  description.push(`Cars for Sales in ${location}${otherFilter ? '.' : ''}`);\n  description.push(otherFilter);\n  description.push('- CCAR.my #1 Car Social Platform.');\n  description = _.compact(description);\n  description = description.join(' ');\n  let canonical = convertParameterToProductListSeoUrl(filterGroup);\n  return {\n    title,\n    description,\n    canonical\n  };\n}\nexport function getProfileSeoData(profile) {\n  if (!_.isPlainObject(profile)) {\n    return {};\n  } else {\n    profile = _.cloneDeep(profile);\n  }\n\n  let title = [];\n  let description = [];\n  title.push(`${getUserName(profile, 'fullName') || ''}`);\n  title.push(`'s Profile - CCAR.my #1 Car Social Platform `);\n  title = _.compact(title);\n  title = title.join(' ');\n  description.push(`${getUserName(profile, 'fullName') || ''}`);\n  description.push(`is on CCAR #1 Car Social Platform. Come and share car info with ${getUserName(profile, 'fullName') || ''} and others. CCAR connects all car lovers together.`);\n  description = _.compact(description);\n  description = description.join(' ');\n  let canonical = `${checkEnvReturnCmsUrl(client.io.io.uri)}/profile/${profile.userurlId}`;\n  let images = [{\n    url: profile.avatar,\n    alt: 'CCAR User Profile Image'\n  }];\n  return {\n    title,\n    description,\n    canonical,\n    images\n  };\n}\nexport function getCarFreakSeoData(data) {\n  if (!_.isPlainObject(data)) {\n    return {};\n  } else {\n    data = _.cloneDeep(data);\n  }\n\n  let title = [];\n  let description = [];\n  title.push(`${parseTagStringToPlainString(data.title) || ''}`);\n  title.push(`|`);\n  title.push(`CarFreaks`);\n  title.push(`- CCAR.my #1 Car Social Platform`);\n  title = _.compact(title);\n  title = title.join(' ');\n  description.push(`${parseTagStringToPlainString(data.content) || ''}`);\n\n  if (_.isPlainObject(data.userId) && !_.isEmpty(data.userId)) {\n    description.push('|');\n    description.push(`Posted By ${getUserName(data.userId, 'fullName') || ''}`);\n  }\n\n  description = _.compact(description);\n  description = description.join(' ');\n  let canonical = `${checkEnvReturnCmsUrl(client.io.io.uri)}/car-freaks/${data._id}`;\n  let images = [{\n    url: _.get(data, 'mediaList[0].url') || '',\n    alt: 'CCAR CarFreak Image'\n  }];\n  return {\n    title,\n    description,\n    canonical,\n    images\n  };\n}\nexport function getSocialBoardSeoData(data) {\n  if (!_.isPlainObject(data)) {\n    return {};\n  } else {\n    data = _.cloneDeep(data);\n  }\n\n  let title = [];\n  let description = [];\n  title.push(`${parseTagStringToPlainString(data.title) || ''}`);\n  title.push(`|`);\n  title.push(`Social Board`);\n  title.push(`- CCAR.my #1 Car Social Platform`);\n  title = _.compact(title);\n  title = title.join(' ');\n  description.push(`${parseTagStringToPlainString(data.content) || ''}`);\n\n  if (_.isPlainObject(data.userId) && !_.isEmpty(data.userId)) {\n    description.push('|');\n    description.push(`Posted By ${getUserName(data.userId, 'fullName') || ''}`);\n  }\n\n  description = _.compact(description);\n  description = description.join(' ');\n  let canonical = `${checkEnvReturnCmsUrl(client.io.io.uri)}/social-board/${data._id}`;\n  return {\n    title,\n    description,\n    canonical\n  };\n}\nexport function getClubSeoData(data) {\n  if (!_.isPlainObject(data)) {\n    return {};\n  } else {\n    data = _.cloneDeep(data);\n  }\n\n  let title = [];\n  let description = [];\n  title.push(`${data.clubName || ''}`);\n  title.push(`|`);\n  title.push(`Social Club`);\n  title.push(`- CCAR.my #1 Car Social Platform`);\n  title = _.compact(title);\n  title = title.join(' ');\n  description.push(`${data.clubBio || ''}`);\n\n  if (_.isPlainObject(data.userId) && !_.isEmpty(data.userId)) {\n    description.push('|');\n    description.push(`Created By ${getUserName(data.userId, 'fullName') || ''}`);\n  }\n\n  description = _.compact(description);\n  description = description.join(' ');\n  let canonical = `${checkEnvReturnCmsUrl(client.io.io.uri)}/social-club/${data._id}`;\n  let images = [{\n    url: _.get(data, 'clubAvatar') || '',\n    alt: 'CCAR CarFreak Image'\n  }];\n  return {\n    title,\n    description,\n    canonical,\n    images\n  };\n}\nexport function getAllNewCarSeoData(data) {\n  if (!_.isPlainObject(data)) {\n    return {};\n  } else {\n    data = _.cloneDeep(data);\n  }\n\n  let title = [];\n  let description = [];\n  title.push(`${getCarBrand(data.make).value || ''}`);\n  title.push(`|`);\n  title.push(`${_.capitalize(data.model || '')}`);\n  title.push(`|`);\n  title.push(`All New Car - CCAR.my #1 Car Social Platform`);\n  title = _.compact(title);\n  title = title.join(' ');\n  description.push(`View ${getCarBrand(data.make).value || ''} ${_.capitalize(data.model || '')} All New Car at CCAR.my now - CCAR.my #1 Car Social Platform  `);\n  description = _.compact(description);\n  description = description.join(' ');\n  let canonical = `${checkEnvReturnCmsUrl(client.io.io.uri)}/newcar/details/${data.make}/${data.model}`;\n  let images = [{\n    url: _.get(data, 'uri') || '',\n    alt: `CCAR ${getCarBrand(data.make).value || ''} ${_.capitalize(data.model || '')} Image`\n  }];\n  return {\n    title,\n    description,\n    canonical,\n    images\n  };\n}\nexport function getLiveSeoData(data) {\n  const apiDomain = getStreamUrl(client.io.io.uri);\n\n  if (!_.isPlainObject(data)) {\n    return {};\n  } else {\n    data = _.cloneDeep(data);\n  }\n\n  let title = [];\n  let description = [];\n  title.push(`CCAR LIVE`);\n  title.push(`|`);\n  title.push(`${_.capitalize(data.user || 'Ccar User')}`);\n  title.push(`- CCAR.my #1 Car Social Platform`);\n  title = _.compact(title);\n  title = title.join(' ');\n  description.push(data.title);\n  description.push(`View Car Live Streaming at CCAR.my now - CCAR.my #1 Car Social Platform  `);\n  description = _.compact(description);\n  description = description.join(' ');\n  let canonical = `${checkEnvReturnCmsUrl(client.io.io.uri)}/live/${data.id}`;\n  let images = [{\n    url: `${apiDomain}dealerVideoThumbnails/${data.id}.png`,\n    alt: `Live Streaming Image`\n  }];\n  return {\n    title,\n    description,\n    canonical,\n    images\n  };\n}","map":{"version":3,"sources":["/Users/faraheen/ccar-cms-next-mobile/common-function.js"],"names":["isInteger","range","_","queryString","cookie","localStorage","statePersistActions","getCarBrand","getState","getBodyType","getFuelType","getColor","checkEnvReturnCmsUrl","client","parseTagStringToPlainString","getStreamUrl","moment","require","defaultRangeSmaller","defaultRangeBigger","availableFilters","isNumberAndSpace","value","split","filter","item","index","parseInt","length","formatDate","format","isValidDate","formatNumber","unit","round","fixedPoint","trim","isNaN","parseFloat","numberToFixed","units","forEach","reverse","formatedValue","prefix","insertBetween","postfix","toString","trimStringNumber","fromFront","toFixed","slice","join","prefixArr","done","some","num","substring","postfixArr","reverseString","strArray","checkCardType","number","replace","re","RegExp","match","test","removeNullFromArray","notEmptyLength","Date","Object","prototype","call","valueOf","calculateTimeRange","date1","date2","precise","data","difference","diff","sections","selectedSection","find","section","Math","abs","convertMilliSecondsToTime","millisecond","minUnit","isValidNumber","second","minute","hour","finalTime","duration","hours","minutes","seconds","isExpired","date","aspect","today","isAfter","convertToCardFormat","convertToExpiredDateFormat","str","splice","space","char","fromBack","stopAtEnd","oristr","addedspacecount","checkSupportedCardType","card","isExpiryDateFormat","sortByDesc","col","sort","a","b","isPlainObject","isArray","sortByDateDesc","isBefore","findData","val","hideStringNumber","string","start","end","startpart","endpart","Number","convertpart","map","Array","isObject","keys","arrayLengthCount","syncDefaultDelivery","id","_id","isDefaultDelivery","syncDefaultBilling","isDefaultBilling","syncDefaultCard","isDefaultCard","syncDefaultBank","isDefaultBank","isSavedWishList","check","productId","isFollowed","companyId","deepEqual","object1","object2","keys1","keys2","key","val1","val2","areObjects","object","deepEqualArrayObject","array1","array2","x","roundToHalf","decimal","int","queryStringifyNestedObject","colName","JSON","stringify","getImgTagSource","strArr","removed","compact","chr","images","image","substr","startIndex","indexOf","croppedStrArr","url","name","removeHtmlTag","convertToRangeFormat","cloneDeep","convertRangeFormatBack","valueArr","isEmpty","parameter1","parameter2","convertRangeFormatToText","formatedRange","valueFormat","convertValue","text","convertFilterRange","finalData","query","$lte","push","$lt","$eq","$gt","$gte","query1","objectRemoveEmptyValue","pickBy","property","convertProductRouteParamsToFilterObject","routeParams","parameter3","sorting","page","view","mergeObj","pick","get","filterGroup","config","priceRange","yearRange","mileageRange","engineCapacityRange","stateArr","state","area","make","toLower","model","convertParameterToProductListUrl","basePath","condition","mainParameters","path","parameter","convertParameterToProductListSeoUrl","io","uri","getTopItems","rank","pickedData","toCamelCase","seperator","capitalize","toSnakeCase","lowerCase","upperCase","viewPort","xs","sm","md","lg","xl","xxl","getUserName","user","type","username","fullName","firstName","lastName","namePrefix","freakId","getPlural","singular","plural","count","showCount","findIndexesOfString","search","indexes","currentPosition","checkObjectId","idForCheck","getObjectId","getCarMarketSeoData","total","title","description","location","rangeFilter","otherFilter","filterRanges","filterRange","bodyType","fuelType","color","registrationUrl","readyStock","car360View","concat","transmission","canonical","getProfileSeoData","profile","userurlId","avatar","alt","getCarFreakSeoData","content","userId","getSocialBoardSeoData","getClubSeoData","clubName","clubBio","getAllNewCarSeoData","getLiveSeoData","apiDomain"],"mappings":"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","sourcesContent":["import { isInteger, range } from \"lodash\";\nimport _ from 'lodash';\nimport queryString from 'query-string';\nimport cookie from 'cookie';\nimport localStorage from 'local-storage';\nimport { statePersistActions } from \"./redux/config\";\nimport { getCarBrand } from \"./params/carBrandsList\";\nimport { getState } from \"./params/stateList\";\nimport { getBodyType } from \"./params/bodyTypeList\";\nimport { getFuelType } from \"./params/fuelTypeList\";\nimport { getColor } from \"./params/colorList\";\nimport { checkEnvReturnCmsUrl } from \"./functionContent\";\nimport client from \"./feathers\";\nimport { parseTagStringToPlainString } from \"./components/carFreak/config\";\nimport { getStreamUrl } from \"./components/live/config\";\n\nvar moment = require('moment');\n\nconst defaultRangeSmaller = '<='\nconst defaultRangeBigger = '>='\nconst availableFilters = ['make', 'model', 'title', 'condition', 'transmission', 'state', 'area', 'priceRange', 'yearRange', 'mileageRange', 'engineCapacityRange', 'bodyType', 'color', 'fuelType', 'registrationUrl', 'readyStock', 'car360View', 'businessType'];\n\nexport function isNumberAndSpace(value) {\n\n    //to array\n    if (value != null) {\n        value = value.split('');\n        if (\n            value.filter(function (item, index) {\n\n                return !parseInt(item) && parseInt(item) != 0 && item != ' ';\n            }).length > 0\n        ) {\n            return false;\n        } else {\n            return true;\n        }\n    } else {\n        return false;\n    }\n}\n\n\nexport function formatDate(value, format) {\n\n    if (value != null) {\n        if (!isValidDate(value)) {\n            return null;\n        } else {\n\n            if (format == null) {\n                format = \"DD/MM/YYYY\"\n            }\n\n            return moment(value).format(format);\n        }\n    } else {\n        return null;\n    }\n\n}\n\nexport function formatNumber(value, unit, round, fixedPoint, trim) {\n\n    if (value != null) {\n        if (isNaN(parseFloat(value))) {\n            return value;\n        } else {\n\n            value = parseFloat(value);\n            //default will auto round up if round didn't passed in\n            //default fixedPoint 0\n            switch (unit) {\n                case \"k\":\n                    value = numberToFixed(value / 1000, round, fixedPoint);\n                    break;\n                case \"m\":\n                    value = numberToFixed(value / 1000000, round, fixedPoint);\n                    break;\n                case \"b\":\n                    value = numberToFixed(value / 1000000000, round, fixedPoint);\n                    break;\n                case \"auto\":\n                    let units = [['', 1], ['k', 1000], ['m', 1000000], ['b', 1000000000]];\n                    //get closest unit\n\n                    if (value <= 1) {\n                        unit = '';\n                    } else {\n                        _.forEach(_.reverse(units), function (item, index) {\n                            if (value / item[1] >= 1) {\n                                value = numberToFixed(value / item[1], round, fixedPoint);\n                                unit = item[0];\n                                return false;\n                            }\n\n                        })\n                    }\n\n\n                    break;\n                default:\n                    value = numberToFixed(value, round, fixedPoint);\n                    break;\n            }\n\n            let formatedValue = '';\n            let prefix = insertBetween(parseInt(value), 3, ',', true, true);\n            let postfix = value.toString().split('.')[1];\n            formatedValue += prefix;\n            if (postfix) {\n                formatedValue += '.' + postfix;\n            }\n\n            if (trim) {\n                formatedValue = trimStringNumber(formatedValue);\n            }\n            if (unit) {\n                formatedValue += unit;\n            }\n\n\n\n            return formatedValue;\n        }\n    } else {\n        return value;\n    }\n\n}\n\nexport function numberToFixed(value, round, fixedPoint, fromFront) {\n\n    if (value != null && !isNaN(parseFloat(value))) {\n\n        if (isNaN(parseInt(fixedPoint))) {\n            //Default\n            fixedPoint = 0;\n        } else {\n            fixedPoint = parseInt(fixedPoint);\n        }\n\n        if (round == null) {\n            round = true;\n        }\n\n        if (fromFront) {\n            value = parseFloat(value);\n            value = value.toString().split('.');\n            if (value[0]) {\n                // if (value[0].length > fixedPoint) {\n                //     value[0] = value[0].slice(value[0].length - fixedPoint);\n                // }\n\n                if (value[0].length < fixedPoint) {\n                    _.forEach(_.range(fixedPoint - value[0].length), function () {\n                        value[0] = '0' + value[0];\n                    })\n                }\n\n                return value[0];\n            }\n        } else {\n            value = parseFloat(value);\n            if (round) {\n                return value.toFixed(fixedPoint);\n            } else {\n                value = value.toString().split('.');\n                if (value[1]) {\n                    if (value[1].length > fixedPoint) {\n                        value[1] = value[1].slice(0, fixedPoint);\n                    }\n\n                    if (value[1].length < fixedPoint) {\n                        _.forEach(_.range(fixedPoint - value[0].length), function () {\n                            value[0] = value[0] + '0';\n                        })\n                    }\n                }\n\n                return parseFloat(value.join(\".\")).toFixed(fixedPoint);\n            }\n        }\n\n\n    } else {\n        return value;\n    }\n\n}\n\n//Remove prefix 0 and postfix 0\nexport function trimStringNumber(value) {\n\n    if (value != null) {\n\n        value = value.toString().split('.');\n        let prefix = value[0];\n        let postfix = value[1];\n\n        if (prefix != null) {\n            if (prefix.length > 1) {\n                let prefixArr = prefix.split(\"\");\n                let done = false;\n                prefixArr.some(num => {\n                    if (num == '0') {\n                        //cut out 0\n                        prefix = prefix.substring(1);\n                    } else {\n                        done = true;\n                    }\n                    return done;\n                });\n            }\n        }\n\n        if (postfix != null) {\n            if (postfix.length > 0) {\n                let postfixArr = postfix.split(\"\").reverse();\n                let done = false;\n                postfixArr.some(num => {\n                    if (num == '0') {\n                        //cut out 0\n                        postfix = postfix.substring(0, postfix.length - 1);\n                    } else {\n                        done = true;\n                    }\n                    return done;\n                });\n            }\n        }\n        if (postfix) {\n            return prefix + \".\" + postfix;\n        } else {\n            return prefix;\n        }\n\n    } else {\n        return value;\n    }\n\n}\n\nexport function reverseString(value) {\n\n    if (value != null) {\n        var strArray = value.toString().split(\"\");\n        strArray = strArray.reverse();\n        return strArray.join(\"\");\n    } else {\n        return value;\n    }\n\n}\n\n\nexport function checkCardType(number) {\n    if (number != null) {\n\n        number = number.replace(/\\s/g, '');\n        // visa\n        var re = new RegExp(\"^4\");\n        if (number.match(re) != null)\n            return \"VISA\";\n\n        // Mastercard \n        // Updated for Mastercard 2017 BINs expansion\n        if (/^(5[1-5][0-9]{14}|2(22[1-9][0-9]{12}|2[3-9][0-9]{13}|[3-6][0-9]{14}|7[0-1][0-9]{13}|720[0-9]{12}))$/.test(number))\n            return \"MASTERCARD\";\n\n        // AMEX\n        re = new RegExp(\"^3[47]\");\n        if (number.match(re) != null)\n            return \"AMERICANEXPRESS\";\n\n        // Discover\n        re = new RegExp(\"^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)\");\n        if (number.match(re) != null)\n            return \"DISCOVER\";\n\n        // Diners\n        re = new RegExp(\"^36\");\n        if (number.match(re) != null)\n            return \"DINERS\";\n\n        // Diners - Carte Blanche\n        re = new RegExp(\"^30[0-5]\");\n        if (number.match(re) != null)\n            return \"DINERSCARTEBLANCHE\";\n\n        // JCB\n        re = new RegExp(\"^35(2[89]|[3-8][0-9])\");\n        if (number.match(re) != null)\n            return \"JCB\";\n\n        // Visa Electron\n        re = new RegExp(\"^(4026|417500|4508|4844|491(3|7))\");\n        if (number.match(re) != null)\n            return \"VISAELECTRON\";\n\n    }\n    return null;\n}\n\nexport function removeNullFromArray(value) {\n\n    if (notEmptyLength(value)) {\n        return value.filter(function (item) {\n            return item != null;\n        })\n    }\n\n    return value;\n}\nexport function isValidDate(value) {\n\n    if (value != null) {\n        value = new Date(value);\n        if (Object.prototype.toString.call(value) === \"[object Date]\") {\n            // it is a date\n            if (isNaN(value.valueOf())) {  // value.valueOf() could also work\n                return false;\n            } else {\n                return true\n            }\n        } else {\n            return false;\n        }\n    } else {\n        return false;\n    }\n}\n\nexport function calculateTimeRange(date1, date2, unit, precise) {\n\n    if (date1 != null) {\n        if (isValidDate(date1)) {\n            date1 = moment(date1);\n\n            if (date2 != null) {\n                if (isValidDate(date2)) {\n                    date2 = moment(date2);\n                } else {\n                    return null;\n                }\n            } else {\n                date2 = moment();\n            }\n\n            let data = {};\n            switch (unit) {\n                case 'year':\n                    data.difference = date1.diff(date2, 'years', precise);\n                    data.unit = unit;\n                    break;\n                case 'month':\n                    data.difference = date1.diff(date2, 'months', precise);\n                    data.unit = unit;\n                    break;\n                case 'week':\n                    data.difference = date1.diff(date2, 'weeks', precise);\n                    data.unit = unit;\n                    break;\n                case 'day':\n                    data.difference = date1.diff(date2, 'days', precise);\n                    data.unit = unit;\n                    break;\n                case 'hour':\n                    data.difference = date1.diff(date2, 'hours', precise);\n                    data.unit = unit;\n                    break;\n                case 'minute':\n                    data.difference = date1.diff(date2, 'minutes', precise);\n                    data.unit = unit;\n                    break;\n                case 'second':\n                    data.difference = date1.diff(date2, 'seconds', precise);\n                    data.unit = unit;\n                    break;\n\n                default:\n                    //auto get nearest 1\n                    let sections = ['year', 'month', 'week', 'day', 'hour', 'minute', 'second']\n                    let selectedSection = sections.find(function (section) {\n                        return Math.abs(date1.diff(date2, section + 's', true)) >= 1;\n                    })\n                    if (selectedSection) {\n                        data.difference = date1.diff(date2, selectedSection + 's', precise);\n                        data.unit = selectedSection;\n                    } else {\n                        data.difference = 0;\n                        data.unit = 'second';\n                    }\n            }\n\n            return data;\n        } else {\n            return null;\n        }\n    } else {\n        return null;\n    }\n\n}\n\nexport function convertMilliSecondsToTime(millisecond, minUnit) {\n\n    if (millisecond != null && isValidNumber(parseInt(millisecond))) {\n\n        let second = 0, minute = 0, hour = 0;\n        let finalTime = '';\n        millisecond = parseInt(millisecond);\n\n        hour = numberToFixed(moment.duration(millisecond).hours(), false, 2, true);\n        minute = numberToFixed(moment.duration(millisecond).minutes(), false, 2, true);\n        second = numberToFixed(moment.duration(millisecond).seconds(), false, 2, true);\n\n        switch (minUnit) {\n            case 'minute':\n                if (hour > 0) {\n                    finalTime = `${hour}:${minute}:${second}`;\n                } else {\n                    finalTime = `${minute}:${second}`;\n                }\n                break;\n            case 'hour':\n                finalTime = `${hour}:${minute}:${second}`;\n                break;\n\n            default:\n                if (hour > 0) {\n                    finalTime = `${hour}:${minute}:${second}`;\n                } else if (minute > 0) {\n                    finalTime = `${minute}:${second}`;\n                } else {\n                    finalTime = `${second}`;\n                }\n                break;\n        }\n\n        return finalTime;\n    } else {\n        return null;\n    }\n\n}\nexport function isExpired(date, aspect) {\n\n    if (aspect == null) {\n        aspect = 'second';\n    }\n\n    if (date != null && isValidDate(date)) {\n        var today = moment();\n        date = moment(date);\n        return today.isAfter(date, aspect);\n    }\n    return null;\n}\nexport function convertToCardFormat(value) {\n\n    if (value != null) {\n        value = value.replace(/\\s/g, '');\n        value = insertBetween(value, 4, ' ');\n    }\n\n    return value\n}\n\nexport function convertToExpiredDateFormat(value) {\n\n    if (value != null) {\n        var str = value.split('');\n        if (str.length < 3) {\n            if (str[1] == '/') {\n                str.splice(0, 0, '0');\n                value = str.join(\"\");\n            } else {\n                value = value.replace('/', '');\n                value = insertBetween(value, 2, '/');\n            }\n        }\n    }\n\n    return value;\n\n}\n\nexport function insertBetween(value, space, char, fromBack, stopAtEnd) {\n\n    if (value != null) {\n        if (isNaN(parseInt(space))) {\n            return value;\n        } else {\n            if (fromBack) {\n                value = reverseString(value);\n            }\n            var oristr = value.toString().split('');\n            var length = oristr.length;\n            var addedspacecount = 1;\n            space = parseInt(space);\n            for (let index = 0; index < length; index++) {\n                if (index != 0 && (index + 1) % space == 0) {\n                    if (stopAtEnd && index == length - 1) {\n                        break;\n                    }\n                    oristr.splice(index + addedspacecount, 0, char);\n                    addedspacecount = addedspacecount + 1;\n                }\n            }\n            if (fromBack) {\n                oristr = oristr.reverse();\n            }\n            return oristr.join(\"\");\n        }\n    } else {\n        return null;\n    }\n\n}\n\nexport function checkSupportedCardType(card) {\n    if (card != null) {\n        // visa\n        if (card == 'VISA') {\n            return true;\n        }\n\n        if (card == 'MASTERCARD') {\n            return true;\n        }\n\n        if (card == 'VISAELECTRON') {\n            return true;\n        }\n\n        if (card == 'AMERICANEXPRESS') {\n            return true;\n        }\n\n    }\n    return false;\n}\nexport function isValidNumber(value) {\n    return !isNaN(parseFloat(value));\n}\nexport function isExpiryDateFormat(value) {\n\n    if (value != null) {\n        //to array\n        value = value.split('');\n        if (\n            value.filter(function (item, index) {\n                if (index == 2) {\n                    return item != '/';\n                }\n\n                return !parseInt(item) && parseInt(item) != 0;\n            }).length > 0\n        ) {\n            return false;\n        } else {\n            return true;\n        }\n    } else {\n        return false;\n    }\n}\n\nexport function sortByDesc(data, col) {\n\n    if (data && col) {\n        return data.sort(function (a, b) {\n            if (_.isPlainObject(a) || _.isPlainObject(b) || _.isArray(a) || _.isArray(b)) {\n                if (!col) {\n                    col = 0;\n                }\n                if (a[col] < b[col]) return 1;\n                if (a[col] > b[col]) return -1;\n                return 0;\n            } else {\n                if (a < b) return 1;\n                if (a > b) return -1;\n                return 0;\n            }\n        });\n    } else {\n        return [];\n    }\n}\n\nexport function sortByDateDesc(data, col) {\n\n    if (data && col) {\n        return data.sort(function (a, b) {\n            if (moment(a[col]).isBefore(moment(b[col]))) return 1;\n            if (moment(a[col]).isAfter(moment(b[col]))) return -1;\n            return 0;\n        });\n    } else {\n        return [];\n    }\n}\n\nexport function findData(data, col, val) {\n    return data.filter(function (item) {\n        return item[col] == val;\n    })\n}\nexport function hideStringNumber(string, start, end) {\n    if (string) {\n        var length = string.length;\n\n        //Get rest part\n        var startpart = '';\n        var endpart = '';\n        if (Number.isInteger(start) && Number.isInteger(end)) {\n            startpart = string.slice(0, start);\n            endpart = string.slice(length - (length - end), length);\n        } else if (Number.isInteger(start)) {\n            startpart = string.slice(0, start);\n            endpart = '';\n        } else if (Number.isInteger(end)) {\n            startpart = '';\n            endpart = string.slice(length - (length - end), length);\n        } else {\n            return string;\n        }\n\n        //Get desire convert part\n        var convertpart = '';\n        if (Number.isInteger(start) && Number.isInteger(end)) {\n            convertpart = string.slice(start, end);\n        } else if (Number.isInteger(start)) {\n            convertpart = string.slice(start)\n        } else if (Number.isInteger(end)) {\n            convertpart = string.slice(0, end)\n        } else {\n            return string;\n        }\n\n        //to array\n        convertpart = convertpart.split('');\n        convertpart = convertpart.map(function (char) {\n            if (isNaN(parseInt(char)) || !parseInt(char)) {\n                return char;\n            } else {\n                return '*';\n            }\n        })\n\n        //to string\n        convertpart = convertpart.join(\"\");\n\n        return startpart + convertpart + endpart;\n\n\n\n    } else {\n        return null;\n    }\n\n}\nexport function notEmptyLength(data) {\n    if (data) {\n        if (Array.isArray(data) && data.length > 0) {\n            return true;\n        } else if (isObject(data) && Object.keys(data).length > 0) {\n            return true;\n        } else {\n            return false;\n        }\n    } else {\n        return false;\n    }\n}\nexport function arrayLengthCount(data) {\n\n    if (notEmptyLength(data) && Array.isArray(data)) {\n        return data.length;\n    } else {\n        return 0;\n    }\n}\n\n\nexport function syncDefaultDelivery(data, id) {\n    return data.map(function (item) {\n        if (item._id) {\n            if (item._id != id) {\n                if (item.isDefaultDelivery) {\n                    item.isDefaultDelivery = false;\n                }\n            } else {\n                item.isDefaultDelivery = true;\n            }\n        }\n\n        return item;\n    })\n}\n\nexport function syncDefaultBilling(data, id) {\n    return data.map(function (item) {\n        if (item._id) {\n            if (item._id != id) {\n                if (item.isDefaultBilling) {\n                    item.isDefaultBilling = false;\n                }\n            } else {\n                item.isDefaultBilling = true;\n            }\n        }\n\n        return item;\n    })\n}\n\n\nexport function syncDefaultCard(data, id) {\n    return data.map(function (item) {\n        if (item._id) {\n            if (item._id != id) {\n                if (item.isDefaultCard) {\n                    item.isDefaultCard = false;\n                }\n            } else {\n                item.isDefaultCard = true;\n            }\n        }\n\n        return item;\n    })\n}\nexport function syncDefaultBank(data, id) {\n    return data.map(function (item) {\n        if (item._id) {\n            if (item._id != id) {\n                if (item.isDefaultBank) {\n                    item.isDefaultBank = false;\n                }\n            } else {\n                item.isDefaultBank = true;\n            }\n        }\n\n        return item;\n    })\n}\n\nexport function isSavedWishList(data, id) {\n    if (data && id) {\n        var check = data.filter(function (item) {\n            return item.productId == id;\n        });\n\n        return check.length > 0;\n    } else {\n        return false;\n    }\n\n}\n\nexport function isFollowed(data, id) {\n    if (data && id) {\n        var check = data.filter(function (item) {\n            return item.companyId == id;\n        });\n\n        return check.length > 0;\n    } else {\n        return false;\n    }\n\n}\n\nexport function deepEqual(object1, object2) {\n    if (object1 && object2) {\n        const keys1 = Object.keys(object1);\n        const keys2 = Object.keys(object2);\n\n        if (keys1.length !== keys2.length) {\n            return false;\n        }\n\n        for (const key of keys1) {\n            const val1 = object1[key];\n            const val2 = object2[key];\n            const areObjects = isObject(val1) && isObject(val2);\n            if (\n                areObjects && !deepEqual(val1, val2) ||\n                !areObjects && val1 !== val2\n            ) {\n                return false;\n            }\n        }\n\n    } else {\n        return false\n    }\n\n    return true;\n}\n\nexport function isObject(object) {\n    return object != null && typeof object === 'object';\n}\n\nexport function deepEqualArrayObject(array1, array2) {\n\n\n    if (Array.isArray(array1) && Array.isArray(array2)) {\n        if (array1.length != array2.length) {\n            return false;\n        } else {\n            for (let x = 0; x < array1.length; x++) {\n                if (!deepEqual(array1[x], array2[x])) {\n                    return false;\n                }\n            }\n            return true;\n        }\n\n\n    } else {\n        return false;\n    }\n}\n\n\nexport function roundToHalf(number) {\n\n    if (number != null) {\n        if (!isNaN(parseFloat(number))) {\n            var decimal = parseFloat(number);\n            var int = parseInt(number);\n\n            decimal = decimal - int;\n            return decimal >= 0.5 ? int + 0.5 : int;\n\n        }\n    }\n\n    return false;\n}\n\n\nexport function queryStringifyNestedObject(value, colName) {\n\n    if (value != null) {\n        if (colName) {\n            let data = {};\n            data[colName] = JSON.stringify(value);\n            return queryString.stringify(data);\n        }\n        return queryString.stringify({\n            data: JSON.stringify(value)\n        })\n    }\n\n    return '';\n}\n\nexport function getImgTagSource(str) {\n    if (str) {\n        str = str.toString();\n        let strArr = str.split(\"\");\n        let removed = true;\n        //Get html tag only\n        strArr = _.compact(_.map(strArr, function (chr) {\n            if (chr == '<') {\n                removed = false;\n                return chr;\n            }\n\n            if (chr == '>') {\n                removed = true;\n                return chr;\n            }\n            if (removed) {\n                return null;\n            }\n            return chr;\n        }));\n\n        let images = strArr.join(\"\").split(\">\");\n        images = _.compact(_.map(images, function (image) {\n            if (image.substr(0, 4) == '<img') {\n                //point to src value\n                let startIndex = image.indexOf('src=\"') + 5;\n\n                //crop until src\n                let croppedStrArr = image.substr(startIndex)\n                croppedStrArr = croppedStrArr.split(\"\");\n                let removed = false;\n\n                //retrieve value\n                croppedStrArr = _.compact(_.map(croppedStrArr, function (chr) {\n                    if (chr == '\"') {\n                        removed = true;\n                        return null;\n                    }\n                    if (removed) {\n                        return null;\n                    }\n                    return chr;\n                }));\n\n                return { url: `/${croppedStrArr.join(\"\")}`, name: croppedStrArr.join(\"\").slice(10) };\n\n            }\n\n            return null;\n        }))\n        return images;\n    } else {\n        return str;\n    }\n}\n\nexport function removeHtmlTag(str) {\n    if (str) {\n        str = str.toString();\n        let strArr = str.split(\"\");\n        let removed = false;\n        strArr = _.compact(_.map(strArr, function (chr) {\n            if (chr == '<') {\n                removed = true;\n                return null;\n            }\n\n            if (chr == '>') {\n                removed = false;\n                return null;\n            }\n            if (removed) {\n                return null;\n            }\n            return chr;\n        }));\n\n        return strArr.join(\"\");\n    } else {\n        return str;\n    }\n}\n\nexport function convertToRangeFormat(value) {\n    let data = _.cloneDeep(value);\n    //Convert Range Format\n    if (notEmptyLength(data)) {\n        //Restruct range format to convert\n        if (!data[0] && !data[1]) {\n        } else if (!data[0]) {\n            data[0] = data[1];\n            data[1] = defaultRangeSmaller\n        } else if (!data[1]) {\n            data[1] = defaultRangeBigger\n        }\n    }\n\n    return data;\n}\n\nexport function convertRangeFormatBack(valueArr) {\n    if (_.isArray(valueArr) && !_.isEmpty(valueArr)) {\n        let parameter1 = valueArr[0];\n        let parameter2 = valueArr[1];\n        let data = [,]\n\n        if (parameter2 == defaultRangeSmaller || parameter2 == defaultRangeBigger) {\n            if (parameter2 == defaultRangeBigger) {\n                data[0] = parameter1;\n            }\n            if (parameter2 == defaultRangeSmaller) {\n                data[1] = parameter1;\n            }\n            return data;\n        } else {\n            return valueArr;\n        }\n    } else {\n        return valueArr;\n    }\n}\n\nexport function convertRangeFormatToText(formatedRange, valueFormat) {\n\n    function convertValue(value, format) {\n\n        if (format == 'price') {\n            return `RM ${formatNumber(value, null, true, 2, true)}`\n        }\n\n        if (format == 'mileage') {\n            return `${formatNumber(value, null, true, 2, true)} km`\n        }\n\n        if (format == 'engineCapacity') {\n            return `${formatNumber(value, null, true, 2, true)} cc`\n        }\n        return value;\n    }\n    if (_.isArray(formatedRange) && !_.isEmpty(formatedRange)) {\n        let parameter1 = formatedRange[0];\n        let parameter2 = formatedRange[1];\n        let text = '';\n\n        if (parameter2 == defaultRangeBigger) {\n            text = `above ${convertValue(parameter1, valueFormat)}`\n        } else if (parameter2 == defaultRangeSmaller) {\n            text = `below ${convertValue(parameter1, valueFormat)}`\n        } else {\n            text = `between ${convertValue(parameter1, valueFormat)} and ${convertValue(parameter2, valueFormat)}`\n        }\n        return text;\n    } else {\n        return '';\n    }\n}\n\n\nexport function convertFilterRange(value, name) {\n\n    if (notEmptyLength(value) && name) {\n        let parameter1 = parseFloat(value[0]);\n        let parameter2 = value[1];\n        let finalData = [];\n        let query = {};\n\n        if (!isValidNumber(parameter1)) {\n            return null;\n        }\n\n        if (parameter2 != null) {\n\n            switch (parameter2) {\n                case '<=':\n                    query[`${name}`] = { $lte: +(parameter1) }\n                    finalData.push(query);\n                    break;\n                case '<':\n                    query[`${name}`] = { $lt: +(parameter1) }\n                    finalData.push(query);\n                    break;\n                case '==':\n                    query[`${name}`] = { $eq: +(parameter1) }\n                    finalData.push(query);\n                    break;\n                case '>':\n                    query[`${name}`] = { $gt: +(parameter1) }\n                    finalData.push(query);\n                    break;\n                case '>=':\n                    query[`${name}`] = { $gte: +(parameter1) }\n                    finalData.push(query);\n                    break;\n                default:\n                    parameter2 = parseFloat(parameter2);\n                    if (!isValidNumber(parameter2)) {\n                        query[`${name}`] = { $eq: +(parameter1) }\n                        finalData.push(query);\n                    } else {\n                        query[`${name}`] = { $gte: +(parameter1) }\n                        finalData.push(query);\n\n                        let query1 = {};\n                        query1[`${name}`] = { $lte: +(parameter2) }\n                        finalData.push(query1);\n                    }\n                    break;\n            }\n\n        } else {\n            query[`${name}`] = { $eq: +(parameter1) }\n            finalData.push(query);\n        }\n        return finalData;\n    } else {\n        return null;\n    }\n}\n\nexport function objectRemoveEmptyValue(value) {\n\n    if (notEmptyLength(value) && _.isPlainObject(value)) {\n        return _.pickBy(value, function (property) {\n            return _.isArray(property) ? notEmptyLength(_.compact(property)) : _.isPlainObject(property) ? notEmptyLength(objectRemoveEmptyValue(property)) : property;\n        });\n    } else {\n        return {}\n    }\n}\n\nexport function convertProductRouteParamsToFilterObject(routeParams) {\n\n    let { parameter1, parameter2, parameter3 } = routeParams;\n    let { sorting, page, view } = routeParams;\n    let mergeObj = _.pick(routeParams, availableFilters) || {};\n\n    if (!isValidNumber(parseInt(page))) {\n        page = 1;\n    }\n\n    if (view != 'gridView' && view != 'listView') {\n        view = 'gridView';\n    }\n\n\n    if (!_.get(sorting, ['carspec.year']) && !_.get(sorting, ['mileageFilter']) && !_.get(sorting, ['searchPrice'])) {\n        sorting = {};\n    }\n    let finalData = {\n        filterGroup: {\n            ...mergeObj\n        },\n        config: {\n            page: page,\n            sorting: sorting,\n            view: view\n        },\n    };\n\n    if (finalData.filterGroup.priceRange) {\n        finalData.filterGroup.priceRange = convertRangeFormatBack(finalData.filterGroup.priceRange);\n    }\n    if (finalData.filterGroup.yearRange) {\n        finalData.filterGroup.yearRange = convertRangeFormatBack(finalData.filterGroup.yearRange);\n    }\n    if (finalData.filterGroup.mileageRange) {\n        finalData.filterGroup.mileageRange = convertRangeFormatBack(finalData.filterGroup.mileageRange);\n    }\n    if (finalData.filterGroup.engineCapacityRange) {\n        finalData.filterGroup.engineCapacityRange = convertRangeFormatBack(finalData.filterGroup.engineCapacityRange);\n    }\n\n    if (parameter1 && !parameter2 && !parameter3) {\n        let stateArr = parameter1.split('_');\n        finalData.filterGroup.state = _.isArray(stateArr) && !_.isEmpty(stateArr) ? _.get(stateArr, [1]) || '' : '';\n        finalData.filterGroup.area = _.isArray(stateArr) && !_.isEmpty(stateArr) ? _.get(stateArr, [2]) || '' : '';\n    } else if (parameter1 && parameter2 && !parameter3) {\n        finalData.filterGroup.make = _.toLower(parameter1);\n\n        let stateArr = parameter2.split('_');\n        finalData.filterGroup.state = _.isArray(stateArr) && !_.isEmpty(stateArr) ? _.get(stateArr, [1]) || '' : '';\n        finalData.filterGroup.area = _.isArray(stateArr) && !_.isEmpty(stateArr) ? _.get(stateArr, [2]) || '' : '';\n\n    } else if (parameter1 && parameter2 && parameter3) {\n        finalData.filterGroup.make = _.toLower(parameter1);\n        finalData.filterGroup.model = _.toLower(parameter2);\n\n        let stateArr = parameter3.split('_');\n        finalData.filterGroup.state = _.isArray(stateArr) && !_.isEmpty(stateArr) ? _.get(stateArr, [1]) || '' : '';\n        finalData.filterGroup.area = _.isArray(stateArr) && !_.isEmpty(stateArr) ? _.get(stateArr, [2]) || '' : '';\n\n    } else {\n\n    }\n\n    return finalData;\n\n\n}\n\n\nexport function convertParameterToProductListUrl(data, config) {\n\n    let mergeObj = objectRemoveEmptyValue(data);\n    let basePath = '';\n\n    if (!_.isPlainObject(config) || _.isEmpty(config)) {\n        config = {\n            page: 1,\n            sorting: {},\n            view: 'gridView'\n        }\n    }\n\n    if (!isValidNumber(parseInt(config.page))) {\n        config.page = 1;\n    }\n    if (config.view != 'gridView' && config.view != 'listView') {\n        config.view = 'gridView';\n    }\n\n    if (!_.isPlainObject(objectRemoveEmptyValue(config.sorting)) && _.isEmpty(objectRemoveEmptyValue(config.sorting)) && (!_.get(config, ['sorting', 'carspec.year']) && !_.get(config, ['sorting', 'mileageFilter']) && !_.get(config, ['sorting', 'searchPrice']))) {\n        config.sorting = {};\n    } else {\n        config.sorting = _.pick(objectRemoveEmptyValue(config.sorting), ['carspec.year', 'searchPrice', 'mileageFilter']);\n    }\n\n\n    if (notEmptyLength(mergeObj)) {\n        mergeObj = _.pick(mergeObj, availableFilters);\n        let condition = mergeObj.condition;\n        let make = mergeObj.make;\n        let model = mergeObj.model;\n        let state = mergeObj.state;\n        let area = mergeObj.area;\n\n\n\n        if (condition && condition != 'cars-on-sale' && condition != 'all') {\n            condition = [_.toLower(condition), 'cars-on-sale'].join('-');\n        } else {\n            condition = 'cars-on-sale';\n        }\n\n        if (state && state != 'malaysia') {\n            if (area && state != 'malaysia') {\n                state = ['malaysia', _.toLower(mergeObj.state), _.toLower(mergeObj.area)].join('_');\n            } else {\n                state = ['malaysia', _.toLower(mergeObj.state)].join('_');\n            }\n        } else {\n            state = 'malaysia';\n        }\n\n\n\n        //Main parameter\n        //Order is important\n        //The first 1 always is condition\n        //The last 1 always is state\n        let mainParameters = [make, model];\n        let path = `${basePath}/${condition}`;\n\n        _.forEach(mainParameters, function (parameter) {\n            if (!parameter) {\n                return false;\n            } else {\n                path += `/${_.toLower(parameter)}`\n            }\n        })\n\n        path += `/${state}`\n        delete mergeObj.condition;\n        delete mergeObj.make;\n        delete mergeObj.model;\n        delete mergeObj.state;\n        return `${path}?view=${config.view}&page=${config.page}${_.isPlainObject(config.sorting) && !_.isEmpty(config.sorting) ? `&${queryStringifyNestedObject(config.sorting, 'sorting')}` : ''}${notEmptyLength(mergeObj) ? `&${queryStringifyNestedObject(mergeObj)}` : ''}`;\n\n    } else {\n        return `/cars-on-sale/malaysia?view=${config.view}&page=${config.page}${_.isPlainObject(config.sorting) && !_.isEmpty(config.sorting) ? `&${queryStringifyNestedObject(config.sorting, 'sorting')}` : ''}`;\n    }\n}\n\nexport function convertParameterToProductListSeoUrl(data) {\n\n    let mergeObj = objectRemoveEmptyValue(data);\n    let basePath = checkEnvReturnCmsUrl(client.io.io.uri);;\n\n\n    if (notEmptyLength(mergeObj)) {\n        mergeObj = _.pick(mergeObj, availableFilters);\n        let condition = mergeObj.condition;\n        let make = mergeObj.make;\n        let model = mergeObj.model;\n        let state = mergeObj.state;\n        let area = mergeObj.area;\n\n\n\n        if (condition && condition != 'cars-on-sale' && condition != 'all') {\n            condition = [_.toLower(condition), 'cars-on-sale'].join('-');\n        } else {\n            condition = 'cars-on-sale';\n        }\n\n        if (state && state != 'malaysia') {\n            if (area && state != 'malaysia') {\n                state = ['malaysia', _.toLower(mergeObj.state), _.toLower(mergeObj.area)].join('_');\n            } else {\n                state = ['malaysia', _.toLower(mergeObj.state)].join('_');\n            }\n        } else {\n            state = 'malaysia';\n        }\n\n\n\n        //Main parameter\n        //Order is important\n        //The first 1 always is condition\n        //The last 1 always is state\n        let mainParameters = [make, model];\n        let path = `${basePath}/${condition}`;\n\n        _.forEach(mainParameters, function (parameter) {\n            if (!parameter) {\n                return false;\n            } else {\n                path += `/${_.toLower(parameter)}`\n            }\n        })\n\n        path += `/${state}`\n        delete mergeObj.condition;\n        delete mergeObj.make;\n        delete mergeObj.model;\n        delete mergeObj.state;\n        return `${path}?${notEmptyLength(mergeObj) ? `&${queryStringifyNestedObject(mergeObj)}` : ''}`;\n\n    } else {\n        return `/cars-on-sale/malaysia`;\n    }\n}\nexport function getTopItems(data, rank, col) {\n    if (_.isArray(data) && notEmptyLength(data)) {\n        if (!isValidNumber(rank)) {\n            rank = 3;\n        } else {\n            rank = parseInt(rank);\n        }\n\n        let pickedData = sortByDesc(data, col);\n        pickedData = _.slice(pickedData, 0, rank);\n        return pickedData;\n    } else {\n        return data;\n    }\n}\n\n\nexport function toCamelCase(value, seperator) {\n    if (!value || !value.toString()) {\n        return value;\n    } else {\n        if (!seperator || !seperator.toString()) {\n            seperator = ' ';\n        } else {\n            seperator = seperator.toString();\n        }\n        value = value.toString().split(seperator);\n        value = _.map(value, function (item, index) {\n            if (index > 0) {\n                return _.capitalize(item);\n            } else {\n                return item;\n            }\n        });\n\n        return value.join('');\n    }\n}\n\nexport function toSnakeCase(value, seperator) {\n    if (!value || !value.toString()) {\n        return value;\n    } else {\n        if (!seperator || !seperator.toString()) {\n            seperator = '_';\n        } else {\n            seperator = seperator.toString();\n        }\n        value = value.toString().split('')\n        let finalData = []\n        _.forEach(value, function (item, index) {\n            if (index == 0) {\n                finalData.push(_.lowerCase(item));\n            } else {\n\n                if (item == _.upperCase(item)) {\n                    finalData.push(seperator);\n                }\n\n                finalData.push(_.lowerCase(item));\n            }\n        });\n        return finalData.join('');\n    }\n}\n\nexport const viewPort = {\n    xs: 480,\n    sm: 576,\n    md: 768,\n    lg: 992,\n    xl: 1200,\n    xxl: 1600,\n}\n\nexport function getUserName(user, type) {\n    if (_.isPlainObject(user) && !_.isEmpty(user)) {\n        let username = _.trim(_.get(user, ['username']) || '');\n        let fullName = _.trim(_.get(user, ['fullName']) || `${_.get(user, ['firstName']) || ''} ${_.get(user, ['lastName']) || ''}` || '');\n        let firstName = _.trim(_.get(user, ['firstName']) || '');\n        let lastName = _.trim(_.get(user, ['lastName']) || '');\n        let namePrefix = _.trim(_.get(user, ['namePrefix']) || '');\n        let freakId = _.trim(_.get(user, ['freakId']) || '');\n\n        switch (type) {\n            case 'username':\n                return username;\n            case 'fullName':\n                return fullName;\n            case 'prefixName':\n                return _.trim(`${namePrefix ? `${namePrefix}` : ''} ${fullName || ''}`);\n            case 'firstName':\n                return firstName;\n            case 'lastName':\n                return lastName;\n            case 'freakId':\n                return freakId;\n            default:\n                return fullName;\n        }\n    } else {\n        return 'Ccar User'\n    }\n}\n\n\nexport function getPlural(singular, plural, count, showCount) {\n    if (singular && isValidNumber(parseInt(count))) {\n        return parseInt(count) > 1 ?\n            showCount ?\n                `${count} ${plural || singular + 's'}`\n                :\n                `${plural || singular + 's'}`\n            :\n            showCount ?\n                `${formatNumber(count, 'auto', true, 0, true)} ${singular}`\n                :\n                `${singular}`\n\n    } else {\n        return '';\n    }\n}\n\nexport function findIndexesOfString(text, search) {\n    if (text && search) {\n        let indexes = [];\n        let currentPosition = 0;\n        while (currentPosition < text.length) {\n            currentPosition = text.indexOf(search, currentPosition);\n            if (currentPosition == -1) {\n                currentPosition = text.length;\n            } else {\n                indexes.push(currentPosition);\n                currentPosition = currentPosition + search.length;\n            }\n        }\n\n        return indexes;\n    } else {\n        return [];\n    }\n}\n\n\nexport function checkObjectId(data, idForCheck, col) {\n    if (_.isPlainObject(data) && !_.isEmpty(data)) {\n        return data[`${col || '_id'}`] == idForCheck;\n    } else {\n        return data == idForCheck;\n    }\n}\n\nexport function getObjectId(data, col) {\n    if (_.isPlainObject(data) && !_.isEmpty(data)) {\n        return data[`${col || '_id'}`];\n    } else {\n        return data;\n    }\n}\n\nexport function getCarMarketSeoData(filterGroup, total) {\n\n    if (!_.isPlainObject(filterGroup)) {\n        filterGroup = {};\n    } else {\n        filterGroup = _.cloneDeep(filterGroup)\n    }\n\n    let title = [];\n    let description = [];\n    let location = [];\n    let rangeFilter = [];\n    let otherFilter = [];\n    if (_.get(filterGroup, 'state') || _.get(filterGroup, 'area')) {\n        location.push(`${_.capitalize(_.get(filterGroup, 'area') || '')}`);\n        location.push(`${_.get(getState(filterGroup.state), 'value') || ''}`);\n    }\n    location.push('Malaysia');\n    location = _.compact(location).join(' ');\n\n    const filterRanges = ['price', 'mileage', 'engineCapacity', 'year'];\n    _.forEach(filterRanges, function (filterRange) {\n        if (filterGroup[filterRange + 'Range']) {\n            rangeFilter.push(`${_.capitalize(toSnakeCase(filterRange, ' '))} ${convertRangeFormatToText(convertToRangeFormat(filterGroup[filterRange + 'Range']), filterRange)}`);\n        }\n    })\n\n    if (filterGroup.bodyType) {\n        otherFilter.push(_.capitalize(_.get(getBodyType(filterGroup.bodyType), 'value') || ''));\n    }\n\n    if (filterGroup.fuelType) {\n        otherFilter.push(_.capitalize(_.get(getFuelType(filterGroup.fuelType), 'value') || ''));\n    }\n\n    if (filterGroup.color) {\n        otherFilter.push(`Color ${_.capitalize(_.get(getColor(filterGroup.color), 'value') || '')}`);\n    }\n\n    if (filterGroup.registrationUrl) {\n        otherFilter.push(`With Registration Url`);\n    }\n\n    if (filterGroup.readyStock) {\n        otherFilter.push(`Is Ready Stock`);\n    }\n\n    if (filterGroup.car360View) {\n        otherFilter.push(`With Car 360 View`);\n    }\n\n    otherFilter = _.concat(otherFilter, rangeFilter).join(', ');\n\n    title.push(`Search ${formatNumber(total) || 0}`);\n    if (filterGroup.title) {\n        title.push(_.capitalize(filterGroup.title));\n        title.push(_.capitalize(filterGroup.title));\n    } else {\n        title.push(`${_.get(getCarBrand(_.get(filterGroup, 'make')), 'value') || ''}`);\n        title.push(`${_.capitalize(_.get(filterGroup, 'model') || '')}`);\n    }\n\n    title.push(_.capitalize(filterGroup.condition || ''));\n    title.push(_.capitalize(filterGroup.transmission || ''));\n    description = _.cloneDeep(title);\n    title.push(`Cars for Sales in ${location} - CCAR.my #1 Car Social Platform.`);\n    title = _.compact(title);\n    title = title.join(' ');\n\n    description.push(`Cars for Sales in ${location}${otherFilter ? '.' : ''}`);\n    description.push(otherFilter)\n    description.push('- CCAR.my #1 Car Social Platform.')\n    description = _.compact(description);\n    description = description.join(' ');\n\n\n    let canonical = convertParameterToProductListSeoUrl(filterGroup);\n\n    return {\n        title,\n        description,\n        canonical,\n    }\n\n}\n\n\nexport function getProfileSeoData(profile) {\n\n    if (!_.isPlainObject(profile)) {\n        return {};\n    } else {\n        profile = _.cloneDeep(profile)\n    }\n\n    let title = [];\n    let description = [];\n\n    title.push(`${getUserName(profile, 'fullName') || ''}`);\n    title.push(`'s Profile - CCAR.my #1 Car Social Platform `);\n    title = _.compact(title);\n    title = title.join(' ');\n\n    description.push(`${getUserName(profile, 'fullName') || ''}`);\n    description.push(`is on CCAR #1 Car Social Platform. Come and share car info with ${getUserName(profile, 'fullName') || ''} and others. CCAR connects all car lovers together.`)\n    description = _.compact(description);\n    description = description.join(' ');\n\n\n\n    let canonical = `${checkEnvReturnCmsUrl(client.io.io.uri)}/profile/${profile.userurlId}`;\n    let images = [{\n        url: profile.avatar,\n        alt: 'CCAR User Profile Image'\n    }];\n\n    return {\n        title,\n        description,\n        canonical,\n        images,\n    }\n\n}\n\n\nexport function getCarFreakSeoData(data) {\n\n    if (!_.isPlainObject(data)) {\n        return {};\n    } else {\n        data = _.cloneDeep(data)\n    }\n\n    let title = [];\n    let description = [];\n\n    title.push(`${parseTagStringToPlainString(data.title) || ''}`);\n    title.push(`|`);\n    title.push(`CarFreaks`);\n    title.push(`- CCAR.my #1 Car Social Platform`);\n    title = _.compact(title);\n    title = title.join(' ');\n\n    description.push(`${parseTagStringToPlainString(data.content) || ''}`);\n    if (_.isPlainObject(data.userId) && !_.isEmpty(data.userId)) {\n        description.push('|');\n        description.push(`Posted By ${getUserName(data.userId, 'fullName') || ''}`)\n    }\n    description = _.compact(description);\n    description = description.join(' ');\n\n\n\n    let canonical = `${checkEnvReturnCmsUrl(client.io.io.uri)}/car-freaks/${data._id}`;\n    let images = [{\n        url: _.get(data, 'mediaList[0].url') || '',\n        alt: 'CCAR CarFreak Image'\n    }];\n\n    return {\n        title,\n        description,\n        canonical,\n        images,\n    }\n}\n\nexport function getSocialBoardSeoData(data) {\n\n    if (!_.isPlainObject(data)) {\n        return {};\n    } else {\n        data = _.cloneDeep(data)\n    }\n\n    let title = [];\n    let description = [];\n\n    title.push(`${parseTagStringToPlainString(data.title) || ''}`);\n    title.push(`|`);\n    title.push(`Social Board`);\n    title.push(`- CCAR.my #1 Car Social Platform`);\n    title = _.compact(title);\n    title = title.join(' ');\n\n    description.push(`${parseTagStringToPlainString(data.content) || ''}`);\n    if (_.isPlainObject(data.userId) && !_.isEmpty(data.userId)) {\n        description.push('|');\n        description.push(`Posted By ${getUserName(data.userId, 'fullName') || ''}`)\n    }\n    description = _.compact(description);\n    description = description.join(' ');\n\n\n\n    let canonical = `${checkEnvReturnCmsUrl(client.io.io.uri)}/social-board/${data._id}`;\n\n    return {\n        title,\n        description,\n        canonical,\n    }\n\n}\n\nexport function getClubSeoData(data) {\n\n    if (!_.isPlainObject(data)) {\n        return {};\n    } else {\n        data = _.cloneDeep(data)\n    }\n\n    let title = [];\n    let description = [];\n\n    title.push(`${data.clubName || ''}`);\n    title.push(`|`);\n    title.push(`Social Club`);\n    title.push(`- CCAR.my #1 Car Social Platform`);\n    title = _.compact(title);\n    title = title.join(' ');\n\n    description.push(`${data.clubBio || ''}`);\n    if (_.isPlainObject(data.userId) && !_.isEmpty(data.userId)) {\n        description.push('|');\n        description.push(`Created By ${getUserName(data.userId, 'fullName') || ''}`)\n    }\n    description = _.compact(description);\n    description = description.join(' ');\n\n\n\n    let canonical = `${checkEnvReturnCmsUrl(client.io.io.uri)}/social-club/${data._id}`;\n    let images = [{\n        url: _.get(data, 'clubAvatar') || '',\n        alt: 'CCAR CarFreak Image'\n    }];\n\n    return {\n        title,\n        description,\n        canonical,\n        images,\n    }\n\n}\n\nexport function getAllNewCarSeoData(data) {\n\n    if (!_.isPlainObject(data)) {\n        return {};\n    } else {\n        data = _.cloneDeep(data)\n    }\n\n    let title = [];\n    let description = [];\n\n    title.push(`${getCarBrand(data.make).value || ''}`);\n    title.push(`|`);\n    title.push(`${_.capitalize(data.model || '')}`);\n    title.push(`|`);\n    title.push(`All New Car - CCAR.my #1 Car Social Platform`);\n    title = _.compact(title);\n    title = title.join(' ');\n\n    description.push(`View ${getCarBrand(data.make).value || ''} ${_.capitalize(data.model || '')} All New Car at CCAR.my now - CCAR.my #1 Car Social Platform  `);\n    description = _.compact(description);\n    description = description.join(' ');\n\n\n\n    let canonical = `${checkEnvReturnCmsUrl(client.io.io.uri)}/newcar/details/${data.make}/${data.model}`;\n    let images = [{\n        url: _.get(data, 'uri') || '',\n        alt: `CCAR ${getCarBrand(data.make).value || ''} ${_.capitalize(data.model || '')} Image`\n    }];\n\n    return {\n        title,\n        description,\n        canonical,\n        images,\n    }\n\n}\n\nexport function getLiveSeoData(data) {\n\n    const apiDomain = getStreamUrl(client.io.io.uri)\n\n    if (!_.isPlainObject(data)) {\n        return {};\n    } else {\n        data = _.cloneDeep(data)\n    }\n\n    let title = [];\n    let description = [];\n\n    title.push(`CCAR LIVE`);\n    title.push(`|`);\n    title.push(`${_.capitalize(data.user || 'Ccar User')}`);\n    title.push(`- CCAR.my #1 Car Social Platform`);\n    title = _.compact(title);\n    title = title.join(' ');\n\n    description.push(data.title);\n    description.push(`View Car Live Streaming at CCAR.my now - CCAR.my #1 Car Social Platform  `);\n    description = _.compact(description);\n    description = description.join(' ');\n\n\n\n    let canonical = `${checkEnvReturnCmsUrl(client.io.io.uri)}/live/${data.id}`;\n    let images = [{\n        url: `${apiDomain}dealerVideoThumbnails/${data.id}.png`,\n        alt: `Live Streaming Image`\n    }];\n\n    return {\n        title,\n        description,\n        canonical,\n        images,\n    }\n\n}"]},"metadata":{},"sourceType":"module"}