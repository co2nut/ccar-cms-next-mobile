{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { DownOutlined, HeartOutlined, LeftOutlined, RightOutlined, UpOutlined } from '@ant-design/icons';\nimport { Breadcrumb, Button, Card, Col, Divider, Icon, Input, message, Modal, Row, Tooltip, Tabs } from 'antd';\nimport axios from 'axios';\nimport _ from 'lodash';\nimport moment from 'moment';\nimport { withRouter } from 'next/router';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { useMediaQuery } from 'react-responsive';\nimport { bindActionCreators } from \"redux\";\nimport { flame, soldOutIcon } from '../../../icon';\nimport { loading, quickSearchProductsList, showContactList, updateActiveMenu } from '../../../redux/actions/app-actions';\nimport { updateActiveIdProductList } from '../../../redux/actions/productsList-actions';\nimport { calMonth, formatMoney } from '../../../functionContent';\nimport client from '../../../feathers';\nimport { setUser } from '../../../redux/actions/user-actions';\nimport { imageNotFoundIcon } from '../../../params/common';\nimport LayoutV2 from '../../general/LayoutV2';\nimport UserAvatar from '../../general/UserAvatar';\nimport AddCompareProductButton from '../../general/add-compare-product-button';\nimport CalculatorModal from '../../general/calculator-modal';\nimport Car360ViewButton from '../../general/car-360-view-button';\nimport LightBoxGallery from '../../general/light-box-gallery';\nimport { convertParameterToProductListUrl, formatNumber, getUserName, notEmptyLength } from '../../../common-function';\nimport SellerBusinessCard from '../../seller/SellerBusinessCard';\nimport WhatsAppButton from '../../general/whatapps-button';\nimport WhatsAppViewProduct from '../../general/ws-button-product';\nimport ContactList from '../../general/contactList';\nimport Wishlist from '../../general/Wishlist';\nimport ShareButtonDialog from '../../general/ShareButtonDialog';\nimport ShareViewProduct from '../../general/share-view-product';\nimport { getStateIcon } from '../../../params/stateList';\nimport RegisterCard from '../../general/registerCard';\nimport KeyCarDetails from '../KeyCarDetails';\nimport KeyFeatures from '../key-features';\nimport Link from 'next/link';\nimport Description from '../Description';\nimport Equipment from '../equipment';\nimport Specification from '../specification';\nimport { routePaths } from '../../../route';\nimport { flameRed, rayaFlame, rayaFood, rayaLamp, rayaMosque, rayaPeople } from '../../../icon';\nconst {\n  TextArea\n} = Input;\nconst adverImg = \"/advertisement.jpg\";\n\nconst Div = props => {\n  const childrenProps = _objectSpread({}, props);\n\n  delete childrenProps.show;\n  return __jsx(\"div\", childrenProps);\n};\n\nconst {\n  TabPane\n} = Tabs;\n\nfunction callback(key) {\n  console.log(key);\n}\n\nclass ViewCarDetailsPage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"onClickShow\", () => {\n      this.setState({\n        show: !this.state.show\n      });\n    });\n\n    _defineProperty(this, \"handleScroll\", e => {\n      this.setState({\n        scrollYPosition: this.state.window.scrollY\n      });\n    });\n\n    _defineProperty(this, \"breadcrumbSearchCondition\", v => {\n      let path = convertParameterToProductListUrl({\n        condition: v\n      });\n      this.props.router.push(path);\n    });\n\n    _defineProperty(this, \"breadcrumbSearchMake\", v => {\n      let path = convertParameterToProductListUrl({\n        make: v.toLowerCase()\n      });\n      this.props.router.push(path);\n    });\n\n    _defineProperty(this, \"breadcrumbSearchModel\", v => {\n      let path = convertParameterToProductListUrl({\n        model: v.toLowerCase()\n      });\n      this.props.router.push(path);\n    });\n\n    _defineProperty(this, \"_renderCondition\", v => {\n      if (v.condition === 'new') {\n        return __jsx(\"div\", {\n          className: \"wrap-condition wrap-condition-new\"\n        }, __jsx(\"p\", {\n          style: {\n            textTransform: 'uppercase'\n          }\n        }, v.condition));\n      } else if (v.condition === 'used') {\n        return __jsx(\"div\", {\n          className: \"wrap-condition wrap-condition-used\"\n        }, __jsx(\"p\", {\n          style: {\n            textTransform: 'uppercase'\n          }\n        }, v.condition));\n      } else if (v.condition === 'recon') {\n        return __jsx(\"div\", {\n          className: \"wrap-condition wrap-condition-recon\"\n        }, __jsx(\"p\", {\n          style: {\n            textTransform: 'uppercase'\n          }\n        }, v.condition));\n      } else {\n        return __jsx(\"div\", {\n          className: \"wrap-condition wrap-condition-default\"\n        }, __jsx(\"p\", {\n          style: {\n            textTransform: 'uppercase'\n          }\n        }, v.condition));\n      }\n    });\n\n    _defineProperty(this, \"_renderLayout\", v => {\n      if (!v.priority) {\n        return 'wrap-product-detail';\n      }\n\n      if (v.priority === 'addonSpotlight' || v.priority === 'addonKingadType3') {\n        return 'wrap-product-detail-spotlight';\n      } else if (v.priority === 'addonSpicydeal' || v.priority === 'addonKingadType' || v.priority === 'addonKingadType2') {\n        return 'wrap-product-detail-spicydeal';\n      } else {\n        return 'wrap-product-detail';\n      }\n    });\n\n    _defineProperty(this, \"_renderPrice\", () => {\n      let v = this.state.productDetails;\n\n      if (_.isEmpty(v) === true) {\n        return;\n      }\n\n      if (_.isEmpty(v.carspecsAll) === true && _.isEmpty(v.companys) === true && _.isEmpty(v.condition) === true && _.isEmpty(v.registrationUrl) === true) {\n        return;\n      }\n\n      let normalPrice = __jsx(\"div\", {\n        className: \"wrap-product-ads-price\"\n      }, __jsx(Row, null, __jsx(Col, {\n        xs: 14,\n        sm: 14,\n        md: 16,\n        lg: 16,\n        xl: 16\n      }, __jsx(\"span\", {\n        style: {\n          color: '#20abcc'\n        },\n        className: \"installmentPrice\"\n      }, \"RM \", formatMoney(calMonth(v.price).toString()), \"/month\"))), __jsx(\"h4\", {\n        style: {\n          marginLeft: '10px'\n        }\n      }, \"RM \", formatMoney(v.price.toString())));\n\n      function renderShowPrice(price, discountedPrice) {\n        const pattern = /\\.(\\d*?)0+(\\D*)$/gm;\n        return __jsx(\"div\", {\n          className: \"wrap-product-ads-price\"\n        }, __jsx(\"span\", {\n          style: {\n            color: '#000000'\n          },\n          className: \"gridMoneyText\"\n        }, \"RM \", formatMoney(price.toString())), __jsx(\"span\", {\n          className: \"wrap-condition wrap-product-ads-discount-spicydeal\"\n        }, (100 * (price - discountedPrice) / price * -1).toFixed(1).toString().replace(pattern, '') + '%'), __jsx(\"h4\", {\n          style: {\n            color: '#d62828'\n          }\n        }, \"RM \", formatMoney(discountedPrice.toString())), __jsx(\"div\", {\n          className: \"wrap-product-ads-price\"\n        }, __jsx(Row, null, __jsx(Col, {\n          xs: 14,\n          sm: 14,\n          md: 16,\n          lg: 16,\n          xl: 16\n        }, __jsx(\"span\", {\n          style: {\n            color: '#20abcc'\n          },\n          className: \"installmentPrice\"\n        }, \"RM \", formatMoney(calMonth(discountedPrice).toString()), \"/month\")))));\n      }\n\n      function renderCountdown(endDate) {\n        const duration = moment.duration(moment(endDate).diff(moment()));\n        const days = Math.floor(duration.asDays());\n        const daysFormatted = days ? `${days}` : 0;\n        const hours = duration.hours();\n        const minutes = duration.minutes();\n        const hoursFormatted = hours ? `${hours}` : 0;\n        const minutesFormatted = minutes ? `${minutes}` : 0;\n\n        const formatCountdown = (value, fixedPoint) => {\n          if (value != null) {\n            if (isNaN(parseFloat(value))) {\n              return value;\n            } else {\n              value = value.toString().split('.');\n\n              if (value[0]) {\n                if (value[0].length > fixedPoint) {\n                  value[0] = value[0].slice(value[0].length - fixedPoint);\n                }\n\n                if (value[0].length < fixedPoint) {\n                  _.forEach(_.range(fixedPoint - value[0].length), function () {\n                    value[0] = '0' + value[0];\n                  });\n                }\n\n                return value[0];\n              }\n\n              return value;\n            }\n          } else {\n            return value;\n          }\n        };\n\n        return __jsx(\"div\", {\n          className: \"wrap-product-ads-countdown-spicydeal\"\n        }, __jsx(\"span\", {\n          className: \"gridAddonMainText\",\n          style: {\n            marginLeft: '10px',\n            color: '#000000'\n          }\n        }, __jsx(\"span\", null, \"SuperDeal Ends in\")), __jsx(Row, null, __jsx(Col, {\n          xs: 14,\n          sm: 14,\n          md: 16,\n          lg: 16,\n          xl: 16\n        }, __jsx(\"p\", {\n          className: \"gridAddonDayHourSubText\"\n        }, __jsx(\"span\", {\n          style: {\n            color: '#000000'\n          },\n          className: \"gridAddonDayHourText\"\n        }, \"D \"), __jsx(\"span\", {\n          className: \"gridAddonDayHour\"\n        }, formatCountdown(daysFormatted, 2)), __jsx(\"span\", {\n          style: {\n            color: '#000000'\n          },\n          className: \"gridAddonDayHourText\"\n        }, \" H \"), __jsx(\"span\", {\n          className: \"gridAddonDayHour\"\n        }, formatCountdown(hoursFormatted, 2)), __jsx(\"span\", {\n          style: {\n            color: '#000000'\n          },\n          className: \"gridAddonDayHourText\"\n        }, \" M \"), __jsx(\"span\", {\n          className: \"gridAddonDayHour\"\n        }, formatCountdown(minutesFormatted, 2))))));\n      }\n\n      if (v.priority === 'addonKingadType') {\n        return renderShowPrice(v.price, v.addonKingadType.discountedPrice);\n      } else if (v.priority === 'addonKingadType2') {\n        return renderCountdown(v.addonKingadType2.endDate);\n      } else if (v.priority === 'addonSpicydeal') {\n        if (v.addonSpicydeal.showPrice === 'show') {\n          return renderShowPrice(v.price, v.addonSpicydeal.discountedPrice);\n        }\n\n        if (v.addonSpicydeal.showPrice === 'hide') {\n          return renderCountdown(v.addonSpicydeal.endDate);\n        }\n      } else {\n        return normalPrice;\n      }\n    });\n\n    _defineProperty(this, \"_renderPriceAffix\", () => {\n      const currentDateTime = moment().format();\n\n      const addon = _.find(this.state.productDetails.addon, {\n        'addonType': 'spicydeal'\n      });\n\n      if (addon) {\n        if (currentDateTime < addon.endDate) {\n          if (addon.addonType === 'spicydeal' && addon.showPrice === 'show') {\n            return __jsx(\"div\", {\n              className: \"wrap-viewProducts-price-affix\"\n            }, __jsx(\"label\", {\n              style: {\n                color: 'rgb(190,150,46)'\n              }\n            }, \"RM \", formatMoney((addon.discountedPrice ? addon.discountedPrice : 0).toString())), __jsx(\"p\", null, \"RM \", formatMoney(calMonth(addon.discountedPrice ? addon.discountedPrice : 0).toString()), \"/month\"));\n          } else if (addon.addonType === 'spicydeal' && addon.showPrice === 'hide') {\n            return __jsx(\"div\", {\n              className: \"wrap-viewProducts-price-affix\"\n            });\n          } else {\n            return __jsx(\"div\", {\n              className: \"wrap-viewProducts-price-affix\"\n            }, __jsx(\"label\", {\n              style: {\n                color: 'rgb(190,150,46)'\n              }\n            }, \"RM \", formatMoney((this.state.productDetails.price ? this.state.productDetails.price : 0).toString())), __jsx(\"p\", null, \"RM \", formatMoney(calMonth(this.state.productDetails.price ? this.state.productDetails.price : 0).toString()), \"/month\"));\n          }\n        } else {\n          return __jsx(\"div\", {\n            className: \"wrap-viewProducts-price-affix\"\n          }, __jsx(\"label\", {\n            style: {\n              color: 'rgb(190,150,46)'\n            }\n          }, \"RM \", formatMoney((this.state.productDetails.price ? this.state.productDetails.price : 0).toString())), __jsx(\"p\", null, \"RM \", formatMoney(calMonth(this.state.productDetails.price ? this.state.productDetails.price : 0).toString()), \"/month\"));\n        }\n      } else {\n        return __jsx(\"div\", {\n          className: \"wrap-viewProducts-price-affix\"\n        }, __jsx(\"label\", {\n          style: {\n            color: 'rgb(190,150,46)'\n          }\n        }, \"RM \", formatMoney((this.state.productDetails.price ? this.state.productDetails.price : 0).toString())), __jsx(\"p\", null, \"RM \", formatMoney(calMonth(this.state.productDetails.price ? this.state.productDetails.price : 0).toString()), \"/month\"));\n      }\n    });\n\n    this.state = {\n      currentImg: 0,\n      productDetails: props.data || {\n        condition: '',\n        companys: {},\n        carspecsAll: {},\n        registrationUrl: {}\n      },\n      show: true,\n      contactList: {},\n      visible: false,\n      submitting: false,\n      value: '',\n      rating: {},\n      scrollYPosition: 0,\n      dealerTotalAds: 0,\n      window: {},\n      soldOutModalVisible: false\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      window: window,\n      soldOutModalVisible: _.get(this.state.productDetails, ['status']) == 'sold'\n    });\n  }\n\n  UNSAFE_componentWillMount() {\n    this.props.updateActiveMenu('2');\n    this.setState({\n      typingTimeout: setTimeout(() => {\n        axios.post(`${client.io.io.uri}processCTR`, {\n          params: {\n            adsId: this.state.productDetails._id,\n            source: 'web'\n          }\n        });\n        let inputProductList = [{\n          productAdsId: this.state.productDetails._id\n        }];\n        axios.post(`${client.io.io.uri}processImpression`, {\n          params: {\n            productList: inputProductList,\n            source: 'web'\n          }\n        }).then(res => {});\n      }, 3000)\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (true) {\n      window.addEventListener('scroll', this.handleScroll, {\n        passive: true\n      });\n      return () => {\n        window.removeEventListener('scroll', this.handleScroll);\n      };\n    }\n\n    if (!_.isEqual(prevState.productDetails, this.state.productDetails)) {\n      if (_.get(this.state.productDetails, ['status']) == 'sold') {\n        this.setState({\n          soldOutModalVisible: true\n        });\n      }\n    }\n  }\n\n  _renderImages() {\n    var imgList = this.state.productDetails.carUrl ? this.state.productDetails.carUrl.map((v, i) => {\n      return __jsx(Row, {\n        key: i\n      }, __jsx(Col, {\n        span: 24\n      }, __jsx(\"div\", {\n        className: \"dot-img\",\n        onClick: () => {\n          this.setState({\n            currentImg: i\n          });\n          this.onClickShow();\n        }\n      }, this.state.currentImg === i ? __jsx(\"div\", {\n        className: \"dot-img-overlay\"\n      }) : null, __jsx(\"img\", {\n        src: v.url\n      }))));\n    }) : '';\n    return __jsx(\"div\", {\n      className: \"wrap-dot-img\",\n      id: \"wrap-dot-img\"\n    }, imgList);\n  }\n\n  dotScrollToBottom() {\n    // this.onClickShow()\n    // const objDiv = document.getElementById(\"wrap-dot-img\");\n    // objDiv.scrollTop = objDiv.scrollTop + 30;\n    let plusOne = this.state.currentImg + 1;\n\n    if (plusOne < this.state.productDetails.carUrl.length) {\n      this.onClickShow();\n      const objDiv = document.getElementById(\"wrap-dot-img\");\n      objDiv.scrollTop = objDiv.scrollTop + 30;\n      this.setState({\n        currentImg: plusOne\n      });\n    } else {\n      this.onClickShow();\n      const objDiv = document.getElementById(\"wrap-dot-img\");\n      objDiv.scrollTop = 0;\n      this.setState({\n        currentImg: 0\n      });\n    }\n  }\n\n  dotScrollToTop() {\n    // this.onClickShow()\n    // const objDiv = document.getElementById(\"wrap-dot-img\");\n    // objDiv.scrollTop = objDiv.scrollTop - 30;\n    let minusOne = this.state.currentImg - 1;\n\n    if (minusOne >= 0) {\n      this.onClickShow();\n      const objDiv = document.getElementById(\"wrap-dot-img\");\n      objDiv.scrollTop = objDiv.scrollTop - 30;\n      this.setState({\n        currentImg: this.state.currentImg - 1\n      });\n    } else {\n      this.onClickShow();\n      const objDiv = document.getElementById(\"wrap-dot-img\");\n      objDiv.scrollTop = objDiv.scrollHeight;\n      this.setState({\n        currentImg: this.state.productDetails.carUrl.length - 1\n      });\n    }\n  }\n\n  scrollToLeftBtn() {\n    let minusOne = this.state.currentImg - 1;\n\n    if (minusOne >= 0) {\n      this.onClickShow();\n      const objDiv = document.getElementById(\"wrap-dot-img\");\n      objDiv.scrollTop = objDiv.scrollTop - 104;\n      this.setState({\n        currentImg: this.state.currentImg - 1\n      });\n    } else {\n      this.onClickShow();\n      const objDiv = document.getElementById(\"wrap-dot-img\");\n      objDiv.scrollTop = objDiv.scrollHeight;\n      this.setState({\n        currentImg: this.state.productDetails.carUrl.length - 1\n      });\n    }\n  }\n\n  scrollToRightBtn() {\n    let plusOne = this.state.currentImg + 1;\n\n    if (plusOne < this.state.productDetails.carUrl.length) {\n      this.onClickShow();\n      const objDiv = document.getElementById(\"wrap-dot-img\");\n      objDiv.scrollTop = objDiv.scrollTop + 104;\n      this.setState({\n        currentImg: plusOne\n      });\n    } else {\n      this.onClickShow();\n      const objDiv = document.getElementById(\"wrap-dot-img\");\n      objDiv.scrollTop = 0;\n      this.setState({\n        currentImg: 0\n      });\n    }\n  }\n\n  _renderImagesMobile() {\n    var imgList = this.state.productDetails.carUrl ? this.state.productDetails.carUrl.map((v, i) => {\n      return __jsx(\"span\", {\n        key: i,\n        style: {\n          paddingRight: '5px'\n        }\n      }, __jsx(\"div\", {\n        onClick: () => {\n          this.setState({\n            currentImg: i\n          });\n          this.onClickShow();\n        }\n      }, __jsx(\"img\", {\n        style: {\n          width: '50px',\n          height: '40px'\n        },\n        src: v.url\n      })));\n    }) : '';\n    return __jsx(\"div\", {\n      style: {\n        overflowX: 'scroll',\n        padding: '5px'\n      }\n    }, __jsx(\"div\", {\n      style: {\n        display: 'flex'\n      },\n      className: \"wrap-dot-img-mobile\",\n      id: \"wrap-dot-img-mobile\"\n    }, imgList));\n  }\n\n  render() {\n    const {\n      comments,\n      submitting,\n      value\n    } = this.state;\n    let stateName = getStateIcon(_.get(this.state.productDetails, ['companys', 'state']) || imageNotFoundIcon);\n    let userstate = _.get(this.state.productDetails, ['createdBy', 'userstate']) || '';\n\n    if (_.isEmpty(userstate) === false) {\n      stateName = getStateIcon(userstate) || imageNotFoundIcon;\n    }\n\n    let contactList = [];\n\n    try {\n      contactList = this.state.productDetails.createdBy.contactList;\n    } catch (err) {\n      contactList = [];\n    }\n\n    if (!contactList) {\n      contactList = [];\n    }\n\n    return __jsx(LayoutV2, {\n      hideOpenApp: true\n    }, __jsx(\"div\", {\n      className: \"jsx-2239707107\" + \" \" + \"section\"\n    }, __jsx(\"div\", {\n      style: {\n        marginTop: '30px',\n        touchAction: 'pan-y'\n      },\n      className: \"jsx-2239707107\"\n    }, __jsx(Tabs, {\n      size: \"small\",\n      defaultActiveKey: \"1\",\n      onChange: callback\n    }, __jsx(TabPane, {\n      tab: \"INFO\",\n      key: \"1\"\n    }, __jsx(\"div\", {\n      style: {\n        height: '20em'\n      },\n      className: \"jsx-2239707107\" + \" \" + \"relative-wrapper width-100\"\n    }, __jsx(LightBoxGallery, {\n      images: _.isArray(_.get(this.state.productDetails, ['carUrl'])) && !_.isEmpty(_.get(this.state.productDetails, ['carUrl'])) ? _.map(_.get(this.state.productDetails, ['carUrl']) || [], 'url') : [],\n      onChange: currentIndex => {\n        this.setState({\n          currentImg: currentIndex\n        });\n      },\n      currentIndex: this.state.currentImg\n    }, (data, setCurrentIndex, setVisible) => {\n      return __jsx(\"div\", {\n        show: this.state.show,\n        className: \"jsx-2239707107\" + \" \" + \"code-box-shape\"\n      }, __jsx(\"img\", {\n        onClick: () => {\n          setVisible(true);\n        },\n        id: \"my-element\",\n        src: _.get(data, ['images', data.currentIndex]),\n        alt: `${_.get(this.state.productDetails, 'carspec.make') || ''} ${_.get(this.state.productDetails, 'carspec.model') || ''} Image ${data.currentIndex + 1}`,\n        className: \"jsx-2239707107\" + \" \" + \"fade-in cursor-pointer absolute-center-img-no-stretch\"\n      }));\n    }), __jsx(\"img\", {\n      src: stateName,\n      style: {\n        width: 60,\n        height: '30px',\n        position: 'absolute',\n        top: 0,\n        right: 0\n      },\n      alt: `${_.get(this.state.productDetails, ['companys', 'state']) || 'State Icon'}`,\n      className: \"jsx-2239707107\"\n    }), __jsx(\"span\", {\n      style: {\n        position: 'absolute',\n        top: 0,\n        left: 0\n      },\n      className: \"jsx-2239707107\" + \" \" + \"d-inline-block width-20\"\n    }, this._renderCondition(this.state.productDetails)), __jsx(\"div\", {\n      className: \"jsx-2239707107\" + \" \" + \"logo-viewProduct\"\n    }, this.state.productDetails.priority === 'addonSpicydeal' || this.state.productDetails.priority === 'addonKingadType' || this.state.productDetails.priority === 'addonKingadType2' ? __jsx(\"img\", {\n      src: rayaFlame,\n      style: {\n        width: 50,\n        height: 50\n      },\n      className: \"jsx-2239707107\"\n    }) : this.state.productDetails.priority === 'addonSpotlight' || this.state.productDetails.priority === 'addonKingadType3' ? __jsx(\"img\", {\n      src: rayaFood,\n      style: {\n        width: 50,\n        height: 50\n      },\n      className: \"jsx-2239707107\"\n    }) : __jsx(\"img\", {\n      src: \"/assets/Ccar-Spotlight.gif\",\n      style: {\n        width: 40,\n        height: 40\n      },\n      className: \"jsx-2239707107\"\n    })), _.get(this.state.productDetails, ['readyStock']) == 'Yes' ? __jsx(\"span\", {\n      className: \"jsx-2239707107\" + \" \" + \"text-align-right avatar background-green readyStockDot\"\n    }) : null), __jsx(Row, null, __jsx(Col, {\n      span: 24\n    }, this._renderImagesMobile())), __jsx(\"div\", {\n      className: \"jsx-2239707107\" + \" \" + (this._renderLayout(this.state.productDetails) || \"\")\n    }, __jsx(Row, {\n      className: \"padding-x-sm\"\n    }, __jsx(Col, {\n      span: 24\n    }, __jsx(\"span\", {\n      className: \"jsx-2239707107\" + \" \" + \"flex-items-align-center flex-justify-space-between\"\n    }, __jsx(\"span\", {\n      className: \"jsx-2239707107\" + \" \" + \"d-inline-block flex-justify-start\"\n    }, __jsx(\"p\", {\n      style: {\n        marginBottom: '0px',\n        fontWeight: '500',\n        color: '#000000'\n      },\n      className: \"jsx-2239707107\"\n    }, \" \", this.state.productDetails.createdBy.namePrefix, \" \", this.state.productDetails.createdBy.fullName)), __jsx(\"span\", {\n      className: \"jsx-2239707107\" + \" \" + \"d-inline-block flex-justify-end\"\n    }, __jsx(Wishlist, {\n      type: \"product\",\n      productId: this.state.productDetails._id,\n      saverId: this.props.user.authenticated ? this.props.user.info.user._id : null,\n      savedButton: () => __jsx(Button, {\n        className: \"padding-x-sm\",\n        style: {\n          border: 'none',\n          height: '16px'\n        }\n      }, __jsx(Icon, {\n        type: \"heart\",\n        theme: \"filled\",\n        style: {\n          color: '#F9A825'\n        }\n      }), \" \", __jsx(\"span\", {\n        style: {\n          color: '#F9A825'\n        },\n        className: \"jsx-2239707107\"\n      }, \"Saved\")),\n      saveButton: () => __jsx(Button, {\n        style: {\n          border: 'none',\n          height: '16px'\n        },\n        className: \"padding-x-sm\"\n      }, __jsx(HeartOutlined, null)),\n      handleError: e => {\n        message.error(e.message);\n      },\n      handleSuccess: e => {\n        message.success(e.type === 'remove' ? 'Removed from wishlist' : 'Saved to wishlist');\n      }\n    }))), __jsx(\"p\", {\n      style: {\n        marginBottom: '0px',\n        color: '#757575',\n        fontWeight: '700'\n      },\n      className: \"jsx-2239707107\"\n    }, \" \", this.state.productDetails.companys.name), __jsx(\"div\", {\n      className: \"jsx-2239707107\" + \" \" + \"text-truncate-twoline\"\n    }, __jsx(\"h4\", {\n      style: {\n        marginBottom: '0px'\n      },\n      className: \"jsx-2239707107\"\n    }, this.state.productDetails.title)))), __jsx(\"div\", {\n      className: \"jsx-2239707107\"\n    }, this.state.productDetails.priority === 'addonSpicydeal' || this.state.productDetails.priority === 'addonKingadType' || this.state.productDetails.priority === 'addonKingadType2' ? __jsx(\"img\", {\n      src: rayaMosque,\n      style: {\n        width: 150,\n        height: 150,\n        position: 'absolute',\n        top: 15,\n        right: 0\n      },\n      className: \"jsx-2239707107\"\n    }) : this.state.productDetails.priority === 'addonSpotlight' || this.state.productDetails.priority === 'addonKingadType3' ? __jsx(\"img\", {\n      src: rayaPeople,\n      style: {\n        width: 150,\n        height: 150,\n        position: 'absolute',\n        top: 15,\n        right: 0\n      },\n      className: \"jsx-2239707107\"\n    }) : null, __jsx(\"div\", {\n      className: \"jsx-2239707107\" + \" \" + \"padding-x-sm\"\n    }, __jsx(Row, null, __jsx(Col, {\n      span: 15\n    }, this._renderPrice()), __jsx(Col, {\n      span: 24,\n      className: \"margin-top-md\"\n    }, __jsx(\"span\", {\n      style: {\n        minWidth: '50px'\n      },\n      className: \"jsx-2239707107\" + \" \" + \"d-inline-block margin-xs\"\n    }, __jsx(WhatsAppButton, {\n      readOnly: _.get(this.state, 'productDetails.status') != 'approved',\n      mobileNumber: this.state.productDetails\n    })), __jsx(\"span\", {\n      style: {\n        minWidth: '50px'\n      },\n      className: \"jsx-2239707107\" + \" \" + \"d-inline-block margin-xs\"\n    }, __jsx(ContactList, {\n      companys: this.state.productDetails.companys,\n      contactPerson: notEmptyLength(this.state.productDetails.createdBy) ? this.state.productDetails.createdBy : null\n    })), __jsx(\"span\", {\n      className: \"jsx-2239707107\" + \" \" + \"d-inline-block\"\n    }, __jsx(AddCompareProductButton, {\n      readOnly: _.get(this.state, 'productDetails.status') != 'approved',\n      data: this.state.productDetails,\n      saveButton: () => {\n        return __jsx(Button, {\n          type: \"normal\",\n          className: \"padding-x-sm margin-xs ads-purchase-compare-btn\",\n          style: {\n            minWidth: '50px'\n          }\n        }, __jsx(\"img\", {\n          src: \"/assets/CarListingIconMobile/car-compare.png\",\n          style: {\n            width: '25px',\n            height: '25px'\n          },\n          alt: \"compare\",\n          className: \"jsx-2239707107\"\n        }));\n      },\n      savedButton: () => {\n        return __jsx(Button, {\n          type: \"normal\",\n          className: \"padding-x-sm margin-xs ads-purchase-button\",\n          style: {\n            minWidth: '50px',\n            background: 'rgb(89, 54, 26)'\n          }\n        }, __jsx(\"img\", {\n          src: \"/assets/CarListingIconMobile/car-compare.png\",\n          style: {\n            width: '25px',\n            height: '25px'\n          },\n          alt: \"compare\",\n          className: \"jsx-2239707107\"\n        }));\n      }\n    })), __jsx(\"span\", {\n      className: \"jsx-2239707107\" + \" \" + \"d-inline-block\"\n    }, __jsx(Car360ViewButton, {\n      id: this.state.productDetails.xmlUrl ? this.state.productDetails._id : null\n    }, __jsx(Button, {\n      type: \"normal\",\n      className: `padding-x-sm margin-xs ${this.state.productDetails.xmlUrl ? 'cursor-pointer' : 'cursor-not-allowed '}`,\n      style: {\n        background: this.state.productDetails.xmlUrl ? 'rgb(85,204,212)' : 'rgb(237, 236, 234)',\n        borderColor: this.state.productDetails.xmlUrl ? 'rgb(85,204,212)' : 'rgb(237, 236, 234)',\n        minWidth: '50px'\n      }\n    }, __jsx(\"img\", {\n      src: \"/assets/profile/icon-list/Ccar-360_1.gif\",\n      style: {\n        width: '25px',\n        height: '25px'\n      },\n      alt: \"Car 360 View Icon\",\n      className: \"jsx-2239707107\"\n    })))), __jsx(\"span\", {\n      style: {\n        width: '50px'\n      },\n      className: \"jsx-2239707107\" + \" \" + \"d-inline-block\"\n    }, __jsx(RegisterCard, {\n      key: \"register\",\n      button: [__jsx(Tooltip, {\n        key: \"tooltipsregister\",\n        title: \"Registration Card\"\n      }, __jsx(Button, {\n        type: \"normal\",\n        className: `w-100 ads-purchase-button margin-xs ${_.isArray(_.get(this.state.productDetails, ['registrationUrl'])) && !_.isEmpty(_.get(this.state.productDetails, ['registrationUrl'])) ? 'cursor-pointer' : 'cursor-not-allowed '}`,\n        style: {\n          padding: 0,\n          background: _.isArray(_.get(this.state.productDetails, ['registrationUrl'])) && !_.isEmpty(_.get(this.state.productDetails, ['registrationUrl'])) ? 'rgb(209 ,110, 132)' : 'rgb(237, 236, 234)',\n          borderColor: _.isArray(_.get(this.state.productDetails, ['registrationUrl'])) && !_.isEmpty(_.get(this.state.productDetails, ['registrationUrl'])) ? 'rgb(209 ,110, 132)' : 'rgb(237, 236, 234)'\n        }\n      }, __jsx(\"img\", {\n        src: \"/assets/CarListingIconMobile/registration-card.png\",\n        alt: \"Registration Card Icon\",\n        className: \"jsx-2239707107\"\n      })))],\n      registrationUrl: this.state.productDetails.registrationUrl ? this.state.productDetails.registrationUrl : []\n    })), __jsx(\"span\", {\n      style: {\n        minWidth: '50px'\n      },\n      className: \"jsx-2239707107\" + \" \" + \"d-inline-block margin-xs\"\n    }, __jsx(CalculatorModal, {\n      data: {\n        price: this.state.productDetails.price,\n        downpayment: this.state.productDetails.price * 0.1,\n        loanPeriod: 9,\n        interestRate: 3\n      }\n    })))), __jsx(\"div\", {\n      className: \"jsx-2239707107\" + \" \" + \"margin-top-md\"\n    }, __jsx(KeyCarDetails, {\n      productDetails: this.state.productDetails\n    })), this.state.productDetails.features.length > 0 ? __jsx(\"div\", {\n      className: \"jsx-2239707107\" + \" \" + \"margin-top-md\"\n    }, __jsx(\"h4\", {\n      className: \"jsx-2239707107\"\n    }, \"Key Features\"), __jsx(KeyFeatures, {\n      productDetails: this.state.productDetails\n    })) : null, __jsx(\"div\", {\n      className: \"jsx-2239707107\" + \" \" + \"padding-lg relative-wrapper\"\n    }, __jsx(SellerBusinessCard, {\n      data: this.state.productDetails.companys,\n      data1: this.state.productDetails.createdBy\n    })))))), __jsx(TabPane, {\n      tab: \"SELLER'S COMMENT\",\n      key: \"2\"\n    }, __jsx(Row, {\n      gutter: [10, 10],\n      style: {\n        marginTop: '10px'\n      }\n    }, __jsx(Col, {\n      className: \"gutter-row\",\n      xs: 24,\n      sm: 24,\n      md: 24,\n      lg: 24,\n      xl: 24\n    }, __jsx(Description, {\n      productDetails: this.state.productDetails\n    })))), __jsx(TabPane, {\n      tab: \"EQUIPMENT\",\n      key: \"3\"\n    }, __jsx(Row, {\n      gutter: [10, 10],\n      style: {\n        marginTop: '10px'\n      }\n    }, __jsx(Col, {\n      className: \"gutter-row\",\n      xs: 24,\n      sm: 24,\n      md: 24,\n      lg: 24,\n      xl: 24\n    }, __jsx(Equipment, {\n      productDetails: this.state.productDetails\n    })))), __jsx(TabPane, {\n      tab: \"SPECIFICATION\",\n      key: \"4\"\n    }, __jsx(Row, {\n      gutter: [10, 10],\n      style: {\n        marginTop: '10px'\n      }\n    }, __jsx(Col, {\n      className: \"gutter-row\",\n      xs: 24,\n      sm: 24,\n      md: 24,\n      lg: 24,\n      xl: 24\n    }, __jsx(Specification, {\n      productDetails: this.state.productDetails\n    }))))))), __jsx(\"div\", {\n      style: {\n        position: '-webkit-sticky',\n        position: 'sticky',\n        bottom: 0,\n        zIndex: 999999\n      },\n      className: \"jsx-2239707107\" + \" \" + 'width-100'\n    }, __jsx(\"div\", {\n      className: \"jsx-2239707107\" + \" \" + \"background-white broder-top-grey thin-border padding-y-sm\"\n    }, __jsx(Row, {\n      className: \"padding-top-sm fixed-container\",\n      style: {\n        backgroundColor: '#ffffff'\n      }\n    }, __jsx(Col, {\n      xs: 24,\n      sm: 24,\n      md: 24,\n      lg: 24,\n      xl: 24\n    }, __jsx(\"span\", {\n      className: \"jsx-2239707107\" + \" \" + 'flex-items-align-center text-align-center'\n    }, __jsx(Col, {\n      span: 8\n    }, contactList.length > 0 ? __jsx(ContactList, {\n      mobileResponsive: \"yes\",\n      companys: this.state.productDetails.companys,\n      contactPerson: notEmptyLength(this.state.productDetails.createdBy) ? this.state.productDetails.createdBy : null\n    }) : __jsx(\"a\", {\n      href: `tel:${this.state.productDetails.createdBy.contactNoPrimary}`,\n      className: \"jsx-2239707107\"\n    }, __jsx(\"img\", {\n      src: \"https://img.icons8.com/android/24/25D366/phone.png\",\n      className: \"jsx-2239707107\"\n    }))), __jsx(Col, {\n      span: 8\n    }, __jsx(WhatsAppViewProduct, {\n      mobileNumber: this.state.productDetails\n    })), __jsx(Col, {\n      span: 8\n    }, __jsx(ShareViewProduct, {\n      title: `CCAR.my | ${this.state.productDetails.title}`\n    }))))))), __jsx(_JSXStyle, {\n      id: \"2239707107\"\n    }, \"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9mYXJhaGVlbi9jY2FyLWNtcy1uZXh0LW1vYmlsZS9jb21wb25lbnRzL3Byb2R1Y3QtbGlzdC9wYWdlL1ZpZXdDYXJEZXRhaWxzUGFnZS5qc3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBcXJCeUMiLCJmaWxlIjoiL1VzZXJzL2ZhcmFoZWVuL2NjYXItY21zLW5leHQtbW9iaWxlL2NvbXBvbmVudHMvcHJvZHVjdC1saXN0L3BhZ2UvVmlld0NhckRldGFpbHNQYWdlLmpzeCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIERvd25PdXRsaW5lZCxcbiAgSGVhcnRPdXRsaW5lZCxcbiAgTGVmdE91dGxpbmVkLFxuICBSaWdodE91dGxpbmVkLCBVcE91dGxpbmVkXG59IGZyb20gJ0BhbnQtZGVzaWduL2ljb25zJztcbmltcG9ydCB7IEJyZWFkY3J1bWIsIEJ1dHRvbiwgQ2FyZCwgQ29sLCBEaXZpZGVyLCBJY29uLCBJbnB1dCwgbWVzc2FnZSwgTW9kYWwsIFJvdywgVG9vbHRpcCwgVGFicyB9IGZyb20gJ2FudGQnO1xuaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgeyB3aXRoUm91dGVyIH0gZnJvbSAnbmV4dC9yb3V0ZXInO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgeyB1c2VNZWRpYVF1ZXJ5IH0gZnJvbSAncmVhY3QtcmVzcG9uc2l2ZSc7XG5pbXBvcnQgeyBiaW5kQWN0aW9uQ3JlYXRvcnMgfSBmcm9tIFwicmVkdXhcIjtcbmltcG9ydCB7IGZsYW1lLCBzb2xkT3V0SWNvbiB9IGZyb20gJy4uLy4uLy4uL2ljb24nO1xuaW1wb3J0IHsgbG9hZGluZywgcXVpY2tTZWFyY2hQcm9kdWN0c0xpc3QsIHNob3dDb250YWN0TGlzdCwgdXBkYXRlQWN0aXZlTWVudSB9IGZyb20gJy4uLy4uLy4uL3JlZHV4L2FjdGlvbnMvYXBwLWFjdGlvbnMnO1xuaW1wb3J0IHsgdXBkYXRlQWN0aXZlSWRQcm9kdWN0TGlzdCB9IGZyb20gJy4uLy4uLy4uL3JlZHV4L2FjdGlvbnMvcHJvZHVjdHNMaXN0LWFjdGlvbnMnO1xuaW1wb3J0IHsgY2FsTW9udGgsIGZvcm1hdE1vbmV5IH0gZnJvbSAnLi4vLi4vLi4vZnVuY3Rpb25Db250ZW50JztcbmltcG9ydCBjbGllbnQgZnJvbSAnLi4vLi4vLi4vZmVhdGhlcnMnO1xuaW1wb3J0IHsgc2V0VXNlciB9IGZyb20gJy4uLy4uLy4uL3JlZHV4L2FjdGlvbnMvdXNlci1hY3Rpb25zJztcbmltcG9ydCB7IGltYWdlTm90Rm91bmRJY29uIH0gZnJvbSAnLi4vLi4vLi4vcGFyYW1zL2NvbW1vbic7XG5pbXBvcnQgTGF5b3V0VjIgZnJvbSAnLi4vLi4vZ2VuZXJhbC9MYXlvdXRWMic7XG5pbXBvcnQgVXNlckF2YXRhciBmcm9tICcuLi8uLi9nZW5lcmFsL1VzZXJBdmF0YXInO1xuaW1wb3J0IEFkZENvbXBhcmVQcm9kdWN0QnV0dG9uIGZyb20gJy4uLy4uL2dlbmVyYWwvYWRkLWNvbXBhcmUtcHJvZHVjdC1idXR0b24nO1xuaW1wb3J0IENhbGN1bGF0b3JNb2RhbCBmcm9tICcuLi8uLi9nZW5lcmFsL2NhbGN1bGF0b3ItbW9kYWwnO1xuaW1wb3J0IENhcjM2MFZpZXdCdXR0b24gZnJvbSAnLi4vLi4vZ2VuZXJhbC9jYXItMzYwLXZpZXctYnV0dG9uJztcbmltcG9ydCBMaWdodEJveEdhbGxlcnkgZnJvbSAnLi4vLi4vZ2VuZXJhbC9saWdodC1ib3gtZ2FsbGVyeSc7XG5pbXBvcnQgeyBjb252ZXJ0UGFyYW1ldGVyVG9Qcm9kdWN0TGlzdFVybCwgZm9ybWF0TnVtYmVyLCBnZXRVc2VyTmFtZSwgbm90RW1wdHlMZW5ndGggfSBmcm9tICcuLi8uLi8uLi9jb21tb24tZnVuY3Rpb24nO1xuaW1wb3J0IFNlbGxlckJ1c2luZXNzQ2FyZCBmcm9tICcuLi8uLi9zZWxsZXIvU2VsbGVyQnVzaW5lc3NDYXJkJztcbmltcG9ydCBXaGF0c0FwcEJ1dHRvbiBmcm9tICcuLi8uLi9nZW5lcmFsL3doYXRhcHBzLWJ1dHRvbic7XG5pbXBvcnQgV2hhdHNBcHBWaWV3UHJvZHVjdCBmcm9tICcuLi8uLi9nZW5lcmFsL3dzLWJ1dHRvbi1wcm9kdWN0JztcbmltcG9ydCBDb250YWN0TGlzdCBmcm9tICcuLi8uLi9nZW5lcmFsL2NvbnRhY3RMaXN0JztcbmltcG9ydCBXaXNobGlzdCBmcm9tICcuLi8uLi9nZW5lcmFsL1dpc2hsaXN0JztcbmltcG9ydCBTaGFyZUJ1dHRvbkRpYWxvZyBmcm9tICcuLi8uLi9nZW5lcmFsL1NoYXJlQnV0dG9uRGlhbG9nJztcbmltcG9ydCBTaGFyZVZpZXdQcm9kdWN0IGZyb20gJy4uLy4uL2dlbmVyYWwvc2hhcmUtdmlldy1wcm9kdWN0JztcbmltcG9ydCB7IGdldFN0YXRlSWNvbiB9IGZyb20gJy4uLy4uLy4uL3BhcmFtcy9zdGF0ZUxpc3QnO1xuaW1wb3J0IFJlZ2lzdGVyQ2FyZCBmcm9tICcuLi8uLi9nZW5lcmFsL3JlZ2lzdGVyQ2FyZCc7XG5pbXBvcnQgS2V5Q2FyRGV0YWlscyBmcm9tICcuLi9LZXlDYXJEZXRhaWxzJztcbmltcG9ydCBLZXlGZWF0dXJlcyBmcm9tICcuLi9rZXktZmVhdHVyZXMnO1xuaW1wb3J0IExpbmsgZnJvbSAnbmV4dC9saW5rJztcbmltcG9ydCBEZXNjcmlwdGlvbiBmcm9tICcuLi9EZXNjcmlwdGlvbic7XG5pbXBvcnQgRXF1aXBtZW50IGZyb20gJy4uL2VxdWlwbWVudCc7XG5pbXBvcnQgU3BlY2lmaWNhdGlvbiBmcm9tICcuLi9zcGVjaWZpY2F0aW9uJztcbmltcG9ydCB7IHJvdXRlUGF0aHMgfSBmcm9tICcuLi8uLi8uLi9yb3V0ZSc7XG5pbXBvcnQgeyBmbGFtZVJlZCwgcmF5YUZsYW1lLCByYXlhRm9vZCwgcmF5YUxhbXAsIHJheWFNb3NxdWUsIHJheWFQZW9wbGUgfSBmcm9tICcuLi8uLi8uLi9pY29uJztcblxuXG5jb25zdCB7IFRleHRBcmVhIH0gPSBJbnB1dDtcblxuY29uc3QgYWR2ZXJJbWcgPSBcIi9hZHZlcnRpc2VtZW50LmpwZ1wiXG5cbmNvbnN0IERpdiA9IChwcm9wcykgPT4ge1xuICBjb25zdCBjaGlsZHJlblByb3BzID0geyAuLi5wcm9wcyB9O1xuICBkZWxldGUgY2hpbGRyZW5Qcm9wcy5zaG93O1xuICByZXR1cm4gPGRpdiB7Li4uY2hpbGRyZW5Qcm9wc30gLz47XG59O1xuXG5jb25zdCB7IFRhYlBhbmUgfSA9IFRhYnM7XG5mdW5jdGlvbiBjYWxsYmFjayhrZXkpIHtcbiAgICBjb25zb2xlLmxvZyhrZXkpO1xufSAgXG5cbmNsYXNzIFZpZXdDYXJEZXRhaWxzUGFnZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBjdXJyZW50SW1nOiAwLFxuICAgICAgcHJvZHVjdERldGFpbHM6IHByb3BzLmRhdGEgfHwgeyBjb25kaXRpb246ICcnLCBjb21wYW55czoge30sIGNhcnNwZWNzQWxsOiB7fSwgcmVnaXN0cmF0aW9uVXJsOiB7fSB9LFxuICAgICAgc2hvdzogdHJ1ZSxcbiAgICAgIGNvbnRhY3RMaXN0OiB7fSxcbiAgICAgIHZpc2libGU6IGZhbHNlLFxuICAgICAgc3VibWl0dGluZzogZmFsc2UsXG4gICAgICB2YWx1ZTogJycsXG4gICAgICByYXRpbmc6IHtcbiAgICAgIH0sXG4gICAgICBzY3JvbGxZUG9zaXRpb246IDAsXG4gICAgICBkZWFsZXJUb3RhbEFkczogMCxcbiAgICAgIHdpbmRvdzoge30sXG4gICAgICBzb2xkT3V0TW9kYWxWaXNpYmxlOiBmYWxzZSxcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHdpbmRvdzogd2luZG93LFxuICAgICAgc29sZE91dE1vZGFsVmlzaWJsZTogXy5nZXQodGhpcy5zdGF0ZS5wcm9kdWN0RGV0YWlscywgWydzdGF0dXMnXSkgPT0gJ3NvbGQnLFxuICAgIH0pXG4gIH1cblxuICBVTlNBRkVfY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgIHRoaXMucHJvcHMudXBkYXRlQWN0aXZlTWVudSgnMicpO1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuXG4gICAgICB0eXBpbmdUaW1lb3V0OiBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgYXhpb3MucG9zdChgJHtjbGllbnQuaW8uaW8udXJpfXByb2Nlc3NDVFJgLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICBhZHNJZDogdGhpcy5zdGF0ZS5wcm9kdWN0RGV0YWlscy5faWQsXG4gICAgICAgICAgICAgIHNvdXJjZTogJ3dlYicsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgbGV0IGlucHV0UHJvZHVjdExpc3QgPSBbeyBwcm9kdWN0QWRzSWQ6IHRoaXMuc3RhdGUucHJvZHVjdERldGFpbHMuX2lkIH1dXG4gICAgICAgIGF4aW9zLnBvc3QoYCR7Y2xpZW50LmlvLmlvLnVyaX1wcm9jZXNzSW1wcmVzc2lvbmAsXG4gICAgICAgICAge1xuICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgIHByb2R1Y3RMaXN0OiBpbnB1dFByb2R1Y3RMaXN0LFxuICAgICAgICAgICAgICBzb3VyY2U6ICd3ZWInLFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pLnRoZW4oKHJlcykgPT4geyB9KVxuXG5cbiAgICAgIH0sIDMwMDApXG4gICAgfSlcbiAgfVxuICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzLCBwcmV2U3RhdGUpIHtcblxuICAgIGlmICh0eXBlb2YgKHdpbmRvdykgIT0gdW5kZWZpbmVkKSB7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5oYW5kbGVTY3JvbGwsIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcblxuICAgICAgcmV0dXJuICgpID0+IHtcblxuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5oYW5kbGVTY3JvbGwpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAoIV8uaXNFcXVhbChwcmV2U3RhdGUucHJvZHVjdERldGFpbHMsIHRoaXMuc3RhdGUucHJvZHVjdERldGFpbHMpKSB7XG4gICAgICBpZiAoXy5nZXQodGhpcy5zdGF0ZS5wcm9kdWN0RGV0YWlscywgWydzdGF0dXMnXSkgPT0gJ3NvbGQnKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIHNvbGRPdXRNb2RhbFZpc2libGU6IHRydWUsXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuXG5cbiAgfVxuXG4gIG9uQ2xpY2tTaG93ID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgc2hvdzogIXRoaXMuc3RhdGUuc2hvdyxcbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZVNjcm9sbCA9IChlKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBzY3JvbGxZUG9zaXRpb246IHRoaXMuc3RhdGUud2luZG93LnNjcm9sbFksXG4gICAgfSlcblxuICB9O1xuXG4gIF9yZW5kZXJJbWFnZXMoKSB7XG4gICAgdmFyIGltZ0xpc3QgPSB0aGlzLnN0YXRlLnByb2R1Y3REZXRhaWxzLmNhclVybCA/XG4gICAgICB0aGlzLnN0YXRlLnByb2R1Y3REZXRhaWxzLmNhclVybC5tYXAoKHYsIGkpID0+IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8Um93IGtleT17aX0+XG4gICAgICAgICAgICA8Q29sIHNwYW49ezI0fT5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkb3QtaW1nXCIgb25DbGljaz17KCkgPT4geyB0aGlzLnNldFN0YXRlKHsgY3VycmVudEltZzogaSB9KTsgdGhpcy5vbkNsaWNrU2hvdygpIH19PlxuICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmN1cnJlbnRJbWcgPT09IGkgP1xuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkb3QtaW1nLW92ZXJsYXlcIj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PiA6IG51bGx9XG4gICAgICAgICAgICAgICAgPGltZyBzcmM9e3YudXJsfSAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvQ29sPlxuICAgICAgICAgIDwvUm93PlxuICAgICAgICApO1xuICAgICAgfSkgOiAnJztcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIndyYXAtZG90LWltZ1wiIGlkPVwid3JhcC1kb3QtaW1nXCI+XG4gICAgICAgIHtpbWdMaXN0fVxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG5cblxuICBkb3RTY3JvbGxUb0JvdHRvbSgpIHtcbiAgICAvLyB0aGlzLm9uQ2xpY2tTaG93KClcbiAgICAvLyBjb25zdCBvYmpEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIndyYXAtZG90LWltZ1wiKTtcbiAgICAvLyBvYmpEaXYuc2Nyb2xsVG9wID0gb2JqRGl2LnNjcm9sbFRvcCArIDMwO1xuICAgIGxldCBwbHVzT25lID0gdGhpcy5zdGF0ZS5jdXJyZW50SW1nICsgMVxuICAgIGlmIChwbHVzT25lIDwgdGhpcy5zdGF0ZS5wcm9kdWN0RGV0YWlscy5jYXJVcmwubGVuZ3RoKSB7XG4gICAgICB0aGlzLm9uQ2xpY2tTaG93KClcbiAgICAgIGNvbnN0IG9iakRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwid3JhcC1kb3QtaW1nXCIpO1xuICAgICAgb2JqRGl2LnNjcm9sbFRvcCA9IG9iakRpdi5zY3JvbGxUb3AgKyAzMDtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBjdXJyZW50SW1nOiBwbHVzT25lIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMub25DbGlja1Nob3coKVxuICAgICAgY29uc3Qgb2JqRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ3cmFwLWRvdC1pbWdcIik7XG4gICAgICBvYmpEaXYuc2Nyb2xsVG9wID0gMDtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBjdXJyZW50SW1nOiAwIH0pXG4gICAgfVxuICB9XG5cbiAgZG90U2Nyb2xsVG9Ub3AoKSB7XG4gICAgLy8gdGhpcy5vbkNsaWNrU2hvdygpXG4gICAgLy8gY29uc3Qgb2JqRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ3cmFwLWRvdC1pbWdcIik7XG4gICAgLy8gb2JqRGl2LnNjcm9sbFRvcCA9IG9iakRpdi5zY3JvbGxUb3AgLSAzMDtcbiAgICBsZXQgbWludXNPbmUgPSB0aGlzLnN0YXRlLmN1cnJlbnRJbWcgLSAxXG4gICAgaWYgKG1pbnVzT25lID49IDApIHtcbiAgICAgIHRoaXMub25DbGlja1Nob3coKVxuICAgICAgY29uc3Qgb2JqRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ3cmFwLWRvdC1pbWdcIik7XG4gICAgICBvYmpEaXYuc2Nyb2xsVG9wID0gb2JqRGl2LnNjcm9sbFRvcCAtIDMwO1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGN1cnJlbnRJbWc6IHRoaXMuc3RhdGUuY3VycmVudEltZyAtIDEgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5vbkNsaWNrU2hvdygpXG4gICAgICBjb25zdCBvYmpEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIndyYXAtZG90LWltZ1wiKTtcbiAgICAgIG9iakRpdi5zY3JvbGxUb3AgPSBvYmpEaXYuc2Nyb2xsSGVpZ2h0O1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGN1cnJlbnRJbWc6IHRoaXMuc3RhdGUucHJvZHVjdERldGFpbHMuY2FyVXJsLmxlbmd0aCAtIDEgfSlcbiAgICB9XG4gIH1cblxuICBzY3JvbGxUb0xlZnRCdG4oKSB7XG4gICAgbGV0IG1pbnVzT25lID0gdGhpcy5zdGF0ZS5jdXJyZW50SW1nIC0gMVxuICAgIGlmIChtaW51c09uZSA+PSAwKSB7XG4gICAgICB0aGlzLm9uQ2xpY2tTaG93KClcbiAgICAgIGNvbnN0IG9iakRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwid3JhcC1kb3QtaW1nXCIpO1xuICAgICAgb2JqRGl2LnNjcm9sbFRvcCA9IG9iakRpdi5zY3JvbGxUb3AgLSAxMDQ7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgY3VycmVudEltZzogdGhpcy5zdGF0ZS5jdXJyZW50SW1nIC0gMSB9KVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm9uQ2xpY2tTaG93KClcbiAgICAgIGNvbnN0IG9iakRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwid3JhcC1kb3QtaW1nXCIpO1xuICAgICAgb2JqRGl2LnNjcm9sbFRvcCA9IG9iakRpdi5zY3JvbGxIZWlnaHQ7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgY3VycmVudEltZzogdGhpcy5zdGF0ZS5wcm9kdWN0RGV0YWlscy5jYXJVcmwubGVuZ3RoIC0gMSB9KVxuICAgIH1cbiAgfVxuXG4gIHNjcm9sbFRvUmlnaHRCdG4oKSB7XG4gICAgbGV0IHBsdXNPbmUgPSB0aGlzLnN0YXRlLmN1cnJlbnRJbWcgKyAxXG4gICAgaWYgKHBsdXNPbmUgPCB0aGlzLnN0YXRlLnByb2R1Y3REZXRhaWxzLmNhclVybC5sZW5ndGgpIHtcbiAgICAgIHRoaXMub25DbGlja1Nob3coKVxuICAgICAgY29uc3Qgb2JqRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ3cmFwLWRvdC1pbWdcIik7XG4gICAgICBvYmpEaXYuc2Nyb2xsVG9wID0gb2JqRGl2LnNjcm9sbFRvcCArIDEwNDtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBjdXJyZW50SW1nOiBwbHVzT25lIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMub25DbGlja1Nob3coKVxuICAgICAgY29uc3Qgb2JqRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ3cmFwLWRvdC1pbWdcIik7XG4gICAgICBvYmpEaXYuc2Nyb2xsVG9wID0gMDtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBjdXJyZW50SW1nOiAwIH0pXG4gICAgfVxuICB9XG5cbiAgYnJlYWRjcnVtYlNlYXJjaENvbmRpdGlvbiA9ICh2KSA9PiB7XG5cbiAgICBsZXQgcGF0aCA9IGNvbnZlcnRQYXJhbWV0ZXJUb1Byb2R1Y3RMaXN0VXJsKHsgY29uZGl0aW9uOiB2IH0pO1xuICAgIHRoaXMucHJvcHMucm91dGVyLnB1c2gocGF0aCk7XG5cbiAgfVxuXG4gIGJyZWFkY3J1bWJTZWFyY2hNYWtlID0gKHYpID0+IHtcblxuICAgIGxldCBwYXRoID0gY29udmVydFBhcmFtZXRlclRvUHJvZHVjdExpc3RVcmwoeyBtYWtlOiB2LnRvTG93ZXJDYXNlKCkgfSk7XG4gICAgdGhpcy5wcm9wcy5yb3V0ZXIucHVzaChwYXRoKTtcbiAgfVxuXG4gIGJyZWFkY3J1bWJTZWFyY2hNb2RlbCA9ICh2KSA9PiB7XG5cbiAgICBsZXQgcGF0aCA9IGNvbnZlcnRQYXJhbWV0ZXJUb1Byb2R1Y3RMaXN0VXJsKHsgbW9kZWw6IHYudG9Mb3dlckNhc2UoKSB9KTtcbiAgICB0aGlzLnByb3BzLnJvdXRlci5wdXNoKHBhdGgpO1xuICB9XG5cbiAgX3JlbmRlckNvbmRpdGlvbiA9ICh2KSA9PiB7XG4gICAgaWYgKHYuY29uZGl0aW9uID09PSAnbmV3Jykge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3cmFwLWNvbmRpdGlvbiB3cmFwLWNvbmRpdGlvbi1uZXdcIj5cbiAgICAgICAgICA8cCBzdHlsZT17e3RleHRUcmFuc2Zvcm06J3VwcGVyY2FzZSd9fT57di5jb25kaXRpb259PC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKHYuY29uZGl0aW9uID09PSAndXNlZCcpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwid3JhcC1jb25kaXRpb24gd3JhcC1jb25kaXRpb24tdXNlZFwiPlxuICAgICAgICAgIDxwIHN0eWxlPXt7dGV4dFRyYW5zZm9ybTondXBwZXJjYXNlJ319Pnt2LmNvbmRpdGlvbn08L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAodi5jb25kaXRpb24gPT09ICdyZWNvbicpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwid3JhcC1jb25kaXRpb24gd3JhcC1jb25kaXRpb24tcmVjb25cIj5cbiAgICAgICAgICA8cCBzdHlsZT17e3RleHRUcmFuc2Zvcm06J3VwcGVyY2FzZSd9fT57di5jb25kaXRpb259PC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3cmFwLWNvbmRpdGlvbiB3cmFwLWNvbmRpdGlvbi1kZWZhdWx0XCI+XG4gICAgICAgICAgPHAgc3R5bGU9e3t0ZXh0VHJhbnNmb3JtOid1cHBlcmNhc2UnfX0+e3YuY29uZGl0aW9ufTwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICApXG4gICAgfVxuICB9XG5cbiAgX3JlbmRlckltYWdlc01vYmlsZSgpe1xuICAgIHZhciBpbWdMaXN0ID0gdGhpcy5zdGF0ZS5wcm9kdWN0RGV0YWlscy5jYXJVcmwgP1xuICAgIHRoaXMuc3RhdGUucHJvZHVjdERldGFpbHMuY2FyVXJsLm1hcCgodiwgaSkgPT4ge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8c3BhbiBrZXk9e2l9IHN0eWxlPXt7cGFkZGluZ1JpZ2h0Oic1cHgnfX0+XG4gICAgICAgICAgICA8ZGl2IG9uQ2xpY2s9eygpID0+IHsgdGhpcy5zZXRTdGF0ZSh7IGN1cnJlbnRJbWc6IGkgfSk7IHRoaXMub25DbGlja1Nob3coKSB9fT5cbiAgICAgICAgICAgICAgey8qIHt0aGlzLnN0YXRlLmN1cnJlbnRJbWcgPT09IGkgP1xuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZG90LWltZy1vdmVybGF5XCI+XG4gICAgICAgICAgICAgICAgPC9kaXY+IFxuICAgICAgICAgICAgICAgIDogbnVsbH0gKi99XG4gICAgICAgICAgICAgIDxpbWcgc3R5bGU9e3t3aWR0aDonNTBweCcsIGhlaWdodDonNDBweCd9fSBzcmM9e3YudXJsfSAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgKTtcbiAgICB9KSA6ICcnO1xuICByZXR1cm4gKFxuICAgIDxkaXYgc3R5bGU9e3tvdmVyZmxvd1g6J3Njcm9sbCcsIHBhZGRpbmc6JzVweCd9fT5cbiAgICAgIDxkaXYgc3R5bGU9e3tkaXNwbGF5OidmbGV4J319IGNsYXNzTmFtZT1cIndyYXAtZG90LWltZy1tb2JpbGVcIiBpZD1cIndyYXAtZG90LWltZy1tb2JpbGVcIj5cbiAgICAgICAge2ltZ0xpc3R9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5fcmVuZGVyTGF5b3V0ID0gKHYpID0+IHsgXG4gIGlmICghdi5wcmlvcml0eSkgeyByZXR1cm4gKCd3cmFwLXByb2R1Y3QtZGV0YWlsJykgfVxuICBpZiAodi5wcmlvcml0eSA9PT0gJ2FkZG9uU3BvdGxpZ2h0JyB8fCB2LnByaW9yaXR5ID09PSAnYWRkb25LaW5nYWRUeXBlMycpIHsgcmV0dXJuICgnd3JhcC1wcm9kdWN0LWRldGFpbC1zcG90bGlnaHQnKSB9XG4gIGVsc2UgaWYgKHYucHJpb3JpdHkgPT09ICdhZGRvblNwaWN5ZGVhbCcgfHwgdi5wcmlvcml0eSA9PT0gJ2FkZG9uS2luZ2FkVHlwZScgfHwgdi5wcmlvcml0eSA9PT0gJ2FkZG9uS2luZ2FkVHlwZTInKSB7IHJldHVybiAoJ3dyYXAtcHJvZHVjdC1kZXRhaWwtc3BpY3lkZWFsJykgfVxuICBlbHNlIHsgcmV0dXJuICgnd3JhcC1wcm9kdWN0LWRldGFpbCcpfVxufVxuXG4gIF9yZW5kZXJQcmljZSA9ICgpID0+IHtcblxuICAgIGxldCB2ID0gdGhpcy5zdGF0ZS5wcm9kdWN0RGV0YWlsc1xuXG4gICAgaWYgKF8uaXNFbXB0eSh2KSA9PT0gdHJ1ZSkgeyByZXR1cm4gfVxuXG4gICAgaWYgKF8uaXNFbXB0eSh2LmNhcnNwZWNzQWxsKSA9PT0gdHJ1ZSAmJlxuICAgICAgXy5pc0VtcHR5KHYuY29tcGFueXMpID09PSB0cnVlICYmXG4gICAgICBfLmlzRW1wdHkodi5jb25kaXRpb24pID09PSB0cnVlICYmXG4gICAgICBfLmlzRW1wdHkodi5yZWdpc3RyYXRpb25VcmwpID09PSB0cnVlXG4gICAgKSB7IHJldHVybiB9XG5cblxuICAgIGxldCBub3JtYWxQcmljZSA9XG4gICAgICAoPGRpdiBjbGFzc05hbWU9XCJ3cmFwLXByb2R1Y3QtYWRzLXByaWNlXCI+XG4gICAgICAgIDxSb3c+PENvbCB4cz17MTR9IHNtPXsxNH0gbWQ9ezE2fSBsZz17MTZ9IHhsPXsxNn0+PHNwYW4gc3R5bGU9e3sgY29sb3I6ICcjMjBhYmNjJyB9fSBjbGFzc05hbWU9J2luc3RhbGxtZW50UHJpY2UnPlJNIHtmb3JtYXRNb25leSgoY2FsTW9udGgodi5wcmljZSkpLnRvU3RyaW5nKCkpfS9tb250aDwvc3Bhbj48L0NvbD48L1Jvdz5cbiAgICAgICAgPGg0IHN0eWxlPXt7IG1hcmdpbkxlZnQ6ICcxMHB4JyB9fT5STSB7Zm9ybWF0TW9uZXkoKHYucHJpY2UpLnRvU3RyaW5nKCkpfTwvaDQ+XG4gICAgICA8L2Rpdj4pXG5cbiAgICBmdW5jdGlvbiByZW5kZXJTaG93UHJpY2UocHJpY2UsIGRpc2NvdW50ZWRQcmljZSkge1xuXG4gICAgICBjb25zdCBwYXR0ZXJuID0gL1xcLihcXGQqPykwKyhcXEQqKSQvZ207XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIndyYXAtcHJvZHVjdC1hZHMtcHJpY2VcIj5cbiAgICAgICAgICA8c3BhbiBzdHlsZT17eyBjb2xvcjogJyMwMDAwMDAnIH19IGNsYXNzTmFtZT0nZ3JpZE1vbmV5VGV4dCc+Uk0ge2Zvcm1hdE1vbmV5KChwcmljZSkudG9TdHJpbmcoKSl9PC9zcGFuPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIndyYXAtY29uZGl0aW9uIHdyYXAtcHJvZHVjdC1hZHMtZGlzY291bnQtc3BpY3lkZWFsXCIgPnsoKCgxMDAgKiAocHJpY2UgLSBkaXNjb3VudGVkUHJpY2UpIC8gcHJpY2UpICogLTEpLnRvRml4ZWQoMSkudG9TdHJpbmcoKSkucmVwbGFjZShwYXR0ZXJuLCAnJykgKyAnJSd9PC9zcGFuPlxuICAgICAgICAgIDxoNCBzdHlsZT17e2NvbG9yOiAnI2Q2MjgyOCcgfX0+Uk0ge2Zvcm1hdE1vbmV5KChkaXNjb3VudGVkUHJpY2UpLnRvU3RyaW5nKCkpfTwvaDQ+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3cmFwLXByb2R1Y3QtYWRzLXByaWNlXCI+XG4gICAgICAgICAgICA8Um93PjxDb2wgeHM9ezE0fSBzbT17MTR9IG1kPXsxNn0gbGc9ezE2fSB4bD17MTZ9PjxzcGFuIHN0eWxlPXt7IGNvbG9yOiAnIzIwYWJjYycgfX0gY2xhc3NOYW1lPSdpbnN0YWxsbWVudFByaWNlJz5STSB7Zm9ybWF0TW9uZXkoKGNhbE1vbnRoKGRpc2NvdW50ZWRQcmljZSkpLnRvU3RyaW5nKCkpfS9tb250aDwvc3Bhbj48L0NvbD48L1Jvdz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVuZGVyQ291bnRkb3duKGVuZERhdGUpIHtcblxuICAgICAgY29uc3QgZHVyYXRpb24gPSBtb21lbnQuZHVyYXRpb24obW9tZW50KGVuZERhdGUpLmRpZmYobW9tZW50KCkpKTtcbiAgICAgIGNvbnN0IGRheXMgPSBNYXRoLmZsb29yKGR1cmF0aW9uLmFzRGF5cygpKTtcbiAgICAgIGNvbnN0IGRheXNGb3JtYXR0ZWQgPSBkYXlzID8gYCR7ZGF5c31gIDogMDtcbiAgICAgIGNvbnN0IGhvdXJzID0gZHVyYXRpb24uaG91cnMoKTtcbiAgICAgIGNvbnN0IG1pbnV0ZXMgPSBkdXJhdGlvbi5taW51dGVzKCk7XG4gICAgICBjb25zdCBob3Vyc0Zvcm1hdHRlZCA9IGhvdXJzID8gYCR7aG91cnN9YCA6IDA7XG4gICAgICBjb25zdCBtaW51dGVzRm9ybWF0dGVkID0gbWludXRlcyA/IGAke21pbnV0ZXN9YCA6IDA7XG5cbiAgICAgIGNvbnN0IGZvcm1hdENvdW50ZG93biA9ICh2YWx1ZSwgZml4ZWRQb2ludCkgPT4ge1xuICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgIGlmIChpc05hTihwYXJzZUZsb2F0KHZhbHVlKSkpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS50b1N0cmluZygpLnNwbGl0KCcuJyk7XG4gICAgICAgICAgICBpZiAodmFsdWVbMF0pIHtcbiAgICAgICAgICAgICAgaWYgKHZhbHVlWzBdLmxlbmd0aCA+IGZpeGVkUG9pbnQpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZVswXSA9IHZhbHVlWzBdLnNsaWNlKHZhbHVlWzBdLmxlbmd0aCAtIGZpeGVkUG9pbnQpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKHZhbHVlWzBdLmxlbmd0aCA8IGZpeGVkUG9pbnQpIHtcbiAgICAgICAgICAgICAgICBfLmZvckVhY2goXy5yYW5nZShmaXhlZFBvaW50IC0gdmFsdWVbMF0ubGVuZ3RoKSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgdmFsdWVbMF0gPSAnMCcgKyB2YWx1ZVswXTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiB2YWx1ZVswXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG5cblxuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3cmFwLXByb2R1Y3QtYWRzLWNvdW50ZG93bi1zcGljeWRlYWxcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J2dyaWRBZGRvbk1haW5UZXh0JyBzdHlsZT17eyBtYXJnaW5MZWZ0OiAnMTBweCcsIGNvbG9yOiAnIzAwMDAwMCcgfX0gPjxzcGFuPlN1cGVyRGVhbCBFbmRzIGluPC9zcGFuPjwvc3Bhbj5cbiAgICAgICAgICA8Um93PlxuICAgICAgICAgICAgPENvbCB4cz17MTR9IHNtPXsxNH0gbWQ9ezE2fSBsZz17MTZ9IHhsPXsxNn0+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0nZ3JpZEFkZG9uRGF5SG91clN1YlRleHQnPlxuXG4gICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgY29sb3I6ICcjMDAwMDAwJyB9fSBjbGFzc05hbWU9J2dyaWRBZGRvbkRheUhvdXJUZXh0Jz5EIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J2dyaWRBZGRvbkRheUhvdXInPntmb3JtYXRDb3VudGRvd24oZGF5c0Zvcm1hdHRlZCwgMil9PC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGNvbG9yOiAnIzAwMDAwMCcgfX0gY2xhc3NOYW1lPSdncmlkQWRkb25EYXlIb3VyVGV4dCc+IEggPC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0nZ3JpZEFkZG9uRGF5SG91cic+e2Zvcm1hdENvdW50ZG93bihob3Vyc0Zvcm1hdHRlZCwgMil9PC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGNvbG9yOiAnIzAwMDAwMCcgfX0gY2xhc3NOYW1lPSdncmlkQWRkb25EYXlIb3VyVGV4dCc+IE0gPC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0nZ3JpZEFkZG9uRGF5SG91cic+e2Zvcm1hdENvdW50ZG93bihtaW51dGVzRm9ybWF0dGVkLCAyKX08L3NwYW4+XG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDwvQ29sPlxuICAgICAgICAgIDwvUm93PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIClcblxuICAgIH1cblxuICAgIGlmICh2LnByaW9yaXR5ID09PSAnYWRkb25LaW5nYWRUeXBlJykgeyByZXR1cm4gcmVuZGVyU2hvd1ByaWNlKHYucHJpY2UsIHYuYWRkb25LaW5nYWRUeXBlLmRpc2NvdW50ZWRQcmljZSkgfVxuICAgIGVsc2UgaWYgKHYucHJpb3JpdHkgPT09ICdhZGRvbktpbmdhZFR5cGUyJykgeyByZXR1cm4gcmVuZGVyQ291bnRkb3duKHYuYWRkb25LaW5nYWRUeXBlMi5lbmREYXRlKSB9XG4gICAgZWxzZSBpZiAodi5wcmlvcml0eSA9PT0gJ2FkZG9uU3BpY3lkZWFsJykge1xuICAgICAgaWYgKHYuYWRkb25TcGljeWRlYWwuc2hvd1ByaWNlID09PSAnc2hvdycpIHsgcmV0dXJuIHJlbmRlclNob3dQcmljZSh2LnByaWNlLCB2LmFkZG9uU3BpY3lkZWFsLmRpc2NvdW50ZWRQcmljZSkgfVxuICAgICAgaWYgKHYuYWRkb25TcGljeWRlYWwuc2hvd1ByaWNlID09PSAnaGlkZScpIHsgcmV0dXJuIHJlbmRlckNvdW50ZG93bih2LmFkZG9uU3BpY3lkZWFsLmVuZERhdGUpIH1cbiAgICB9XG4gICAgZWxzZSB7IHJldHVybiAobm9ybWFsUHJpY2UpIH1cbiAgfVxuXG4gIF9yZW5kZXJQcmljZUFmZml4ID0gKCkgPT4ge1xuICAgIGNvbnN0IGN1cnJlbnREYXRlVGltZSA9IG1vbWVudCgpLmZvcm1hdCgpO1xuICAgIGNvbnN0IGFkZG9uID0gXy5maW5kKHRoaXMuc3RhdGUucHJvZHVjdERldGFpbHMuYWRkb24sIHsgJ2FkZG9uVHlwZSc6ICdzcGljeWRlYWwnIH0pO1xuXG4gICAgaWYgKGFkZG9uKSB7XG4gICAgICBpZiAoY3VycmVudERhdGVUaW1lIDwgYWRkb24uZW5kRGF0ZSkge1xuICAgICAgICBpZiAoYWRkb24uYWRkb25UeXBlID09PSAnc3BpY3lkZWFsJyAmJiBhZGRvbi5zaG93UHJpY2UgPT09ICdzaG93Jykge1xuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIndyYXAtdmlld1Byb2R1Y3RzLXByaWNlLWFmZml4XCI+XG4gICAgICAgICAgICAgIDxsYWJlbCBzdHlsZT17eyBjb2xvcjogJ3JnYigxOTAsMTUwLDQ2KScgfX0+Uk0ge2Zvcm1hdE1vbmV5KChhZGRvbi5kaXNjb3VudGVkUHJpY2UgPyBhZGRvbi5kaXNjb3VudGVkUHJpY2UgOiAwKS50b1N0cmluZygpKX08L2xhYmVsPlxuICAgICAgICAgICAgICA8cD5STSB7Zm9ybWF0TW9uZXkoKGNhbE1vbnRoKGFkZG9uLmRpc2NvdW50ZWRQcmljZSA/IGFkZG9uLmRpc2NvdW50ZWRQcmljZSA6IDApKS50b1N0cmluZygpKX0vbW9udGg8L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApXG4gICAgICAgIH0gZWxzZSBpZiAoYWRkb24uYWRkb25UeXBlID09PSAnc3BpY3lkZWFsJyAmJiBhZGRvbi5zaG93UHJpY2UgPT09ICdoaWRlJykge1xuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIndyYXAtdmlld1Byb2R1Y3RzLXByaWNlLWFmZml4XCI+XG5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3cmFwLXZpZXdQcm9kdWN0cy1wcmljZS1hZmZpeFwiPlxuICAgICAgICAgICAgICA8bGFiZWwgc3R5bGU9e3sgY29sb3I6ICdyZ2IoMTkwLDE1MCw0NiknIH19PlJNIHtmb3JtYXRNb25leSgodGhpcy5zdGF0ZS5wcm9kdWN0RGV0YWlscy5wcmljZSA/IHRoaXMuc3RhdGUucHJvZHVjdERldGFpbHMucHJpY2UgOiAwKS50b1N0cmluZygpKX08L2xhYmVsPlxuICAgICAgICAgICAgICA8cD5STSB7Zm9ybWF0TW9uZXkoKGNhbE1vbnRoKHRoaXMuc3RhdGUucHJvZHVjdERldGFpbHMucHJpY2UgPyB0aGlzLnN0YXRlLnByb2R1Y3REZXRhaWxzLnByaWNlIDogMCkpLnRvU3RyaW5nKCkpfS9tb250aDwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIndyYXAtdmlld1Byb2R1Y3RzLXByaWNlLWFmZml4XCI+XG4gICAgICAgICAgICA8bGFiZWwgc3R5bGU9e3sgY29sb3I6ICdyZ2IoMTkwLDE1MCw0NiknIH19PlJNIHtmb3JtYXRNb25leSgodGhpcy5zdGF0ZS5wcm9kdWN0RGV0YWlscy5wcmljZSA/IHRoaXMuc3RhdGUucHJvZHVjdERldGFpbHMucHJpY2UgOiAwKS50b1N0cmluZygpKX08L2xhYmVsPlxuICAgICAgICAgICAgPHA+Uk0ge2Zvcm1hdE1vbmV5KChjYWxNb250aCh0aGlzLnN0YXRlLnByb2R1Y3REZXRhaWxzLnByaWNlID8gdGhpcy5zdGF0ZS5wcm9kdWN0RGV0YWlscy5wcmljZSA6IDApKS50b1N0cmluZygpKX0vbW9udGg8L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3cmFwLXZpZXdQcm9kdWN0cy1wcmljZS1hZmZpeFwiPlxuICAgICAgICAgIDxsYWJlbCBzdHlsZT17eyBjb2xvcjogJ3JnYigxOTAsMTUwLDQ2KScgfX0+Uk0ge2Zvcm1hdE1vbmV5KCh0aGlzLnN0YXRlLnByb2R1Y3REZXRhaWxzLnByaWNlID8gdGhpcy5zdGF0ZS5wcm9kdWN0RGV0YWlscy5wcmljZSA6IDApLnRvU3RyaW5nKCkpfTwvbGFiZWw+XG4gICAgICAgICAgPHA+Uk0ge2Zvcm1hdE1vbmV5KChjYWxNb250aCh0aGlzLnN0YXRlLnByb2R1Y3REZXRhaWxzLnByaWNlID8gdGhpcy5zdGF0ZS5wcm9kdWN0RGV0YWlscy5wcmljZSA6IDApKS50b1N0cmluZygpKX0vbW9udGg8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKVxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGNvbW1lbnRzLCBzdWJtaXR0aW5nLCB2YWx1ZSB9ID0gdGhpcy5zdGF0ZTtcbiAgICBsZXQgc3RhdGVOYW1lID0gZ2V0U3RhdGVJY29uKF8uZ2V0KHRoaXMuc3RhdGUucHJvZHVjdERldGFpbHMsIFsnY29tcGFueXMnLCAnc3RhdGUnXSkgfHwgaW1hZ2VOb3RGb3VuZEljb24pXG4gICAgbGV0IHVzZXJzdGF0ZSA9IF8uZ2V0KHRoaXMuc3RhdGUucHJvZHVjdERldGFpbHMsIFsnY3JlYXRlZEJ5JywgJ3VzZXJzdGF0ZSddKSB8fCAnJ1xuICAgIGlmIChfLmlzRW1wdHkodXNlcnN0YXRlKSA9PT0gZmFsc2UpIHsgc3RhdGVOYW1lID0gZ2V0U3RhdGVJY29uKHVzZXJzdGF0ZSkgfHwgaW1hZ2VOb3RGb3VuZEljb24gfVxuXG4gICAgbGV0IGNvbnRhY3RMaXN0ID0gW11cbiAgICB0cnkgeyBjb250YWN0TGlzdCA9IHRoaXMuc3RhdGUucHJvZHVjdERldGFpbHMuY3JlYXRlZEJ5LmNvbnRhY3RMaXN0IH0gY2F0Y2ggKGVycikgeyBjb250YWN0TGlzdCA9IFtdIH1cbiAgICBpZiAoIWNvbnRhY3RMaXN0KSB7IGNvbnRhY3RMaXN0ID0gW10gfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxMYXlvdXRWMiBoaWRlT3BlbkFwcD5cbiAgICAgICAgXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VjdGlvblwiPlxuICAgICAgICAgIDxkaXYgc3R5bGU9e3ttYXJnaW5Ub3A6JzMwcHgnLCB0b3VjaEFjdGlvbjoncGFuLXknfX0+XG5cbiAgICAgICAgICA8VGFicyBzaXplPVwic21hbGxcIiBkZWZhdWx0QWN0aXZlS2V5PVwiMVwiIG9uQ2hhbmdlPXtjYWxsYmFja30+XG4gICAgICAgICAgICA8VGFiUGFuZSB0YWI9XCJJTkZPXCIga2V5PVwiMVwiPlxuXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZS13cmFwcGVyIHdpZHRoLTEwMFwiIHN0eWxlPXt7IGhlaWdodDogJzIwZW0nIH19PlxuICAgICAgICAgICAgICAgICAgPExpZ2h0Qm94R2FsbGVyeVxuICAgICAgICAgICAgICAgICAgICBpbWFnZXM9e18uaXNBcnJheShfLmdldCh0aGlzLnN0YXRlLnByb2R1Y3REZXRhaWxzLCBbJ2NhclVybCddKSkgJiYgIV8uaXNFbXB0eShfLmdldCh0aGlzLnN0YXRlLnByb2R1Y3REZXRhaWxzLCBbJ2NhclVybCddKSkgPyBfLm1hcChfLmdldCh0aGlzLnN0YXRlLnByb2R1Y3REZXRhaWxzLCBbJ2NhclVybCddKSB8fCBbXSwgJ3VybCcpIDogW119XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoY3VycmVudEluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRJbWc6IGN1cnJlbnRJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRJbmRleD17dGhpcy5zdGF0ZS5jdXJyZW50SW1nfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAoZGF0YSwgc2V0Q3VycmVudEluZGV4LCBzZXRWaXNpYmxlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc2hvdz17dGhpcy5zdGF0ZS5zaG93fSBjbGFzc05hbWU9XCJjb2RlLWJveC1zaGFwZVwiID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBjbGFzc05hbWU9XCJmYWRlLWluIGN1cnNvci1wb2ludGVyIGFic29sdXRlLWNlbnRlci1pbWctbm8tc3RyZXRjaFwiIG9uQ2xpY2s9eygpID0+IHsgc2V0VmlzaWJsZSh0cnVlKSB9fSBpZD1cIm15LWVsZW1lbnRcIiBzcmM9e18uZ2V0KGRhdGEsIFsnaW1hZ2VzJywgZGF0YS5jdXJyZW50SW5kZXhdKX0gYWx0PXtgJHtfLmdldCh0aGlzLnN0YXRlLnByb2R1Y3REZXRhaWxzLCAnY2Fyc3BlYy5tYWtlJykgfHwgJyd9ICR7Xy5nZXQodGhpcy5zdGF0ZS5wcm9kdWN0RGV0YWlscywgJ2NhcnNwZWMubW9kZWwnKSB8fCAnJ30gSW1hZ2UgJHtkYXRhLmN1cnJlbnRJbmRleCArIDF9YH0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgPC9MaWdodEJveEdhbGxlcnk+XG5cbiAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPXtzdGF0ZU5hbWV9IHN0eWxlPXt7IHdpZHRoOiA2MCwgaGVpZ2h0OiAnMzBweCcsIHBvc2l0aW9uOiAnYWJzb2x1dGUnLCB0b3A6IDAsIHJpZ2h0OiAwIH19IGFsdD17YCR7Xy5nZXQodGhpcy5zdGF0ZS5wcm9kdWN0RGV0YWlscywgWydjb21wYW55cycsICdzdGF0ZSddKSB8fCAnU3RhdGUgSWNvbid9YH0gLz5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImQtaW5saW5lLWJsb2NrIHdpZHRoLTIwXCIgc3R5bGU9e3sgcG9zaXRpb246ICdhYnNvbHV0ZScsIHRvcDogMCwgbGVmdDogMCB9fSA+XG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLl9yZW5kZXJDb25kaXRpb24odGhpcy5zdGF0ZS5wcm9kdWN0RGV0YWlscyl9XG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibG9nby12aWV3UHJvZHVjdFwiPlxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5wcm9kdWN0RGV0YWlscy5wcmlvcml0eSA9PT0gJ2FkZG9uU3BpY3lkZWFsJyB8fCB0aGlzLnN0YXRlLnByb2R1Y3REZXRhaWxzLnByaW9yaXR5ID09PSAnYWRkb25LaW5nYWRUeXBlJyB8fCB0aGlzLnN0YXRlLnByb2R1Y3REZXRhaWxzLnByaW9yaXR5ID09PSAnYWRkb25LaW5nYWRUeXBlMicgP1xuICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9e3JheWFGbGFtZX0gc3R5bGU9e3sgd2lkdGg6IDUwLCBoZWlnaHQ6IDUwIH19IC8+XG4gICAgICAgICAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUucHJvZHVjdERldGFpbHMucHJpb3JpdHkgPT09ICdhZGRvblNwb3RsaWdodCcgfHwgdGhpcy5zdGF0ZS5wcm9kdWN0RGV0YWlscy5wcmlvcml0eSA9PT0gJ2FkZG9uS2luZ2FkVHlwZTMnID9cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPXtyYXlhRm9vZH0gc3R5bGU9e3sgd2lkdGg6IDUwLCBoZWlnaHQ6IDUwIH19IC8+XG4gICAgICAgICAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCIvYXNzZXRzL0NjYXItU3BvdGxpZ2h0LmdpZlwiIHN0eWxlPXt7IHdpZHRoOiA0MCwgaGVpZ2h0OiA0MCB9fSAvPlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXy5nZXQodGhpcy5zdGF0ZS5wcm9kdWN0RGV0YWlscywgWydyZWFkeVN0b2NrJ10pID09ICdZZXMnXG4gICAgICAgICAgICAgICAgICAgID8gPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1hbGlnbi1yaWdodCBhdmF0YXIgYmFja2dyb3VuZC1ncmVlbiByZWFkeVN0b2NrRG90XCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA6IG51bGxcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIDxSb3c+XG4gICAgICAgICAgICAgICAgICA8Q29sIHNwYW49ezI0fT5cbiAgICAgICAgICAgICAgICAgICAge3RoaXMuX3JlbmRlckltYWdlc01vYmlsZSgpfVxuICAgICAgICAgICAgICAgICAgPC9Db2w+XG4gICAgICAgICAgICAgICAgPC9Sb3c+XG5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17dGhpcy5fcmVuZGVyTGF5b3V0KHRoaXMuc3RhdGUucHJvZHVjdERldGFpbHMpfT5cbiAgICAgICAgICAgICAgICA8Um93IGNsYXNzTmFtZT1cInBhZGRpbmcteC1zbVwiPlxuICAgICAgICAgICAgICAgICAgPENvbCBzcGFuPXsyNH0+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZmxleC1pdGVtcy1hbGlnbi1jZW50ZXIgZmxleC1qdXN0aWZ5LXNwYWNlLWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImQtaW5saW5lLWJsb2NrIGZsZXgtanVzdGlmeS1zdGFydFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgc3R5bGU9e3ttYXJnaW5Cb3R0b206JzBweCcsIGZvbnRXZWlnaHQ6JzUwMCcsIGNvbG9yOicjMDAwMDAwJ319PiB7dGhpcy5zdGF0ZS5wcm9kdWN0RGV0YWlscy5jcmVhdGVkQnkubmFtZVByZWZpeH0ge3RoaXMuc3RhdGUucHJvZHVjdERldGFpbHMuY3JlYXRlZEJ5LmZ1bGxOYW1lfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImQtaW5saW5lLWJsb2NrIGZsZXgtanVzdGlmeS1lbmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFdpc2hsaXN0IHR5cGU9XCJwcm9kdWN0XCIgcHJvZHVjdElkPXt0aGlzLnN0YXRlLnByb2R1Y3REZXRhaWxzLl9pZH0gc2F2ZXJJZD17dGhpcy5wcm9wcy51c2VyLmF1dGhlbnRpY2F0ZWQgPyB0aGlzLnByb3BzLnVzZXIuaW5mby51c2VyLl9pZCA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZWRCdXR0b249e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKCkgPT4gPEJ1dHRvbiBjbGFzc05hbWU9XCJwYWRkaW5nLXgtc21cIiBzdHlsZT17eyBib3JkZXI6J25vbmUnLCBoZWlnaHQ6ICcxNnB4JyB9fT48SWNvbiB0eXBlPVwiaGVhcnRcIiB0aGVtZT1cImZpbGxlZFwiIHN0eWxlPXt7IGNvbG9yOiAnI0Y5QTgyNScgfX0gLz4gPHNwYW4gc3R5bGU9e3sgY29sb3I6ICcjRjlBODI1JyB9fT5TYXZlZDwvc3Bhbj48L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZUJ1dHRvbj17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoKSA9PiA8QnV0dG9uIHN0eWxlPXt7IGJvcmRlcjonbm9uZScsIGhlaWdodDogJzE2cHgnIH19IGNsYXNzTmFtZT1cInBhZGRpbmcteC1zbVwiID48SGVhcnRPdXRsaW5lZCAvPjwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVFcnJvcj17KGUpID0+IHsgbWVzc2FnZS5lcnJvcihlLm1lc3NhZ2UpIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlU3VjY2Vzcz17KGUpID0+IHsgbWVzc2FnZS5zdWNjZXNzKGUudHlwZSA9PT0gJ3JlbW92ZScgPyAnUmVtb3ZlZCBmcm9tIHdpc2hsaXN0JyA6ICdTYXZlZCB0byB3aXNobGlzdCcpIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgc3R5bGU9e3ttYXJnaW5Cb3R0b206JzBweCcsIGNvbG9yOicjNzU3NTc1JywgZm9udFdlaWdodDonNzAwJ319PiB7dGhpcy5zdGF0ZS5wcm9kdWN0RGV0YWlscy5jb21wYW55cy5uYW1lfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC10cnVuY2F0ZS10d29saW5lXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGg0IHN0eWxlPXt7IG1hcmdpbkJvdHRvbTogJzBweCd9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUucHJvZHVjdERldGFpbHMudGl0bGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oND5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L0NvbD5cbiAgICAgICAgICAgICAgICAgIDwvUm93PlxuXG4gICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUucHJvZHVjdERldGFpbHMucHJpb3JpdHkgPT09ICdhZGRvblNwaWN5ZGVhbCcgfHwgdGhpcy5zdGF0ZS5wcm9kdWN0RGV0YWlscy5wcmlvcml0eSA9PT0gJ2FkZG9uS2luZ2FkVHlwZScgfHwgdGhpcy5zdGF0ZS5wcm9kdWN0RGV0YWlscy5wcmlvcml0eSA9PT0gJ2FkZG9uS2luZ2FkVHlwZTInID9cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPXtyYXlhTW9zcXVlfSAgc3R5bGU9e3sgd2lkdGg6IDE1MCwgaGVpZ2h0OiAxNTAsIHBvc2l0aW9uIDogJ2Fic29sdXRlJywgdG9wIDogMTUgLCByaWdodCA6IDB9fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUucHJvZHVjdERldGFpbHMucHJpb3JpdHkgPT09ICdhZGRvblNwb3RsaWdodCcgfHwgdGhpcy5zdGF0ZS5wcm9kdWN0RGV0YWlscy5wcmlvcml0eSA9PT0gJ2FkZG9uS2luZ2FkVHlwZTMnID9cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPXtyYXlhUGVvcGxlfSBzdHlsZT17eyB3aWR0aDogMTUwLCBoZWlnaHQ6IDE1MCwgcG9zaXRpb24gOiAnYWJzb2x1dGUnLCB0b3AgOiAxNSAsIHJpZ2h0IDogMCB9fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICAgIG51bGxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWRkaW5nLXgtc21cIj5cbiAgICAgICAgICAgICAgICAgIDxSb3c+XG4gICAgICAgICAgICAgICAgICAgIDxDb2wgc3Bhbj17MTV9ID5cbiAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLl9yZW5kZXJQcmljZSgpfVxuICAgICAgICAgICAgICAgICAgICA8L0NvbD5cblxuICAgICAgICAgICAgICAgICAgICA8Q29sIHNwYW49ezI0fSBjbGFzc05hbWU9XCJtYXJnaW4tdG9wLW1kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17e21pbldpZHRoOic1MHB4J319IGNsYXNzTmFtZT1cImQtaW5saW5lLWJsb2NrIG1hcmdpbi14c1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8V2hhdHNBcHBCdXR0b24gcmVhZE9ubHk9e18uZ2V0KHRoaXMuc3RhdGUsICdwcm9kdWN0RGV0YWlscy5zdGF0dXMnKSAhPSAnYXBwcm92ZWQnfSBtb2JpbGVOdW1iZXI9e3RoaXMuc3RhdGUucHJvZHVjdERldGFpbHN9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17e21pbldpZHRoOic1MHB4J319IGNsYXNzTmFtZT1cImQtaW5saW5lLWJsb2NrIG1hcmdpbi14c1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Q29udGFjdExpc3QgY29tcGFueXM9e3RoaXMuc3RhdGUucHJvZHVjdERldGFpbHMuY29tcGFueXN9IGNvbnRhY3RQZXJzb249e25vdEVtcHR5TGVuZ3RoKHRoaXMuc3RhdGUucHJvZHVjdERldGFpbHMuY3JlYXRlZEJ5KSA/IHRoaXMuc3RhdGUucHJvZHVjdERldGFpbHMuY3JlYXRlZEJ5IDogbnVsbH0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImQtaW5saW5lLWJsb2NrXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8QWRkQ29tcGFyZVByb2R1Y3RCdXR0b24gcmVhZE9ubHk9e18uZ2V0KHRoaXMuc3RhdGUsICdwcm9kdWN0RGV0YWlscy5zdGF0dXMnKSAhPSAnYXBwcm92ZWQnfSBkYXRhPXt0aGlzLnN0YXRlLnByb2R1Y3REZXRhaWxzfSBzYXZlQnV0dG9uPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cIm5vcm1hbFwiIGNsYXNzTmFtZT1cInBhZGRpbmcteC1zbSBtYXJnaW4teHMgYWRzLXB1cmNoYXNlLWNvbXBhcmUtYnRuXCIgc3R5bGU9e3sgbWluV2lkdGg6ICc1MHB4JyB9fT48aW1nIHNyYz1cIi9hc3NldHMvQ2FyTGlzdGluZ0ljb25Nb2JpbGUvY2FyLWNvbXBhcmUucG5nXCIgc3R5bGU9e3sgd2lkdGg6ICcyNXB4JywgaGVpZ2h0OiAnMjVweCcgfX0gYWx0PVwiY29tcGFyZVwiIC8+PC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYXZlZEJ1dHRvbj17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwibm9ybWFsXCIgY2xhc3NOYW1lPVwicGFkZGluZy14LXNtIG1hcmdpbi14cyBhZHMtcHVyY2hhc2UtYnV0dG9uXCIgc3R5bGU9e3sgbWluV2lkdGg6ICc1MHB4JywgYmFja2dyb3VuZDogJ3JnYig4OSwgNTQsIDI2KScgfX0+PGltZyBzcmM9XCIvYXNzZXRzL0Nhckxpc3RpbmdJY29uTW9iaWxlL2Nhci1jb21wYXJlLnBuZ1wiIHN0eWxlPXt7IHdpZHRoOiAnMjVweCcsIGhlaWdodDogJzI1cHgnIH19IGFsdD1cImNvbXBhcmVcIiAvPjwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZC1pbmxpbmUtYmxvY2tcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPENhcjM2MFZpZXdCdXR0b24gaWQ9e3RoaXMuc3RhdGUucHJvZHVjdERldGFpbHMueG1sVXJsID8gdGhpcy5zdGF0ZS5wcm9kdWN0RGV0YWlscy5faWQgOiBudWxsfSA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwibm9ybWFsXCIgY2xhc3NOYW1lPXtgcGFkZGluZy14LXNtIG1hcmdpbi14cyAke3RoaXMuc3RhdGUucHJvZHVjdERldGFpbHMueG1sVXJsID8gJ2N1cnNvci1wb2ludGVyJyA6ICdjdXJzb3Itbm90LWFsbG93ZWQgJ31gfSBzdHlsZT17eyBiYWNrZ3JvdW5kOiB0aGlzLnN0YXRlLnByb2R1Y3REZXRhaWxzLnhtbFVybCA/ICdyZ2IoODUsMjA0LDIxMiknIDogJ3JnYigyMzcsIDIzNiwgMjM0KScsIGJvcmRlckNvbG9yOiB0aGlzLnN0YXRlLnByb2R1Y3REZXRhaWxzLnhtbFVybCA/ICdyZ2IoODUsMjA0LDIxMiknIDogJ3JnYigyMzcsIDIzNiwgMjM0KScsIG1pbldpZHRoOiAnNTBweCcgfX0+PGltZyBzcmM9XCIvYXNzZXRzL3Byb2ZpbGUvaWNvbi1saXN0L0NjYXItMzYwXzEuZ2lmXCIgc3R5bGU9e3sgd2lkdGg6ICcyNXB4JywgaGVpZ2h0OiAnMjVweCcgfX0gYWx0PVwiQ2FyIDM2MCBWaWV3IEljb25cIiAvPjwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L0NhcjM2MFZpZXdCdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJkLWlubGluZS1ibG9ja1wiIHN0eWxlPXt7IHdpZHRoOiAnNTBweCcgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8UmVnaXN0ZXJDYXJkIGtleT0ncmVnaXN0ZXInIGJ1dHRvbj17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgWzxUb29sdGlwIGtleT0ndG9vbHRpcHNyZWdpc3RlcicgdGl0bGU9XCJSZWdpc3RyYXRpb24gQ2FyZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwibm9ybWFsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgdy0xMDAgYWRzLXB1cmNoYXNlLWJ1dHRvbiBtYXJnaW4teHMgJHtfLmlzQXJyYXkoXy5nZXQodGhpcy5zdGF0ZS5wcm9kdWN0RGV0YWlscywgWydyZWdpc3RyYXRpb25VcmwnXSkpICYmICFfLmlzRW1wdHkoXy5nZXQodGhpcy5zdGF0ZS5wcm9kdWN0RGV0YWlscywgWydyZWdpc3RyYXRpb25VcmwnXSkpID8gJ2N1cnNvci1wb2ludGVyJyA6ICdjdXJzb3Itbm90LWFsbG93ZWQgJ31gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBwYWRkaW5nOiAwLCBiYWNrZ3JvdW5kOiBfLmlzQXJyYXkoXy5nZXQodGhpcy5zdGF0ZS5wcm9kdWN0RGV0YWlscywgWydyZWdpc3RyYXRpb25VcmwnXSkpICYmICFfLmlzRW1wdHkoXy5nZXQodGhpcy5zdGF0ZS5wcm9kdWN0RGV0YWlscywgWydyZWdpc3RyYXRpb25VcmwnXSkpID8gJ3JnYigyMDkgLDExMCwgMTMyKScgOiAncmdiKDIzNywgMjM2LCAyMzQpJywgYm9yZGVyQ29sb3I6IF8uaXNBcnJheShfLmdldCh0aGlzLnN0YXRlLnByb2R1Y3REZXRhaWxzLCBbJ3JlZ2lzdHJhdGlvblVybCddKSkgJiYgIV8uaXNFbXB0eShfLmdldCh0aGlzLnN0YXRlLnByb2R1Y3REZXRhaWxzLCBbJ3JlZ2lzdHJhdGlvblVybCddKSkgPyAncmdiKDIwOSAsMTEwLCAxMzIpJyA6ICdyZ2IoMjM3LCAyMzYsIDIzNCknIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIi9hc3NldHMvQ2FyTGlzdGluZ0ljb25Nb2JpbGUvcmVnaXN0cmF0aW9uLWNhcmQucG5nXCIgYWx0PVwiUmVnaXN0cmF0aW9uIENhcmQgSWNvblwiIC8+PC9CdXR0b24+PC9Ub29sdGlwPl1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSByZWdpc3RyYXRpb25Vcmw9e3RoaXMuc3RhdGUucHJvZHVjdERldGFpbHMucmVnaXN0cmF0aW9uVXJsID8gdGhpcy5zdGF0ZS5wcm9kdWN0RGV0YWlscy5yZWdpc3RyYXRpb25VcmwgOiBbXX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7bWluV2lkdGg6JzUwcHgnfX0gY2xhc3NOYW1lPVwiZC1pbmxpbmUtYmxvY2sgbWFyZ2luLXhzXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPENhbGN1bGF0b3JNb2RhbCBkYXRhPXt7IHByaWNlOiB0aGlzLnN0YXRlLnByb2R1Y3REZXRhaWxzLnByaWNlLCBkb3ducGF5bWVudDogdGhpcy5zdGF0ZS5wcm9kdWN0RGV0YWlscy5wcmljZSAqIDAuMSwgbG9hblBlcmlvZDogOSwgaW50ZXJlc3RSYXRlOiAzIH19IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvQ29sPlxuICAgICAgICAgICAgICAgIDwvUm93PlxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWFyZ2luLXRvcC1tZFwiPlxuICAgICAgICAgICAgICAgICAgICA8S2V5Q2FyRGV0YWlscyBwcm9kdWN0RGV0YWlscz17dGhpcy5zdGF0ZS5wcm9kdWN0RGV0YWlsc30vPiAgXG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5wcm9kdWN0RGV0YWlscy5mZWF0dXJlcy5sZW5ndGggPiAwID9cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1hcmdpbi10b3AtbWRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGg0PktleSBGZWF0dXJlczwvaDQ+XG4gICAgICAgICAgICAgICAgICAgIDxLZXlGZWF0dXJlcyBwcm9kdWN0RGV0YWlscz17dGhpcy5zdGF0ZS5wcm9kdWN0RGV0YWlsc30vPiBcbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAgbnVsbH1cblxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFkZGluZy1sZyByZWxhdGl2ZS13cmFwcGVyXCI+IFxuICAgICAgICAgICAgICAgICAgICA8U2VsbGVyQnVzaW5lc3NDYXJkIGRhdGE9e3RoaXMuc3RhdGUucHJvZHVjdERldGFpbHMuY29tcGFueXN9IGRhdGExPXt0aGlzLnN0YXRlLnByb2R1Y3REZXRhaWxzLmNyZWF0ZWRCeX0gLz4gXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8L1RhYlBhbmU+XG5cbiAgICAgICAgICA8VGFiUGFuZSB0YWI9XCJTRUxMRVInUyBDT01NRU5UXCIga2V5PVwiMlwiPlxuICAgICAgICAgICAgICAgIDxSb3cgZ3V0dGVyPXtbMTAsIDEwXX0gc3R5bGU9e3ttYXJnaW5Ub3A6JzEwcHgnfX0+XG4gICAgICAgICAgICAgICAgICA8Q29sIGNsYXNzTmFtZT1cImd1dHRlci1yb3dcIiB4cz17MjR9IHNtPXsyNH0gbWQ9ezI0fSBsZz17MjR9IHhsPXsyNH0+XG4gICAgICAgICAgICAgICAgICAgIDxEZXNjcmlwdGlvbiBwcm9kdWN0RGV0YWlscz17dGhpcy5zdGF0ZS5wcm9kdWN0RGV0YWlsc30gLz5cbiAgICAgICAgICAgICAgICAgIDwvQ29sPlxuICAgICAgICAgICAgICAgIDwvUm93PlxuICAgICAgICAgICAgPC9UYWJQYW5lPiBcblxuICAgICAgICAgICAgPFRhYlBhbmUgdGFiPVwiRVFVSVBNRU5UXCIga2V5PVwiM1wiPlxuICAgICAgICAgICAgICAgIDxSb3cgZ3V0dGVyPXtbMTAsIDEwXX0gc3R5bGU9e3ttYXJnaW5Ub3A6JzEwcHgnfX0+XG4gICAgICAgICAgICAgICAgICA8Q29sIGNsYXNzTmFtZT1cImd1dHRlci1yb3dcIiB4cz17MjR9IHNtPXsyNH0gbWQ9ezI0fSBsZz17MjR9IHhsPXsyNH0+XG4gICAgICAgICAgICAgICAgICAgIDxFcXVpcG1lbnQgcHJvZHVjdERldGFpbHM9e3RoaXMuc3RhdGUucHJvZHVjdERldGFpbHN9IC8+XG4gICAgICAgICAgICAgICAgICA8L0NvbD5cbiAgICAgICAgICAgICAgICA8L1Jvdz5cbiAgICAgICAgICAgIDwvVGFiUGFuZT5cblxuICAgICAgICAgICAgPFRhYlBhbmUgdGFiPVwiU1BFQ0lGSUNBVElPTlwiIGtleT1cIjRcIj5cbiAgICAgICAgICAgICAgICA8Um93IGd1dHRlcj17WzEwLCAxMF19IHN0eWxlPXt7bWFyZ2luVG9wOicxMHB4J319PlxuICAgICAgICAgICAgICAgICAgPENvbCBjbGFzc05hbWU9XCJndXR0ZXItcm93XCIgeHM9ezI0fSBzbT17MjR9IG1kPXsyNH0gbGc9ezI0fSB4bD17MjR9PlxuICAgICAgICAgICAgICAgICAgICA8U3BlY2lmaWNhdGlvbiBwcm9kdWN0RGV0YWlscz17dGhpcy5zdGF0ZS5wcm9kdWN0RGV0YWlsc30gLz5cbiAgICAgICAgICAgICAgICAgIDwvQ29sPlxuICAgICAgICAgICAgICAgIDwvUm93PlxuICAgICAgICAgICAgPC9UYWJQYW5lPlxuXG4gICAgICAgICAgPC9UYWJzPlxuXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSd3aWR0aC0xMDAnIHN0eWxlPXt7IHBvc2l0aW9uOiAnLXdlYmtpdC1zdGlja3knLCBwb3NpdGlvbjogJ3N0aWNreScsIGJvdHRvbTogMCwgekluZGV4OiA5OTk5OTkgfX0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiYWNrZ3JvdW5kLXdoaXRlIGJyb2Rlci10b3AtZ3JleSB0aGluLWJvcmRlciBwYWRkaW5nLXktc21cIj5cbiAgICAgICAgICAgICAgPFJvdyBjbGFzc05hbWU9XCJwYWRkaW5nLXRvcC1zbSBmaXhlZC1jb250YWluZXJcIiBzdHlsZT17eyBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmZmZmJyB9fT5cbiAgICAgICAgICAgICAgICA8Q29sIHhzPXsyNH0gc209ezI0fSBtZD17MjR9IGxnPXsyNH0geGw9ezI0fT5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0nZmxleC1pdGVtcy1hbGlnbi1jZW50ZXIgdGV4dC1hbGlnbi1jZW50ZXInID5cbiAgICAgICAgICAgICAgICAgICAgPENvbCBzcGFuPXs4fT5cbiAgICAgICAgICAgICAgICAgICAgICB7Y29udGFjdExpc3QubGVuZ3RoID4gMCBcbiAgICAgICAgICAgICAgICAgICAgICAgID8gXG4gICAgICAgICAgICAgICAgICAgICAgICA8Q29udGFjdExpc3QgbW9iaWxlUmVzcG9uc2l2ZT0neWVzJyBjb21wYW55cz17dGhpcy5zdGF0ZS5wcm9kdWN0RGV0YWlscy5jb21wYW55c30gY29udGFjdFBlcnNvbj17bm90RW1wdHlMZW5ndGgodGhpcy5zdGF0ZS5wcm9kdWN0RGV0YWlscy5jcmVhdGVkQnkpID8gdGhpcy5zdGF0ZS5wcm9kdWN0RGV0YWlscy5jcmVhdGVkQnkgOiBudWxsfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9e2B0ZWw6JHt0aGlzLnN0YXRlLnByb2R1Y3REZXRhaWxzLmNyZWF0ZWRCeS5jb250YWN0Tm9QcmltYXJ5fWB9PjxpbWcgc3JjPVwiaHR0cHM6Ly9pbWcuaWNvbnM4LmNvbS9hbmRyb2lkLzI0LzI1RDM2Ni9waG9uZS5wbmdcIiAvPjwvYT5cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIDwvQ29sPlxuICAgICAgICAgICAgICAgICAgICA8Q29sIHNwYW49ezh9PlxuICAgICAgICAgICAgICAgICAgICAgIDxXaGF0c0FwcFZpZXdQcm9kdWN0IG1vYmlsZU51bWJlcj17dGhpcy5zdGF0ZS5wcm9kdWN0RGV0YWlsc30gLz5cbiAgICAgICAgICAgICAgICAgICAgPC9Db2w+XG4gICAgICAgICAgICAgICAgICAgIDxDb2wgc3Bhbj17OH0+XG4gICAgICAgICAgICAgICAgICAgICAgPFNoYXJlVmlld1Byb2R1Y3QgdGl0bGU9e2BDQ0FSLm15IHwgJHt0aGlzLnN0YXRlLnByb2R1Y3REZXRhaWxzLnRpdGxlfWB9IC8+IFxuICAgICAgICAgICAgICAgICAgICA8L0NvbD5cbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L0NvbD5cbiAgICAgICAgICAgICAgPC9Sb3c+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxzdHlsZSBqc3g9XCJ0cnVlXCIgZ2xvYmFsPVwidHJ1ZVwiPntgXG4gICAgICAgICAgICAgICAgYH08L3N0eWxlPlxuXG5cbiAgICAgICAgPE1vZGFsXG4gICAgICAgICAgY2xvc2FibGVcbiAgICAgICAgICB2aXNpYmxlPXt0aGlzLnN0YXRlLnNvbGRPdXRNb2RhbFZpc2libGV9XG4gICAgICAgICAgb25DYW5jZWw9eygpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICBzb2xkT3V0TW9kYWxWaXNpYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfX1cbiAgICAgICAgICBjZW50ZXJlZFxuICAgICAgICAgIGZvb3Rlcj17bnVsbH1cbiAgICAgICAgPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFkZGluZy1tZCBmbGV4LWp1c3RpZnktY2VudGVyIGZsZXgtaXRlbXMtYWxpZ24tY2VudGVyXCI+XG4gICAgICAgICAgICA8aW1nIHNyYz17c29sZE91dEljb259IHN0eWxlPXt7IHdpZHRoOiAyMDAsIGhlaWdodDogMjAwIH19IC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWRkaW5nLXktc20gaDYgZmxleC1qdXN0aWZ5LWNlbnRlciBmbGV4LWl0ZW1zLWFsaWduLWNlbnRlclwiPlxuICAgICAgICAgICAgVGhpcyBjYXIgaGFzIGJlZW4gc29sZC5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZGRpbmcteS1zbSBmbGV4LWp1c3RpZnktY2VudGVyIGZsZXgtaXRlbXMtYWxpZ24tY2VudGVyXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J2QtaW5saW5lLWJsb2NrIHdpZHRoLTUwJyA+XG4gICAgICAgICAgICAgIDxMaW5rIGhyZWY9e3JvdXRlUGF0aHMuZGVhbGVyUHJvZmlsZS50byB8fCAnLyd9IGFzPXt0eXBlb2YgKHJvdXRlUGF0aHMuZGVhbGVyUHJvZmlsZS5hcykgPT0gJ2Z1bmN0aW9uJyA/IHJvdXRlUGF0aHMuZGVhbGVyUHJvZmlsZS5hcyhfLmdldCh0aGlzLnN0YXRlLnByb2R1Y3REZXRhaWxzLCBgY3JlYXRlZEJ5YCkpIDogJy8nfSA+XG4gICAgICAgICAgICAgICAgPGE+XG4gICAgICAgICAgICAgICAgICA8QnV0dG9uIGJsb2NrIGNsYXNzTmFtZT1cImJsYWNrIGJhY2tncm91bmQtY2Nhci1idXR0b24teWVsbG93XCIgPk1vcmUgSW5mb3JtYXRpb248L0J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZGRpbmcteS1zbSB0ZXh0LWFsaWduLWNlbnRlciB0ZXh0LW92ZXJmbG93LWJyZWFrXCI+XG4gICAgICAgICAgICBQb3N0ZWQgYnkgPGI+e18udHJpbShgJHtfLmdldCh0aGlzLnN0YXRlLnByb2R1Y3REZXRhaWxzLCBbJ2NyZWF0ZWRCeS5uYW1lUHJlZml4J10pIHx8ICcnfSAke2dldFVzZXJOYW1lKF8uZ2V0KHRoaXMuc3RhdGUucHJvZHVjdERldGFpbHMsIFsnY3JlYXRlZEJ5J10pIHx8IHt9KSB8fCAnJ31gKX08L2I+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvTW9kYWw+XG4gICAgICA8L0xheW91dFYyID5cbiAgICApO1xuICB9XG59XG5cbmNvbnN0IG1hcFN0YXRlVG9Qcm9wcyA9IHN0YXRlID0+ICh7XG4gIHByb2R1Y3RzTGlzdDogc3RhdGUucHJvZHVjdHNMaXN0LFxuICBhcHA6IHN0YXRlLmFwcCxcbiAgY29tcGFyZTogc3RhdGUuY29tcGFyZSxcbiAgdXNlcjogc3RhdGUudXNlcixcbn0pO1xuXG5mdW5jdGlvbiBtYXBEaXNwYXRjaFRvUHJvcHMoZGlzcGF0Y2gpIHtcbiAgcmV0dXJuIGJpbmRBY3Rpb25DcmVhdG9ycyh7XG4gICAgdXBkYXRlQWN0aXZlSWRQcm9kdWN0TGlzdDogdXBkYXRlQWN0aXZlSWRQcm9kdWN0TGlzdCxcbiAgICBxdWlja1NlYXJjaFByb2R1Y3RzTGlzdDogcXVpY2tTZWFyY2hQcm9kdWN0c0xpc3QsXG5cbiAgICBzaG93Q29udGFjdExpc3Q6IHNob3dDb250YWN0TGlzdCxcbiAgICB1cGRhdGVBY3RpdmVNZW51OiB1cGRhdGVBY3RpdmVNZW51LFxuICAgIHNldFVzZXI6IHNldFVzZXIsXG4gICAgbG9hZGluZyxcblxuICB9LCBkaXNwYXRjaCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzLCBtYXBEaXNwYXRjaFRvUHJvcHMpKHdpdGhSb3V0ZXIoVmlld0NhckRldGFpbHNQYWdlKSk7XG4iXX0= */\\n/*@ sourceURL=/Users/faraheen/ccar-cms-next-mobile/components/product-list/page/ViewCarDetailsPage.jsx */\"), __jsx(Modal, {\n      closable: true,\n      visible: this.state.soldOutModalVisible,\n      onCancel: () => {\n        this.setState({\n          soldOutModalVisible: false\n        });\n      },\n      centered: true,\n      footer: null\n    }, __jsx(\"div\", {\n      className: \"jsx-2239707107\" + \" \" + \"padding-md flex-justify-center flex-items-align-center\"\n    }, __jsx(\"img\", {\n      src: soldOutIcon,\n      style: {\n        width: 200,\n        height: 200\n      },\n      className: \"jsx-2239707107\"\n    })), __jsx(\"div\", {\n      className: \"jsx-2239707107\" + \" \" + \"padding-y-sm h6 flex-justify-center flex-items-align-center\"\n    }, \"This car has been sold.\"), __jsx(\"div\", {\n      className: \"jsx-2239707107\" + \" \" + \"padding-y-sm flex-justify-center flex-items-align-center\"\n    }, __jsx(\"span\", {\n      className: \"jsx-2239707107\" + \" \" + 'd-inline-block width-50'\n    }, __jsx(Link, {\n      href: routePaths.dealerProfile.to || '/',\n      as: typeof routePaths.dealerProfile.as == 'function' ? routePaths.dealerProfile.as(_.get(this.state.productDetails, `createdBy`)) : '/'\n    }, __jsx(\"a\", {\n      className: \"jsx-2239707107\"\n    }, __jsx(Button, {\n      block: true,\n      className: \"black background-ccar-button-yellow\"\n    }, \"More Information\"))))), __jsx(\"div\", {\n      className: \"jsx-2239707107\" + \" \" + \"padding-y-sm text-align-center text-overflow-break\"\n    }, \"Posted by \", __jsx(\"b\", {\n      className: \"jsx-2239707107\"\n    }, _.trim(`${_.get(this.state.productDetails, ['createdBy.namePrefix']) || ''} ${getUserName(_.get(this.state.productDetails, ['createdBy']) || {}) || ''}`)))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  productsList: state.productsList,\n  app: state.app,\n  compare: state.compare,\n  user: state.user\n});\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators({\n    updateActiveIdProductList: updateActiveIdProductList,\n    quickSearchProductsList: quickSearchProductsList,\n    showContactList: showContactList,\n    updateActiveMenu: updateActiveMenu,\n    setUser: setUser,\n    loading\n  }, dispatch);\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(ViewCarDetailsPage));","map":{"version":3,"sources":["/Users/faraheen/ccar-cms-next-mobile/components/product-list/page/ViewCarDetailsPage.jsx"],"names":["DownOutlined","HeartOutlined","LeftOutlined","RightOutlined","UpOutlined","Breadcrumb","Button","Card","Col","Divider","Icon","Input","message","Modal","Row","Tooltip","Tabs","axios","_","moment","withRouter","React","connect","useMediaQuery","bindActionCreators","flame","soldOutIcon","loading","quickSearchProductsList","showContactList","updateActiveMenu","updateActiveIdProductList","calMonth","formatMoney","client","setUser","imageNotFoundIcon","LayoutV2","UserAvatar","AddCompareProductButton","CalculatorModal","Car360ViewButton","LightBoxGallery","convertParameterToProductListUrl","formatNumber","getUserName","notEmptyLength","SellerBusinessCard","WhatsAppButton","WhatsAppViewProduct","ContactList","Wishlist","ShareButtonDialog","ShareViewProduct","getStateIcon","RegisterCard","KeyCarDetails","KeyFeatures","Link","Description","Equipment","Specification","routePaths","flameRed","rayaFlame","rayaFood","rayaLamp","rayaMosque","rayaPeople","TextArea","adverImg","Div","props","childrenProps","show","TabPane","callback","key","console","log","ViewCarDetailsPage","Component","constructor","setState","state","e","scrollYPosition","window","scrollY","v","path","condition","router","push","make","toLowerCase","model","textTransform","priority","productDetails","isEmpty","carspecsAll","companys","registrationUrl","normalPrice","color","price","toString","marginLeft","renderShowPrice","discountedPrice","pattern","toFixed","replace","renderCountdown","endDate","duration","diff","days","Math","floor","asDays","daysFormatted","hours","minutes","hoursFormatted","minutesFormatted","formatCountdown","value","fixedPoint","isNaN","parseFloat","split","length","slice","forEach","range","addonKingadType","addonKingadType2","addonSpicydeal","showPrice","currentDateTime","format","addon","find","addonType","currentImg","data","contactList","visible","submitting","rating","dealerTotalAds","soldOutModalVisible","componentDidMount","get","UNSAFE_componentWillMount","typingTimeout","setTimeout","post","io","uri","params","adsId","_id","source","inputProductList","productAdsId","productList","then","res","componentDidUpdate","prevProps","prevState","addEventListener","handleScroll","passive","removeEventListener","isEqual","_renderImages","imgList","carUrl","map","i","onClickShow","url","dotScrollToBottom","plusOne","objDiv","document","getElementById","scrollTop","dotScrollToTop","minusOne","scrollHeight","scrollToLeftBtn","scrollToRightBtn","_renderImagesMobile","paddingRight","width","height","overflowX","padding","display","render","comments","stateName","userstate","createdBy","err","marginTop","touchAction","isArray","currentIndex","setCurrentIndex","setVisible","position","top","right","left","_renderCondition","_renderLayout","marginBottom","fontWeight","namePrefix","fullName","user","authenticated","info","border","error","success","type","name","title","_renderPrice","minWidth","background","xmlUrl","borderColor","downpayment","loanPeriod","interestRate","features","bottom","zIndex","backgroundColor","contactNoPrimary","dealerProfile","to","as","trim","mapStateToProps","productsList","app","compare","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import {\n  DownOutlined,\n  HeartOutlined,\n  LeftOutlined,\n  RightOutlined, UpOutlined\n} from '@ant-design/icons';\nimport { Breadcrumb, Button, Card, Col, Divider, Icon, Input, message, Modal, Row, Tooltip, Tabs } from 'antd';\nimport axios from 'axios';\nimport _ from 'lodash';\nimport moment from 'moment';\nimport { withRouter } from 'next/router';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { useMediaQuery } from 'react-responsive';\nimport { bindActionCreators } from \"redux\";\nimport { flame, soldOutIcon } from '../../../icon';\nimport { loading, quickSearchProductsList, showContactList, updateActiveMenu } from '../../../redux/actions/app-actions';\nimport { updateActiveIdProductList } from '../../../redux/actions/productsList-actions';\nimport { calMonth, formatMoney } from '../../../functionContent';\nimport client from '../../../feathers';\nimport { setUser } from '../../../redux/actions/user-actions';\nimport { imageNotFoundIcon } from '../../../params/common';\nimport LayoutV2 from '../../general/LayoutV2';\nimport UserAvatar from '../../general/UserAvatar';\nimport AddCompareProductButton from '../../general/add-compare-product-button';\nimport CalculatorModal from '../../general/calculator-modal';\nimport Car360ViewButton from '../../general/car-360-view-button';\nimport LightBoxGallery from '../../general/light-box-gallery';\nimport { convertParameterToProductListUrl, formatNumber, getUserName, notEmptyLength } from '../../../common-function';\nimport SellerBusinessCard from '../../seller/SellerBusinessCard';\nimport WhatsAppButton from '../../general/whatapps-button';\nimport WhatsAppViewProduct from '../../general/ws-button-product';\nimport ContactList from '../../general/contactList';\nimport Wishlist from '../../general/Wishlist';\nimport ShareButtonDialog from '../../general/ShareButtonDialog';\nimport ShareViewProduct from '../../general/share-view-product';\nimport { getStateIcon } from '../../../params/stateList';\nimport RegisterCard from '../../general/registerCard';\nimport KeyCarDetails from '../KeyCarDetails';\nimport KeyFeatures from '../key-features';\nimport Link from 'next/link';\nimport Description from '../Description';\nimport Equipment from '../equipment';\nimport Specification from '../specification';\nimport { routePaths } from '../../../route';\nimport { flameRed, rayaFlame, rayaFood, rayaLamp, rayaMosque, rayaPeople } from '../../../icon';\n\n\nconst { TextArea } = Input;\n\nconst adverImg = \"/advertisement.jpg\"\n\nconst Div = (props) => {\n  const childrenProps = { ...props };\n  delete childrenProps.show;\n  return <div {...childrenProps} />;\n};\n\nconst { TabPane } = Tabs;\nfunction callback(key) {\n    console.log(key);\n}  \n\nclass ViewCarDetailsPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentImg: 0,\n      productDetails: props.data || { condition: '', companys: {}, carspecsAll: {}, registrationUrl: {} },\n      show: true,\n      contactList: {},\n      visible: false,\n      submitting: false,\n      value: '',\n      rating: {\n      },\n      scrollYPosition: 0,\n      dealerTotalAds: 0,\n      window: {},\n      soldOutModalVisible: false,\n    }\n  }\n\n  componentDidMount() {\n    this.setState({\n      window: window,\n      soldOutModalVisible: _.get(this.state.productDetails, ['status']) == 'sold',\n    })\n  }\n\n  UNSAFE_componentWillMount() {\n    this.props.updateActiveMenu('2');\n    this.setState({\n\n      typingTimeout: setTimeout(() => {\n        axios.post(`${client.io.io.uri}processCTR`,\n          {\n            params: {\n              adsId: this.state.productDetails._id,\n              source: 'web',\n            }\n          })\n        let inputProductList = [{ productAdsId: this.state.productDetails._id }]\n        axios.post(`${client.io.io.uri}processImpression`,\n          {\n            params: {\n              productList: inputProductList,\n              source: 'web',\n            }\n          }).then((res) => { })\n\n\n      }, 3000)\n    })\n  }\n  componentDidUpdate(prevProps, prevState) {\n\n    if (typeof (window) != undefined) {\n      window.addEventListener('scroll', this.handleScroll, { passive: true });\n\n      return () => {\n\n        window.removeEventListener('scroll', this.handleScroll);\n      };\n    }\n\n    if (!_.isEqual(prevState.productDetails, this.state.productDetails)) {\n      if (_.get(this.state.productDetails, ['status']) == 'sold') {\n        this.setState({\n          soldOutModalVisible: true,\n        })\n      }\n    }\n\n\n  }\n\n  onClickShow = () => {\n    this.setState({\n      show: !this.state.show,\n    });\n  }\n\n  handleScroll = (e) => {\n    this.setState({\n      scrollYPosition: this.state.window.scrollY,\n    })\n\n  };\n\n  _renderImages() {\n    var imgList = this.state.productDetails.carUrl ?\n      this.state.productDetails.carUrl.map((v, i) => {\n        return (\n          <Row key={i}>\n            <Col span={24}>\n              <div className=\"dot-img\" onClick={() => { this.setState({ currentImg: i }); this.onClickShow() }}>\n                {this.state.currentImg === i ?\n                  <div className=\"dot-img-overlay\">\n                  </div> : null}\n                <img src={v.url} />\n              </div>\n            </Col>\n          </Row>\n        );\n      }) : '';\n\n    return (\n      <div className=\"wrap-dot-img\" id=\"wrap-dot-img\">\n        {imgList}\n      </div>\n    )\n  }\n\n\n  dotScrollToBottom() {\n    // this.onClickShow()\n    // const objDiv = document.getElementById(\"wrap-dot-img\");\n    // objDiv.scrollTop = objDiv.scrollTop + 30;\n    let plusOne = this.state.currentImg + 1\n    if (plusOne < this.state.productDetails.carUrl.length) {\n      this.onClickShow()\n      const objDiv = document.getElementById(\"wrap-dot-img\");\n      objDiv.scrollTop = objDiv.scrollTop + 30;\n      this.setState({ currentImg: plusOne })\n    } else {\n      this.onClickShow()\n      const objDiv = document.getElementById(\"wrap-dot-img\");\n      objDiv.scrollTop = 0;\n      this.setState({ currentImg: 0 })\n    }\n  }\n\n  dotScrollToTop() {\n    // this.onClickShow()\n    // const objDiv = document.getElementById(\"wrap-dot-img\");\n    // objDiv.scrollTop = objDiv.scrollTop - 30;\n    let minusOne = this.state.currentImg - 1\n    if (minusOne >= 0) {\n      this.onClickShow()\n      const objDiv = document.getElementById(\"wrap-dot-img\");\n      objDiv.scrollTop = objDiv.scrollTop - 30;\n      this.setState({ currentImg: this.state.currentImg - 1 })\n    } else {\n      this.onClickShow()\n      const objDiv = document.getElementById(\"wrap-dot-img\");\n      objDiv.scrollTop = objDiv.scrollHeight;\n      this.setState({ currentImg: this.state.productDetails.carUrl.length - 1 })\n    }\n  }\n\n  scrollToLeftBtn() {\n    let minusOne = this.state.currentImg - 1\n    if (minusOne >= 0) {\n      this.onClickShow()\n      const objDiv = document.getElementById(\"wrap-dot-img\");\n      objDiv.scrollTop = objDiv.scrollTop - 104;\n      this.setState({ currentImg: this.state.currentImg - 1 })\n    } else {\n      this.onClickShow()\n      const objDiv = document.getElementById(\"wrap-dot-img\");\n      objDiv.scrollTop = objDiv.scrollHeight;\n      this.setState({ currentImg: this.state.productDetails.carUrl.length - 1 })\n    }\n  }\n\n  scrollToRightBtn() {\n    let plusOne = this.state.currentImg + 1\n    if (plusOne < this.state.productDetails.carUrl.length) {\n      this.onClickShow()\n      const objDiv = document.getElementById(\"wrap-dot-img\");\n      objDiv.scrollTop = objDiv.scrollTop + 104;\n      this.setState({ currentImg: plusOne })\n    } else {\n      this.onClickShow()\n      const objDiv = document.getElementById(\"wrap-dot-img\");\n      objDiv.scrollTop = 0;\n      this.setState({ currentImg: 0 })\n    }\n  }\n\n  breadcrumbSearchCondition = (v) => {\n\n    let path = convertParameterToProductListUrl({ condition: v });\n    this.props.router.push(path);\n\n  }\n\n  breadcrumbSearchMake = (v) => {\n\n    let path = convertParameterToProductListUrl({ make: v.toLowerCase() });\n    this.props.router.push(path);\n  }\n\n  breadcrumbSearchModel = (v) => {\n\n    let path = convertParameterToProductListUrl({ model: v.toLowerCase() });\n    this.props.router.push(path);\n  }\n\n  _renderCondition = (v) => {\n    if (v.condition === 'new') {\n      return (\n        <div className=\"wrap-condition wrap-condition-new\">\n          <p style={{textTransform:'uppercase'}}>{v.condition}</p>\n        </div>\n      )\n    } else if (v.condition === 'used') {\n      return (\n        <div className=\"wrap-condition wrap-condition-used\">\n          <p style={{textTransform:'uppercase'}}>{v.condition}</p>\n        </div>\n      )\n    } else if (v.condition === 'recon') {\n      return (\n        <div className=\"wrap-condition wrap-condition-recon\">\n          <p style={{textTransform:'uppercase'}}>{v.condition}</p>\n        </div>\n      )\n    } else {\n      return (\n        <div className=\"wrap-condition wrap-condition-default\">\n          <p style={{textTransform:'uppercase'}}>{v.condition}</p>\n        </div>\n      )\n    }\n  }\n\n  _renderImagesMobile(){\n    var imgList = this.state.productDetails.carUrl ?\n    this.state.productDetails.carUrl.map((v, i) => {\n      return (\n          <span key={i} style={{paddingRight:'5px'}}>\n            <div onClick={() => { this.setState({ currentImg: i }); this.onClickShow() }}>\n              {/* {this.state.currentImg === i ?\n                <div className=\"dot-img-overlay\">\n                </div> \n                : null} */}\n              <img style={{width:'50px', height:'40px'}} src={v.url} />\n            </div>\n          </span>\n      );\n    }) : '';\n  return (\n    <div style={{overflowX:'scroll', padding:'5px'}}>\n      <div style={{display:'flex'}} className=\"wrap-dot-img-mobile\" id=\"wrap-dot-img-mobile\">\n        {imgList}\n      </div>\n    </div>\n  )\n}\n\n_renderLayout = (v) => { \n  if (!v.priority) { return ('wrap-product-detail') }\n  if (v.priority === 'addonSpotlight' || v.priority === 'addonKingadType3') { return ('wrap-product-detail-spotlight') }\n  else if (v.priority === 'addonSpicydeal' || v.priority === 'addonKingadType' || v.priority === 'addonKingadType2') { return ('wrap-product-detail-spicydeal') }\n  else { return ('wrap-product-detail')}\n}\n\n  _renderPrice = () => {\n\n    let v = this.state.productDetails\n\n    if (_.isEmpty(v) === true) { return }\n\n    if (_.isEmpty(v.carspecsAll) === true &&\n      _.isEmpty(v.companys) === true &&\n      _.isEmpty(v.condition) === true &&\n      _.isEmpty(v.registrationUrl) === true\n    ) { return }\n\n\n    let normalPrice =\n      (<div className=\"wrap-product-ads-price\">\n        <Row><Col xs={14} sm={14} md={16} lg={16} xl={16}><span style={{ color: '#20abcc' }} className='installmentPrice'>RM {formatMoney((calMonth(v.price)).toString())}/month</span></Col></Row>\n        <h4 style={{ marginLeft: '10px' }}>RM {formatMoney((v.price).toString())}</h4>\n      </div>)\n\n    function renderShowPrice(price, discountedPrice) {\n\n      const pattern = /\\.(\\d*?)0+(\\D*)$/gm;\n      return (\n        <div className=\"wrap-product-ads-price\">\n          <span style={{ color: '#000000' }} className='gridMoneyText'>RM {formatMoney((price).toString())}</span>\n          <span className=\"wrap-condition wrap-product-ads-discount-spicydeal\" >{(((100 * (price - discountedPrice) / price) * -1).toFixed(1).toString()).replace(pattern, '') + '%'}</span>\n          <h4 style={{color: '#d62828' }}>RM {formatMoney((discountedPrice).toString())}</h4>\n          <div className=\"wrap-product-ads-price\">\n            <Row><Col xs={14} sm={14} md={16} lg={16} xl={16}><span style={{ color: '#20abcc' }} className='installmentPrice'>RM {formatMoney((calMonth(discountedPrice)).toString())}/month</span></Col></Row>\n          </div>\n        </div>\n      )\n    }\n\n    function renderCountdown(endDate) {\n\n      const duration = moment.duration(moment(endDate).diff(moment()));\n      const days = Math.floor(duration.asDays());\n      const daysFormatted = days ? `${days}` : 0;\n      const hours = duration.hours();\n      const minutes = duration.minutes();\n      const hoursFormatted = hours ? `${hours}` : 0;\n      const minutesFormatted = minutes ? `${minutes}` : 0;\n\n      const formatCountdown = (value, fixedPoint) => {\n        if (value != null) {\n          if (isNaN(parseFloat(value))) {\n            return value;\n          } else {\n            value = value.toString().split('.');\n            if (value[0]) {\n              if (value[0].length > fixedPoint) {\n                value[0] = value[0].slice(value[0].length - fixedPoint);\n              }\n\n              if (value[0].length < fixedPoint) {\n                _.forEach(_.range(fixedPoint - value[0].length), function () {\n                  value[0] = '0' + value[0];\n                })\n              }\n              return value[0];\n            }\n            return value;\n          }\n        } else {\n          return value;\n        }\n      }\n\n\n      return (\n        <div className=\"wrap-product-ads-countdown-spicydeal\">\n          <span className='gridAddonMainText' style={{ marginLeft: '10px', color: '#000000' }} ><span>SuperDeal Ends in</span></span>\n          <Row>\n            <Col xs={14} sm={14} md={16} lg={16} xl={16}>\n              <p className='gridAddonDayHourSubText'>\n\n                <span style={{ color: '#000000' }} className='gridAddonDayHourText'>D </span>\n                <span className='gridAddonDayHour'>{formatCountdown(daysFormatted, 2)}</span>\n                <span style={{ color: '#000000' }} className='gridAddonDayHourText'> H </span>\n                <span className='gridAddonDayHour'>{formatCountdown(hoursFormatted, 2)}</span>\n                <span style={{ color: '#000000' }} className='gridAddonDayHourText'> M </span>\n                <span className='gridAddonDayHour'>{formatCountdown(minutesFormatted, 2)}</span>\n              </p>\n            </Col>\n          </Row>\n        </div>\n      )\n\n    }\n\n    if (v.priority === 'addonKingadType') { return renderShowPrice(v.price, v.addonKingadType.discountedPrice) }\n    else if (v.priority === 'addonKingadType2') { return renderCountdown(v.addonKingadType2.endDate) }\n    else if (v.priority === 'addonSpicydeal') {\n      if (v.addonSpicydeal.showPrice === 'show') { return renderShowPrice(v.price, v.addonSpicydeal.discountedPrice) }\n      if (v.addonSpicydeal.showPrice === 'hide') { return renderCountdown(v.addonSpicydeal.endDate) }\n    }\n    else { return (normalPrice) }\n  }\n\n  _renderPriceAffix = () => {\n    const currentDateTime = moment().format();\n    const addon = _.find(this.state.productDetails.addon, { 'addonType': 'spicydeal' });\n\n    if (addon) {\n      if (currentDateTime < addon.endDate) {\n        if (addon.addonType === 'spicydeal' && addon.showPrice === 'show') {\n          return (\n            <div className=\"wrap-viewProducts-price-affix\">\n              <label style={{ color: 'rgb(190,150,46)' }}>RM {formatMoney((addon.discountedPrice ? addon.discountedPrice : 0).toString())}</label>\n              <p>RM {formatMoney((calMonth(addon.discountedPrice ? addon.discountedPrice : 0)).toString())}/month</p>\n            </div>\n          )\n        } else if (addon.addonType === 'spicydeal' && addon.showPrice === 'hide') {\n          return (\n            <div className=\"wrap-viewProducts-price-affix\">\n\n            </div>\n          )\n        } else {\n          return (\n            <div className=\"wrap-viewProducts-price-affix\">\n              <label style={{ color: 'rgb(190,150,46)' }}>RM {formatMoney((this.state.productDetails.price ? this.state.productDetails.price : 0).toString())}</label>\n              <p>RM {formatMoney((calMonth(this.state.productDetails.price ? this.state.productDetails.price : 0)).toString())}/month</p>\n            </div>\n          )\n        }\n      } else {\n        return (\n          <div className=\"wrap-viewProducts-price-affix\">\n            <label style={{ color: 'rgb(190,150,46)' }}>RM {formatMoney((this.state.productDetails.price ? this.state.productDetails.price : 0).toString())}</label>\n            <p>RM {formatMoney((calMonth(this.state.productDetails.price ? this.state.productDetails.price : 0)).toString())}/month</p>\n          </div>\n        )\n      }\n    } else {\n      return (\n        <div className=\"wrap-viewProducts-price-affix\">\n          <label style={{ color: 'rgb(190,150,46)' }}>RM {formatMoney((this.state.productDetails.price ? this.state.productDetails.price : 0).toString())}</label>\n          <p>RM {formatMoney((calMonth(this.state.productDetails.price ? this.state.productDetails.price : 0)).toString())}/month</p>\n        </div>\n      )\n    }\n  }\n\n  render() {\n    const { comments, submitting, value } = this.state;\n    let stateName = getStateIcon(_.get(this.state.productDetails, ['companys', 'state']) || imageNotFoundIcon)\n    let userstate = _.get(this.state.productDetails, ['createdBy', 'userstate']) || ''\n    if (_.isEmpty(userstate) === false) { stateName = getStateIcon(userstate) || imageNotFoundIcon }\n\n    let contactList = []\n    try { contactList = this.state.productDetails.createdBy.contactList } catch (err) { contactList = [] }\n    if (!contactList) { contactList = [] }\n\n    return (\n      <LayoutV2 hideOpenApp>\n        \n        <div className=\"section\">\n          <div style={{marginTop:'30px', touchAction:'pan-y'}}>\n\n          <Tabs size=\"small\" defaultActiveKey=\"1\" onChange={callback}>\n            <TabPane tab=\"INFO\" key=\"1\">\n\n                <div className=\"relative-wrapper width-100\" style={{ height: '20em' }}>\n                  <LightBoxGallery\n                    images={_.isArray(_.get(this.state.productDetails, ['carUrl'])) && !_.isEmpty(_.get(this.state.productDetails, ['carUrl'])) ? _.map(_.get(this.state.productDetails, ['carUrl']) || [], 'url') : []}\n                    onChange={(currentIndex) => {\n                    this.setState({\n                      currentImg: currentIndex,\n                    })\n                  }}\n                    currentIndex={this.state.currentImg}\n                  >\n                  {\n                    (data, setCurrentIndex, setVisible) => {\n                      return (\n                        <div show={this.state.show} className=\"code-box-shape\" >\n                          <img className=\"fade-in cursor-pointer absolute-center-img-no-stretch\" onClick={() => { setVisible(true) }} id=\"my-element\" src={_.get(data, ['images', data.currentIndex])} alt={`${_.get(this.state.productDetails, 'carspec.make') || ''} ${_.get(this.state.productDetails, 'carspec.model') || ''} Image ${data.currentIndex + 1}`} />\n                        </div>\n                      )\n                    }\n                  }\n                  </LightBoxGallery>\n\n                  <img src={stateName} style={{ width: 60, height: '30px', position: 'absolute', top: 0, right: 0 }} alt={`${_.get(this.state.productDetails, ['companys', 'state']) || 'State Icon'}`} />\n                  <span className=\"d-inline-block width-20\" style={{ position: 'absolute', top: 0, left: 0 }} >\n                    {this._renderCondition(this.state.productDetails)}\n                  </span>\n\n                  <div className=\"logo-viewProduct\">\n                    {\n                      this.state.productDetails.priority === 'addonSpicydeal' || this.state.productDetails.priority === 'addonKingadType' || this.state.productDetails.priority === 'addonKingadType2' ?\n                        <img src={rayaFlame} style={{ width: 50, height: 50 }} />\n                      :\n                      this.state.productDetails.priority === 'addonSpotlight' || this.state.productDetails.priority === 'addonKingadType3' ?\n                        <img src={rayaFood} style={{ width: 50, height: 50 }} />\n                      :\n                        <img src=\"/assets/Ccar-Spotlight.gif\" style={{ width: 40, height: 40 }} />\n                    }\n                  </div>\n                  {\n                    _.get(this.state.productDetails, ['readyStock']) == 'Yes'\n                    ? <span className=\"text-align-right avatar background-green readyStockDot\"></span>\n                    : null\n                  }\n                </div>\n\n                <Row>\n                  <Col span={24}>\n                    {this._renderImagesMobile()}\n                  </Col>\n                </Row>\n\n                <div className={this._renderLayout(this.state.productDetails)}>\n                <Row className=\"padding-x-sm\">\n                  <Col span={24}>\n                      <span className=\"flex-items-align-center flex-justify-space-between\">\n                        <span className=\"d-inline-block flex-justify-start\">\n                        <p style={{marginBottom:'0px', fontWeight:'500', color:'#000000'}}> {this.state.productDetails.createdBy.namePrefix} {this.state.productDetails.createdBy.fullName}</p>\n                        </span>\n                        <span className=\"d-inline-block flex-justify-end\">\n                          <Wishlist type=\"product\" productId={this.state.productDetails._id} saverId={this.props.user.authenticated ? this.props.user.info.user._id : null}\n                            savedButton={\n                              () => <Button className=\"padding-x-sm\" style={{ border:'none', height: '16px' }}><Icon type=\"heart\" theme=\"filled\" style={{ color: '#F9A825' }} /> <span style={{ color: '#F9A825' }}>Saved</span></Button>\n                            }\n                            saveButton={\n                              () => <Button style={{ border:'none', height: '16px' }} className=\"padding-x-sm\" ><HeartOutlined /></Button>\n                            }\n                            handleError={(e) => { message.error(e.message) }}\n                            handleSuccess={(e) => { message.success(e.type === 'remove' ? 'Removed from wishlist' : 'Saved to wishlist') }}\n                          />\n                        </span>\n                      </span>\n                        <p style={{marginBottom:'0px', color:'#757575', fontWeight:'700'}}> {this.state.productDetails.companys.name}</p>\n                        <div className=\"text-truncate-twoline\">\n                            <h4 style={{ marginBottom: '0px'}}>\n                                {this.state.productDetails.title}\n                            </h4>\n                        </div>\n                    </Col>\n                  </Row>\n\n                <div>\n                    {\n                      this.state.productDetails.priority === 'addonSpicydeal' || this.state.productDetails.priority === 'addonKingadType' || this.state.productDetails.priority === 'addonKingadType2' ?\n                        <img src={rayaMosque}  style={{ width: 150, height: 150, position : 'absolute', top : 15 , right : 0}} />\n                        :\n                      this.state.productDetails.priority === 'addonSpotlight' || this.state.productDetails.priority === 'addonKingadType3' ?\n                        <img src={rayaPeople} style={{ width: 150, height: 150, position : 'absolute', top : 15 , right : 0 }} />\n                        :\n                      null\n                    }\n                  <div className=\"padding-x-sm\">\n                  <Row>\n                    <Col span={15} >\n                        {this._renderPrice()}\n                    </Col>\n\n                    <Col span={24} className=\"margin-top-md\">\n                        <span style={{minWidth:'50px'}} className=\"d-inline-block margin-xs\">\n                          <WhatsAppButton readOnly={_.get(this.state, 'productDetails.status') != 'approved'} mobileNumber={this.state.productDetails} />\n                        </span>\n                        <span style={{minWidth:'50px'}} className=\"d-inline-block margin-xs\">\n                          <ContactList companys={this.state.productDetails.companys} contactPerson={notEmptyLength(this.state.productDetails.createdBy) ? this.state.productDetails.createdBy : null} />\n                        </span>\n                        <span className=\"d-inline-block\">\n                        <AddCompareProductButton readOnly={_.get(this.state, 'productDetails.status') != 'approved'} data={this.state.productDetails} saveButton={() => {\n                            return (\n                              <Button type=\"normal\" className=\"padding-x-sm margin-xs ads-purchase-compare-btn\" style={{ minWidth: '50px' }}><img src=\"/assets/CarListingIconMobile/car-compare.png\" style={{ width: '25px', height: '25px' }} alt=\"compare\" /></Button>\n                            );\n                          }}\n                            savedButton={() => {\n                              return (\n                                <Button type=\"normal\" className=\"padding-x-sm margin-xs ads-purchase-button\" style={{ minWidth: '50px', background: 'rgb(89, 54, 26)' }}><img src=\"/assets/CarListingIconMobile/car-compare.png\" style={{ width: '25px', height: '25px' }} alt=\"compare\" /></Button>\n                              );\n                            }}\n                          />\n                        </span>\n                        <span className=\"d-inline-block\">\n                          <Car360ViewButton id={this.state.productDetails.xmlUrl ? this.state.productDetails._id : null} >\n                            <Button type=\"normal\" className={`padding-x-sm margin-xs ${this.state.productDetails.xmlUrl ? 'cursor-pointer' : 'cursor-not-allowed '}`} style={{ background: this.state.productDetails.xmlUrl ? 'rgb(85,204,212)' : 'rgb(237, 236, 234)', borderColor: this.state.productDetails.xmlUrl ? 'rgb(85,204,212)' : 'rgb(237, 236, 234)', minWidth: '50px' }}><img src=\"/assets/profile/icon-list/Ccar-360_1.gif\" style={{ width: '25px', height: '25px' }} alt=\"Car 360 View Icon\" /></Button>\n                          </Car360ViewButton>\n                        </span>\n                        <span className=\"d-inline-block\" style={{ width: '50px' }}>\n                        <RegisterCard key='register' button={\n                            [<Tooltip key='tooltipsregister' title=\"Registration Card\">\n                              <Button type=\"normal\"\n                                className={`w-100 ads-purchase-button margin-xs ${_.isArray(_.get(this.state.productDetails, ['registrationUrl'])) && !_.isEmpty(_.get(this.state.productDetails, ['registrationUrl'])) ? 'cursor-pointer' : 'cursor-not-allowed '}`}\n                                style={{ padding: 0, background: _.isArray(_.get(this.state.productDetails, ['registrationUrl'])) && !_.isEmpty(_.get(this.state.productDetails, ['registrationUrl'])) ? 'rgb(209 ,110, 132)' : 'rgb(237, 236, 234)', borderColor: _.isArray(_.get(this.state.productDetails, ['registrationUrl'])) && !_.isEmpty(_.get(this.state.productDetails, ['registrationUrl'])) ? 'rgb(209 ,110, 132)' : 'rgb(237, 236, 234)' }}>\n                                <img src=\"/assets/CarListingIconMobile/registration-card.png\" alt=\"Registration Card Icon\" /></Button></Tooltip>]\n                          } registrationUrl={this.state.productDetails.registrationUrl ? this.state.productDetails.registrationUrl : []} />\n                        </span>\n                        <span style={{minWidth:'50px'}} className=\"d-inline-block margin-xs\">\n                            <CalculatorModal data={{ price: this.state.productDetails.price, downpayment: this.state.productDetails.price * 0.1, loanPeriod: 9, interestRate: 3 }} />\n                        </span>\n                    </Col>\n                </Row>\n                \n                <div className=\"margin-top-md\">\n                    <KeyCarDetails productDetails={this.state.productDetails}/>  \n                </div>\n\n                {this.state.productDetails.features.length > 0 ?\n                <div className=\"margin-top-md\">\n                    <h4>Key Features</h4>\n                    <KeyFeatures productDetails={this.state.productDetails}/> \n                </div>\n                :\n                null}\n\n                <div className=\"padding-lg relative-wrapper\"> \n                    <SellerBusinessCard data={this.state.productDetails.companys} data1={this.state.productDetails.createdBy} /> \n                </div>\n              </div>\n              </div>\n              </div>\n\n          </TabPane>\n\n          <TabPane tab=\"SELLER'S COMMENT\" key=\"2\">\n                <Row gutter={[10, 10]} style={{marginTop:'10px'}}>\n                  <Col className=\"gutter-row\" xs={24} sm={24} md={24} lg={24} xl={24}>\n                    <Description productDetails={this.state.productDetails} />\n                  </Col>\n                </Row>\n            </TabPane> \n\n            <TabPane tab=\"EQUIPMENT\" key=\"3\">\n                <Row gutter={[10, 10]} style={{marginTop:'10px'}}>\n                  <Col className=\"gutter-row\" xs={24} sm={24} md={24} lg={24} xl={24}>\n                    <Equipment productDetails={this.state.productDetails} />\n                  </Col>\n                </Row>\n            </TabPane>\n\n            <TabPane tab=\"SPECIFICATION\" key=\"4\">\n                <Row gutter={[10, 10]} style={{marginTop:'10px'}}>\n                  <Col className=\"gutter-row\" xs={24} sm={24} md={24} lg={24} xl={24}>\n                    <Specification productDetails={this.state.productDetails} />\n                  </Col>\n                </Row>\n            </TabPane>\n\n          </Tabs>\n\n          </div>\n        </div>\n\n        <div className='width-100' style={{ position: '-webkit-sticky', position: 'sticky', bottom: 0, zIndex: 999999 }}>\n          <div className=\"background-white broder-top-grey thin-border padding-y-sm\">\n              <Row className=\"padding-top-sm fixed-container\" style={{ backgroundColor: '#ffffff' }}>\n                <Col xs={24} sm={24} md={24} lg={24} xl={24}>\n                  <span className='flex-items-align-center text-align-center' >\n                    <Col span={8}>\n                      {contactList.length > 0 \n                        ? \n                        <ContactList mobileResponsive='yes' companys={this.state.productDetails.companys} contactPerson={notEmptyLength(this.state.productDetails.createdBy) ? this.state.productDetails.createdBy : null} />\n                         :\n                        <a href={`tel:${this.state.productDetails.createdBy.contactNoPrimary}`}><img src=\"https://img.icons8.com/android/24/25D366/phone.png\" /></a>\n                      }\n                    </Col>\n                    <Col span={8}>\n                      <WhatsAppViewProduct mobileNumber={this.state.productDetails} />\n                    </Col>\n                    <Col span={8}>\n                      <ShareViewProduct title={`CCAR.my | ${this.state.productDetails.title}`} /> \n                    </Col>\n                  </span>\n                </Col>\n              </Row>\n          </div>\n        </div>\n\n        <style jsx=\"true\" global=\"true\">{`\n                `}</style>\n\n\n        <Modal\n          closable\n          visible={this.state.soldOutModalVisible}\n          onCancel={() => {\n            this.setState({\n              soldOutModalVisible: false,\n            })\n          }}\n          centered\n          footer={null}\n        >\n          <div className=\"padding-md flex-justify-center flex-items-align-center\">\n            <img src={soldOutIcon} style={{ width: 200, height: 200 }} />\n          </div>\n          <div className=\"padding-y-sm h6 flex-justify-center flex-items-align-center\">\n            This car has been sold.\n          </div>\n          <div className=\"padding-y-sm flex-justify-center flex-items-align-center\">\n            <span className='d-inline-block width-50' >\n              <Link href={routePaths.dealerProfile.to || '/'} as={typeof (routePaths.dealerProfile.as) == 'function' ? routePaths.dealerProfile.as(_.get(this.state.productDetails, `createdBy`)) : '/'} >\n                <a>\n                  <Button block className=\"black background-ccar-button-yellow\" >More Information</Button>\n                </a>\n              </Link>\n            </span>\n          </div>\n          <div className=\"padding-y-sm text-align-center text-overflow-break\">\n            Posted by <b>{_.trim(`${_.get(this.state.productDetails, ['createdBy.namePrefix']) || ''} ${getUserName(_.get(this.state.productDetails, ['createdBy']) || {}) || ''}`)}</b>\n          </div>\n        </Modal>\n      </LayoutV2 >\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  productsList: state.productsList,\n  app: state.app,\n  compare: state.compare,\n  user: state.user,\n});\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators({\n    updateActiveIdProductList: updateActiveIdProductList,\n    quickSearchProductsList: quickSearchProductsList,\n\n    showContactList: showContactList,\n    updateActiveMenu: updateActiveMenu,\n    setUser: setUser,\n    loading,\n\n  }, dispatch);\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(ViewCarDetailsPage));\n"]},"metadata":{},"sourceType":"module"}