{"ast":null,"code":"var _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport { Col, Form, Row } from 'antd';\nimport _ from 'lodash';\nimport React, { useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'next/router';\nimport { formatNumber, sortByDesc } from '../../common-function';\nimport CompanySummary from './CompanySummary';\nimport RatingProgress from './RatingProgress';\nRatingProgress;\n\nvar RatingBox = function RatingBox(props) {\n  _s();\n\n  var _useState = useState({}),\n      profile = _useState[0],\n      setProfile = _useState[1];\n\n  useEffect(function () {\n    if (_.isPlainObject(props.data) && !_.isEmpty(props.data)) {\n      setProfile(props.data);\n    } else {\n      setProfile({});\n    }\n  }, [props.data]);\n\n  var _renderRatingDetails = function _renderRatingDetails() {\n    try {\n      return __jsx(Row, {\n        gutter: [10, 10]\n      }, __jsx(Col, {\n        xs: 24,\n        sm: 24,\n        md: 24,\n        lg: 24,\n        xl: 24\n      }, __jsx(CompanySummary, {\n        rating: _.get(profile, ['avgRating'] || 0),\n        recommended: formatNumber(_.get(profile, ['recommendedRate']), null, true, 2, true) || 0 // chat={77}\n        ,\n        renderRating: function renderRating(rating) {\n          return __jsx(Col, {\n            xs: 24,\n            sm: 24,\n            md: 24,\n            lg: 24,\n            xl: 24\n          }, __jsx(\"div\", {\n            className: \"h5 font-weight-bold text-align-center\"\n          }, rating, __jsx(\"div\", {\n            className: \"headline   font-weight-normal\"\n          }, \"Rating\")));\n        },\n        renderRecommended: function renderRecommended(recommended) {\n          return _.get(profile, ['totalRecommended']) > 0 ? __jsx(Col, {\n            xs: 24,\n            sm: 24,\n            md: 24,\n            lg: 24,\n            xl: 24\n          }, __jsx(\"div\", {\n            className: \"h5 font-weight-bold text-align-center\"\n          }, (parseFloat(recommended) || 0) * 100, \"%\", __jsx(\"div\", {\n            className: \"headline   font-weight-normal\"\n          }, \"Recommended\"))) : null;\n        } // renderChat={\n        //     (chat) => {\n        //         return (\n        //             <Col xs={24} sm={24} md={24} lg={24} xl={24}>\n        //                 <div className=\"h5 font-weight-bold text-align-center\">\n        //                     {chat}\n        //                     <div className=\"headline   font-weight-normal\">Chat Response</div>\n        //                 </div>\n        //             </Col>\n        //         )\n        //     }\n        // }\n\n      })), __jsx(Col, {\n        xs: 24,\n        sm: 24,\n        md: 24,\n        lg: 24,\n        xl: 24\n      }, __jsx(RatingProgress, {\n        size: 5,\n        startFrom: 1,\n        data: sortByDesc(_.get(profile, ['ratingCategory']), 'label') || [],\n        total: _.get(profile, ['totalRating']) || 0,\n        className: \"fill-parent\"\n      })), __jsx(Col, {\n        xs: 0,\n        sm: 0,\n        md: 24,\n        lg: 24,\n        xl: 24\n      }, __jsx(\"div\", {\n        className: \"headline   text-align-center text-overflow-break\"\n      }, \"Based on \", _.get(profile, ['totalRating']) || 0, \" customer reviews\")));\n    } catch (e) {\n      return null;\n    }\n  };\n\n  return __jsx(\"div\", null, __jsx(\"div\", {\n    style: {\n      height: '30px'\n    },\n    className: \"background-ccar-yellow round-border-top flex-items-align-center padding-lg\"\n  }, __jsx(\"div\", {\n    className: \"headline   white font-weight-bold text-overflow-break\"\n  }, \"Seller Rating\")), __jsx(\"div\", {\n    style: {\n      backgroundColor: '#FFFFFF'\n    },\n    className: \"round-border-bottom flex-items-align-center padding-md\"\n  }, _renderRatingDetails()));\n};\n\n_s(RatingBox, \"0ULUAkRdNrz5da6TercyHvBxxxM=\");\n\n_c = RatingBox;\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    app: state.app,\n    user: state.user,\n    sellerProfile: state.sellerProfile\n  };\n};\n\nvar mapDispatchToProps = {};\nexport default connect(mapStateToProps, mapDispatchToProps)(Form.create()(withRouter(RatingBox)));\n\nvar _c;\n\n$RefreshReg$(_c, \"RatingBox\");","map":{"version":3,"sources":["/Users/faraheen/ccar-cms-next-mobile/components/profile/RatingBox.jsx"],"names":["Col","Form","Row","_","React","useEffect","useState","connect","withRouter","formatNumber","sortByDesc","CompanySummary","RatingProgress","RatingBox","props","profile","setProfile","isPlainObject","data","isEmpty","_renderRatingDetails","get","rating","recommended","parseFloat","e","height","backgroundColor","mapStateToProps","state","app","user","sellerProfile","mapDispatchToProps","create"],"mappings":";;;AAAA,SAASA,GAAT,EAAcC,IAAd,EAAoBC,GAApB,QAA+B,MAA/B;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,UAAT,QAA2B,aAA3B;AACA,SAASC,YAAT,EAAuBC,UAAvB,QAAyC,uBAAzC;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AAGAA,cAAc;;AACd,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAACC,KAAD,EAAW;AAAA;;AAEzB,kBAA8BR,QAAQ,CAAC,EAAD,CAAtC;AAAA,MAAOS,OAAP;AAAA,MAAgBC,UAAhB;;AAEAX,EAAAA,SAAS,CAAC,YAAM;AACZ,QAAIF,CAAC,CAACc,aAAF,CAAgBH,KAAK,CAACI,IAAtB,KAA+B,CAACf,CAAC,CAACgB,OAAF,CAAUL,KAAK,CAACI,IAAhB,CAApC,EAA2D;AACvDF,MAAAA,UAAU,CAACF,KAAK,CAACI,IAAP,CAAV;AACH,KAFD,MAEO;AACHF,MAAAA,UAAU,CAAC,EAAD,CAAV;AACH;AAEJ,GAPQ,EAON,CAACF,KAAK,CAACI,IAAP,CAPM,CAAT;;AAUA,MAAME,oBAAoB,GAAG,SAAvBA,oBAAuB,GAAM;AAC/B,QAAI;AACA,aACI,MAAC,GAAD;AAAK,QAAA,MAAM,EAAE,CAAC,EAAD,EAAK,EAAL;AAAb,SACI,MAAC,GAAD;AAAK,QAAA,EAAE,EAAE,EAAT;AAAa,QAAA,EAAE,EAAE,EAAjB;AAAqB,QAAA,EAAE,EAAE,EAAzB;AAA6B,QAAA,EAAE,EAAE,EAAjC;AAAqC,QAAA,EAAE,EAAE;AAAzC,SACI,MAAC,cAAD;AACI,QAAA,MAAM,EAAEjB,CAAC,CAACkB,GAAF,CAAMN,OAAN,EAAe,CAAC,WAAD,KAAiB,CAAhC,CADZ;AAEI,QAAA,WAAW,EAAEN,YAAY,CAACN,CAAC,CAACkB,GAAF,CAAMN,OAAN,EAAe,CAAC,iBAAD,CAAf,CAAD,EAAsC,IAAtC,EAA4C,IAA5C,EAAkD,CAAlD,EAAqD,IAArD,CAAZ,IAA0E,CAF3F,CAGI;AAHJ;AAII,QAAA,YAAY,EAAE,sBAACO,MAAD,EAAY;AACtB,iBACI,MAAC,GAAD;AAAK,YAAA,EAAE,EAAE,EAAT;AAAa,YAAA,EAAE,EAAE,EAAjB;AAAqB,YAAA,EAAE,EAAE,EAAzB;AAA6B,YAAA,EAAE,EAAE,EAAjC;AAAqC,YAAA,EAAE,EAAE;AAAzC,aACI;AAAK,YAAA,SAAS,EAAC;AAAf,aACKA,MADL,EAEI;AAAK,YAAA,SAAS,EAAC;AAAf,sBAFJ,CADJ,CADJ;AAQH,SAbL;AAcI,QAAA,iBAAiB,EACb,2BAACC,WAAD,EAAiB;AACb,iBACIpB,CAAC,CAACkB,GAAF,CAAMN,OAAN,EAAe,CAAC,kBAAD,CAAf,IAAuC,CAAvC,GACI,MAAC,GAAD;AAAK,YAAA,EAAE,EAAE,EAAT;AAAa,YAAA,EAAE,EAAE,EAAjB;AAAqB,YAAA,EAAE,EAAE,EAAzB;AAA6B,YAAA,EAAE,EAAE,EAAjC;AAAqC,YAAA,EAAE,EAAE;AAAzC,aACI;AAAK,YAAA,SAAS,EAAC;AAAf,aACK,CAACS,UAAU,CAACD,WAAD,CAAV,IAA2B,CAA5B,IAAiC,GADtC,OAEI;AAAK,YAAA,SAAS,EAAC;AAAf,2BAFJ,CADJ,CADJ,GAQI,IATR;AAWH,SA3BT,CA6BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAxCA,QADJ,CADJ,EA6CI,MAAC,GAAD;AAAK,QAAA,EAAE,EAAE,EAAT;AAAa,QAAA,EAAE,EAAE,EAAjB;AAAqB,QAAA,EAAE,EAAE,EAAzB;AAA6B,QAAA,EAAE,EAAE,EAAjC;AAAqC,QAAA,EAAE,EAAE;AAAzC,SACI,MAAC,cAAD;AACI,QAAA,IAAI,EAAE,CADV;AAEI,QAAA,SAAS,EAAE,CAFf;AAGI,QAAA,IAAI,EAAEb,UAAU,CAACP,CAAC,CAACkB,GAAF,CAAMN,OAAN,EAAe,CAAC,gBAAD,CAAf,CAAD,EAAqC,OAArC,CAAV,IAA2D,EAHrE;AAII,QAAA,KAAK,EAAEZ,CAAC,CAACkB,GAAF,CAAMN,OAAN,EAAe,CAAC,aAAD,CAAf,KAAmC,CAJ9C;AAKI,QAAA,SAAS,EAAC;AALd,QADJ,CA7CJ,EAqDI,MAAC,GAAD;AAAK,QAAA,EAAE,EAAE,CAAT;AAAY,QAAA,EAAE,EAAE,CAAhB;AAAmB,QAAA,EAAE,EAAE,EAAvB;AAA2B,QAAA,EAAE,EAAE,EAA/B;AAAmC,QAAA,EAAE,EAAE;AAAvC,SACI;AAAK,QAAA,SAAS,EAAC;AAAf,sBACcZ,CAAC,CAACkB,GAAF,CAAMN,OAAN,EAAe,CAAC,aAAD,CAAf,KAAmC,CADjD,sBADJ,CArDJ,CADJ;AA6DH,KA9DD,CA+DA,OAAOU,CAAP,EAAU;AACN,aAAO,IAAP;AACH;AACJ,GAnED;;AAqEA,SACI,mBACI;AAAK,IAAA,KAAK,EAAE;AAAEC,MAAAA,MAAM,EAAE;AAAV,KAAZ;AAAgC,IAAA,SAAS,EAAC;AAA1C,KACI;AAAK,IAAA,SAAS,EAAC;AAAf,qBADJ,CADJ,EAMI;AAAK,IAAA,KAAK,EAAE;AAAEC,MAAAA,eAAe,EAAE;AAAnB,KAAZ;AAA4C,IAAA,SAAS,EAAC;AAAtD,KACKP,oBAAoB,EADzB,CANJ,CADJ;AAYH,CA/FD;;GAAMP,S;;KAAAA,S;;AAkGN,IAAMe,eAAe,GAAG,SAAlBA,eAAkB,CAAAC,KAAK;AAAA,SAAK;AAC9BC,IAAAA,GAAG,EAAED,KAAK,CAACC,GADmB;AAE9BC,IAAAA,IAAI,EAAEF,KAAK,CAACE,IAFkB;AAG9BC,IAAAA,aAAa,EAAEH,KAAK,CAACG;AAHS,GAAL;AAAA,CAA7B;;AAMA,IAAMC,kBAAkB,GAAG,EAA3B;AAEA,eAAe1B,OAAO,CAACqB,eAAD,EAAkBK,kBAAlB,CAAP,CAA6ChC,IAAI,CAACiC,MAAL,GAAc1B,UAAU,CAACK,SAAD,CAAxB,CAA7C,CAAf","sourcesContent":["import { Col, Form, Row } from 'antd';\nimport _ from 'lodash';\nimport React, { useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'next/router';\nimport { formatNumber, sortByDesc } from '../../common-function';\nimport CompanySummary from './CompanySummary';\nimport RatingProgress from './RatingProgress';\n\n\nRatingProgress\nconst RatingBox = (props) => {\n\n    const [profile, setProfile] = useState({})\n\n    useEffect(() => {\n        if (_.isPlainObject(props.data) && !_.isEmpty(props.data)) {\n            setProfile(props.data);\n        } else {\n            setProfile({});\n        }\n\n    }, [props.data])\n\n\n    const _renderRatingDetails = () => {\n        try {\n            return (\n                <Row gutter={[10, 10]}>\n                    <Col xs={24} sm={24} md={24} lg={24} xl={24}>\n                        <CompanySummary\n                            rating={_.get(profile, ['avgRating'] || 0)}\n                            recommended={formatNumber(_.get(profile, ['recommendedRate']), null, true, 2, true) || 0}\n                            // chat={77}\n                            renderRating={(rating) => {\n                                return (\n                                    <Col xs={24} sm={24} md={24} lg={24} xl={24}>\n                                        <div className=\"h5 font-weight-bold text-align-center\">\n                                            {rating}\n                                            <div className=\"headline   font-weight-normal\">Rating</div>\n                                        </div>\n                                    </Col>\n                                )\n                            }}\n                            renderRecommended={\n                                (recommended) => {\n                                    return (\n                                        _.get(profile, ['totalRecommended']) > 0 ?\n                                            <Col xs={24} sm={24} md={24} lg={24} xl={24}>\n                                                <div className=\"h5 font-weight-bold text-align-center\">\n                                                    {(parseFloat(recommended) || 0) * 100}%\n                                                    <div className=\"headline   font-weight-normal\">Recommended</div>\n                                                </div>\n                                            </Col>\n                                            :\n                                            null\n                                    )\n                                }\n                            }\n                        // renderChat={\n                        //     (chat) => {\n                        //         return (\n                        //             <Col xs={24} sm={24} md={24} lg={24} xl={24}>\n                        //                 <div className=\"h5 font-weight-bold text-align-center\">\n                        //                     {chat}\n                        //                     <div className=\"headline   font-weight-normal\">Chat Response</div>\n                        //                 </div>\n                        //             </Col>\n                        //         )\n                        //     }\n                        // }\n                        />\n                    </Col>\n                    <Col xs={24} sm={24} md={24} lg={24} xl={24}>\n                        <RatingProgress\n                            size={5}\n                            startFrom={1}\n                            data={sortByDesc(_.get(profile, ['ratingCategory']), 'label') || []}\n                            total={_.get(profile, ['totalRating']) || 0}\n                            className=\"fill-parent\" />\n                    </Col>\n                    <Col xs={0} sm={0} md={24} lg={24} xl={24}>\n                        <div className=\"headline   text-align-center text-overflow-break\">\n                            Based on {_.get(profile, ['totalRating']) || 0} customer reviews\n                            </div>\n                    </Col>\n                </Row>\n            )\n        }\n        catch (e) {\n            return null;\n        }\n    }\n\n    return (\n        <div>\n            <div style={{ height: '30px' }} className=\"background-ccar-yellow round-border-top flex-items-align-center padding-lg\">\n                <div className=\"headline   white font-weight-bold text-overflow-break\">\n                    Seller Rating\n                </div>\n            </div>\n            <div style={{ backgroundColor: '#FFFFFF' }} className=\"round-border-bottom flex-items-align-center padding-md\">\n                {_renderRatingDetails()}\n            </div>\n        </div>\n    );\n}\n\n\nconst mapStateToProps = state => ({\n    app: state.app,\n    user: state.user,\n    sellerProfile: state.sellerProfile,\n});\n\nconst mapDispatchToProps = {\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Form.create()(withRouter(RatingBox)));"]},"metadata":{},"sourceType":"module"}